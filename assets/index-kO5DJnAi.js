(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Ax(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Lx(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var of={exports:{}},Po={},lf={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function Sb(){if(dy)return ze;dy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function b(I){return I===null||typeof I!="object"?null:(I=m&&I[m]||I["@@iterator"],typeof I=="function"?I:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function S(I,G,Ne){this.props=I,this.context=G,this.refs=E,this.updater=Ne||w}S.prototype.isReactComponent={},S.prototype.setState=function(I,G){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,G,"setState")},S.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function v(){}v.prototype=S.prototype;function C(I,G,Ne){this.props=I,this.context=G,this.refs=E,this.updater=Ne||w}var N=C.prototype=new v;N.constructor=C,x(N,S.prototype),N.isPureReactComponent=!0;var T=Array.isArray,M=Object.prototype.hasOwnProperty,P={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function A(I,G,Ne){var Oe,Le={},_e=null,Ve=null;if(G!=null)for(Oe in G.ref!==void 0&&(Ve=G.ref),G.key!==void 0&&(_e=""+G.key),G)M.call(G,Oe)&&!R.hasOwnProperty(Oe)&&(Le[Oe]=G[Oe]);var te=arguments.length-2;if(te===1)Le.children=Ne;else if(1<te){for(var ae=Array(te),Re=0;Re<te;Re++)ae[Re]=arguments[Re+2];Le.children=ae}if(I&&I.defaultProps)for(Oe in te=I.defaultProps,te)Le[Oe]===void 0&&(Le[Oe]=te[Oe]);return{$$typeof:n,type:I,key:_e,ref:Ve,props:Le,_owner:P.current}}function L(I,G){return{$$typeof:n,type:I.type,key:G,ref:I.ref,props:I.props,_owner:I._owner}}function q(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function J(I){var G={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Ne){return G[Ne]})}var U=/\/+/g;function ce(I,G){return typeof I=="object"&&I!==null&&I.key!=null?J(""+I.key):G.toString(36)}function fe(I,G,Ne,Oe,Le){var _e=typeof I;(_e==="undefined"||_e==="boolean")&&(I=null);var Ve=!1;if(I===null)Ve=!0;else switch(_e){case"string":case"number":Ve=!0;break;case"object":switch(I.$$typeof){case n:case e:Ve=!0}}if(Ve)return Ve=I,Le=Le(Ve),I=Oe===""?"."+ce(Ve,0):Oe,T(Le)?(Ne="",I!=null&&(Ne=I.replace(U,"$&/")+"/"),fe(Le,G,Ne,"",function(Re){return Re})):Le!=null&&(q(Le)&&(Le=L(Le,Ne+(!Le.key||Ve&&Ve.key===Le.key?"":(""+Le.key).replace(U,"$&/")+"/")+I)),G.push(Le)),1;if(Ve=0,Oe=Oe===""?".":Oe+":",T(I))for(var te=0;te<I.length;te++){_e=I[te];var ae=Oe+ce(_e,te);Ve+=fe(_e,G,Ne,ae,Le)}else if(ae=b(I),typeof ae=="function")for(I=ae.call(I),te=0;!(_e=I.next()).done;)_e=_e.value,ae=Oe+ce(_e,te++),Ve+=fe(_e,G,Ne,ae,Le);else if(_e==="object")throw G=String(I),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Ve}function be(I,G,Ne){if(I==null)return I;var Oe=[],Le=0;return fe(I,Oe,"","",function(_e){return G.call(Ne,_e,Le++)}),Oe}function pe(I){if(I._status===-1){var G=I._result;G=G(),G.then(function(Ne){(I._status===0||I._status===-1)&&(I._status=1,I._result=Ne)},function(Ne){(I._status===0||I._status===-1)&&(I._status=2,I._result=Ne)}),I._status===-1&&(I._status=0,I._result=G)}if(I._status===1)return I._result.default;throw I._result}var de={current:null},X={transition:null},se={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:X,ReactCurrentOwner:P};function re(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:be,forEach:function(I,G,Ne){be(I,function(){G.apply(this,arguments)},Ne)},count:function(I){var G=0;return be(I,function(){G++}),G},toArray:function(I){return be(I,function(G){return G})||[]},only:function(I){if(!q(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},ze.Component=S,ze.Fragment=t,ze.Profiler=i,ze.PureComponent=C,ze.StrictMode=r,ze.Suspense=d,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,ze.act=re,ze.cloneElement=function(I,G,Ne){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var Oe=x({},I.props),Le=I.key,_e=I.ref,Ve=I._owner;if(G!=null){if(G.ref!==void 0&&(_e=G.ref,Ve=P.current),G.key!==void 0&&(Le=""+G.key),I.type&&I.type.defaultProps)var te=I.type.defaultProps;for(ae in G)M.call(G,ae)&&!R.hasOwnProperty(ae)&&(Oe[ae]=G[ae]===void 0&&te!==void 0?te[ae]:G[ae])}var ae=arguments.length-2;if(ae===1)Oe.children=Ne;else if(1<ae){te=Array(ae);for(var Re=0;Re<ae;Re++)te[Re]=arguments[Re+2];Oe.children=te}return{$$typeof:n,type:I.type,key:Le,ref:_e,props:Oe,_owner:Ve}},ze.createContext=function(I){return I={$$typeof:a,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:o,_context:I},I.Consumer=I},ze.createElement=A,ze.createFactory=function(I){var G=A.bind(null,I);return G.type=I,G},ze.createRef=function(){return{current:null}},ze.forwardRef=function(I){return{$$typeof:u,render:I}},ze.isValidElement=q,ze.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:pe}},ze.memo=function(I,G){return{$$typeof:f,type:I,compare:G===void 0?null:G}},ze.startTransition=function(I){var G=X.transition;X.transition={};try{I()}finally{X.transition=G}},ze.unstable_act=re,ze.useCallback=function(I,G){return de.current.useCallback(I,G)},ze.useContext=function(I){return de.current.useContext(I)},ze.useDebugValue=function(){},ze.useDeferredValue=function(I){return de.current.useDeferredValue(I)},ze.useEffect=function(I,G){return de.current.useEffect(I,G)},ze.useId=function(){return de.current.useId()},ze.useImperativeHandle=function(I,G,Ne){return de.current.useImperativeHandle(I,G,Ne)},ze.useInsertionEffect=function(I,G){return de.current.useInsertionEffect(I,G)},ze.useLayoutEffect=function(I,G){return de.current.useLayoutEffect(I,G)},ze.useMemo=function(I,G){return de.current.useMemo(I,G)},ze.useReducer=function(I,G,Ne){return de.current.useReducer(I,G,Ne)},ze.useRef=function(I){return de.current.useRef(I)},ze.useState=function(I){return de.current.useState(I)},ze.useSyncExternalStore=function(I,G,Ne){return de.current.useSyncExternalStore(I,G,Ne)},ze.useTransition=function(){return de.current.useTransition()},ze.version="18.3.1",ze}var fy;function tn(){return fy||(fy=1,lf.exports=Sb()),lf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function bb(){if(hy)return Po;hy=1;var n=tn(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(u,d,f){var p,m={},b=null,w=null;f!==void 0&&(b=""+f),d.key!==void 0&&(b=""+d.key),d.ref!==void 0&&(w=d.ref);for(p in d)r.call(d,p)&&!o.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:u,key:b,ref:w,props:m,_owner:i.current}}return Po.Fragment=t,Po.jsx=a,Po.jsxs=a,Po}var py;function kb(){return py||(py=1,of.exports=bb()),of.exports}var y=kb(),D=tn();const $t=Ax(D);var ja={},af={exports:{}},Qt={},uf={exports:{}},cf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function Cb(){return my||(my=1,function(n){function e(X,se){var re=X.length;X.push(se);e:for(;0<re;){var I=re-1>>>1,G=X[I];if(0<i(G,se))X[I]=se,X[re]=G,re=I;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var se=X[0],re=X.pop();if(re!==se){X[0]=re;e:for(var I=0,G=X.length,Ne=G>>>1;I<Ne;){var Oe=2*(I+1)-1,Le=X[Oe],_e=Oe+1,Ve=X[_e];if(0>i(Le,re))_e<G&&0>i(Ve,Le)?(X[I]=Ve,X[_e]=re,I=_e):(X[I]=Le,X[Oe]=re,I=Oe);else if(_e<G&&0>i(Ve,re))X[I]=Ve,X[_e]=re,I=_e;else break e}}return se}function i(X,se){var re=X.sortIndex-se.sortIndex;return re!==0?re:X.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var d=[],f=[],p=1,m=null,b=3,w=!1,x=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(X){for(var se=t(f);se!==null;){if(se.callback===null)r(f);else if(se.startTime<=X)r(f),se.sortIndex=se.expirationTime,e(d,se);else break;se=t(f)}}function T(X){if(E=!1,N(X),!x)if(t(d)!==null)x=!0,pe(M);else{var se=t(f);se!==null&&de(T,se.startTime-X)}}function M(X,se){x=!1,E&&(E=!1,v(A),A=-1),w=!0;var re=b;try{for(N(se),m=t(d);m!==null&&(!(m.expirationTime>se)||X&&!J());){var I=m.callback;if(typeof I=="function"){m.callback=null,b=m.priorityLevel;var G=I(m.expirationTime<=se);se=n.unstable_now(),typeof G=="function"?m.callback=G:m===t(d)&&r(d),N(se)}else r(d);m=t(d)}if(m!==null)var Ne=!0;else{var Oe=t(f);Oe!==null&&de(T,Oe.startTime-se),Ne=!1}return Ne}finally{m=null,b=re,w=!1}}var P=!1,R=null,A=-1,L=5,q=-1;function J(){return!(n.unstable_now()-q<L)}function U(){if(R!==null){var X=n.unstable_now();q=X;var se=!0;try{se=R(!0,X)}finally{se?ce():(P=!1,R=null)}}else P=!1}var ce;if(typeof C=="function")ce=function(){C(U)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,be=fe.port2;fe.port1.onmessage=U,ce=function(){be.postMessage(null)}}else ce=function(){S(U,0)};function pe(X){R=X,P||(P=!0,ce())}function de(X,se){A=S(function(){X(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){x||w||(x=!0,pe(M))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(X){switch(b){case 1:case 2:case 3:var se=3;break;default:se=b}var re=b;b=se;try{return X()}finally{b=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var re=b;b=X;try{return se()}finally{b=re}},n.unstable_scheduleCallback=function(X,se,re){var I=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?I+re:I):re=I,X){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=re+G,X={id:p++,callback:se,priorityLevel:X,startTime:re,expirationTime:G,sortIndex:-1},re>I?(X.sortIndex=re,e(f,X),t(d)===null&&X===t(f)&&(E?(v(A),A=-1):E=!0,de(T,re-I))):(X.sortIndex=G,e(d,X),x||w||(x=!0,pe(M))),X},n.unstable_shouldYield=J,n.unstable_wrapCallback=function(X){var se=b;return function(){var re=b;b=se;try{return X.apply(this,arguments)}finally{b=re}}}}(cf)),cf}var gy;function Eb(){return gy||(gy=1,uf.exports=Cb()),uf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function Nb(){if(yy)return Qt;yy=1;var n=tn(),e=Eb();function t(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,l){a(s,l),a(s+"Capture",l)}function a(s,l){for(i[s]=l,s=0;s<l.length;s++)r.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function b(s){return d.call(m,s)?!0:d.call(p,s)?!1:f.test(s)?m[s]=!0:(p[s]=!0,!1)}function w(s,l,c,h){if(c!==null&&c.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function x(s,l,c,h){if(l===null||typeof l>"u"||w(s,l,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function E(s,l,c,h,g,k,O){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=l,this.sanitizeURL=k,this.removeEmptyString=O}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];S[l]=new E(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function C(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(v,C);S[l]=new E(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(v,C);S[l]=new E(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(v,C);S[l]=new E(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,l,c,h){var g=S.hasOwnProperty(l)?S[l]:null;(g!==null?g.type!==0:h||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(x(l,c,g,h)&&(c=null),h||g===null?b(l)&&(c===null?s.removeAttribute(l):s.setAttribute(l,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(l=g.attributeName,h=g.attributeNamespace,c===null?s.removeAttribute(l):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?s.setAttributeNS(h,l,c):s.setAttribute(l,c))))}var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),P=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),J=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),X=Symbol.iterator;function se(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var re=Object.assign,I;function G(s){if(I===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);I=l&&l[1]||""}return`
`+I+s}var Ne=!1;function Oe(s,l){if(!s||Ne)return"";Ne=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(W){var h=W}Reflect.construct(s,[],l)}else{try{l.call()}catch(W){h=W}s.call(l.prototype)}else{try{throw Error()}catch(W){h=W}s()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var g=W.stack.split(`
`),k=h.stack.split(`
`),O=g.length-1,j=k.length-1;1<=O&&0<=j&&g[O]!==k[j];)j--;for(;1<=O&&0<=j;O--,j--)if(g[O]!==k[j]){if(O!==1||j!==1)do if(O--,j--,0>j||g[O]!==k[j]){var z=`
`+g[O].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=O&&0<=j);break}}}finally{Ne=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?G(s):""}function Le(s){switch(s.tag){case 5:return G(s.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return s=Oe(s.type,!1),s;case 11:return s=Oe(s.type.render,!1),s;case 1:return s=Oe(s.type,!0),s;default:return""}}function _e(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case P:return"Portal";case L:return"Profiler";case A:return"StrictMode";case ce:return"Suspense";case fe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case J:return(s.displayName||"Context")+".Consumer";case q:return(s._context.displayName||"Context")+".Provider";case U:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case be:return l=s.displayName||null,l!==null?l:_e(s.type)||"Memo";case pe:l=s._payload,s=s._init;try{return _e(s(l))}catch{}}return null}function Ve(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(l);case 8:return l===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function te(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ae(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Re(s){var l=ae(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),h=""+s[l];if(!s.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,k=c.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return g.call(this)},set:function(O){h=""+O,k.call(this,O)}}),Object.defineProperty(s,l,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(O){h=""+O},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function B(s){s._valueTracker||(s._valueTracker=Re(s))}function F(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var c=l.getValue(),h="";return s&&(h=ae(s)?s.checked?"true":"false":s.value),s=h,s!==c?(l.setValue(s),!0):!1}function V(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Z(s,l){var c=l.checked;return re({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function xe(s,l){var c=l.defaultValue==null?"":l.defaultValue,h=l.checked!=null?l.checked:l.defaultChecked;c=te(l.value!=null?l.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function oe(s,l){l=l.checked,l!=null&&N(s,"checked",l,!1)}function Se(s,l){oe(s,l);var c=te(l.value),h=l.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?Me(s,l.type,c):l.hasOwnProperty("defaultValue")&&Me(s,l.type,te(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function we(s,l,c){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var h=l.type;if(!(h!=="submit"&&h!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,c||l===s.value||(s.value=l),s.defaultValue=l}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Me(s,l,c){(l!=="number"||V(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var He=Array.isArray;function qt(s,l,c,h){if(s=s.options,l){l={};for(var g=0;g<c.length;g++)l["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=l.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+te(c),l=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}l!==null||s[g].disabled||(l=s[g])}l!==null&&(l.selected=!0)}}function Rt(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ot(s,l){var c=l.value;if(c==null){if(c=l.children,l=l.defaultValue,c!=null){if(l!=null)throw Error(t(92));if(He(c)){if(1<c.length)throw Error(t(93));c=c[0]}l=c}l==null&&(l=""),c=l}s._wrapperState={initialValue:te(c)}}function Yn(s,l){var c=te(l.value),h=te(l.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),l.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function ci(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function Vi(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Us(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?Vi(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var dn,Ep=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,c,h,g){MSApp.execUnsafeLocalFunction(function(){return s(l,c,h,g)})}:s}(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(dn=dn||document.createElement("div"),dn.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=dn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function qs(s,l){if(l){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=l;return}}s.textContent=l}var Gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nw=["Webkit","ms","Moz","O"];Object.keys(Gs).forEach(function(s){Nw.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Gs[l]=Gs[s]})});function Np(s,l,c){return l==null||typeof l=="boolean"||l===""?"":c||typeof l!="number"||l===0||Gs.hasOwnProperty(s)&&Gs[s]?(""+l).trim():l+"px"}function Op(s,l){s=s.style;for(var c in l)if(l.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=Np(c,l[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,g):s[c]=g}}var Ow=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yc(s,l){if(l){if(Ow[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function xc(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vc=null;function wc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Sc=null,Ui=null,qi=null;function Mp(s){if(s=go(s)){if(typeof Sc!="function")throw Error(t(280));var l=s.stateNode;l&&(l=Kl(l),Sc(s.stateNode,s.type,l))}}function Tp(s){Ui?qi?qi.push(s):qi=[s]:Ui=s}function Rp(){if(Ui){var s=Ui,l=qi;if(qi=Ui=null,Mp(s),l)for(s=0;s<l.length;s++)Mp(l[s])}}function Pp(s,l){return s(l)}function Dp(){}var bc=!1;function jp(s,l,c){if(bc)return s(l,c);bc=!0;try{return Pp(s,l,c)}finally{bc=!1,(Ui!==null||qi!==null)&&(Dp(),Rp())}}function Ks(s,l){var c=s.stateNode;if(c===null)return null;var h=Kl(c);if(h===null)return null;c=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,l,typeof c));return c}var kc=!1;if(u)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){kc=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{kc=!1}function Mw(s,l,c,h,g,k,O,j,z){var W=Array.prototype.slice.call(arguments,3);try{l.apply(c,W)}catch(Y){this.onError(Y)}}var Ys=!1,Nl=null,Ol=!1,Cc=null,Tw={onError:function(s){Ys=!0,Nl=s}};function Rw(s,l,c,h,g,k,O,j,z){Ys=!1,Nl=null,Mw.apply(Tw,arguments)}function Pw(s,l,c,h,g,k,O,j,z){if(Rw.apply(this,arguments),Ys){if(Ys){var W=Nl;Ys=!1,Nl=null}else throw Error(t(198));Ol||(Ol=!0,Cc=W)}}function di(s){var l=s,c=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,l.flags&4098&&(c=l.return),s=l.return;while(s)}return l.tag===3?c:null}function Ap(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function Lp(s){if(di(s)!==s)throw Error(t(188))}function Dw(s){var l=s.alternate;if(!l){if(l=di(s),l===null)throw Error(t(188));return l!==s?null:s}for(var c=s,h=l;;){var g=c.return;if(g===null)break;var k=g.alternate;if(k===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===k.child){for(k=g.child;k;){if(k===c)return Lp(g),s;if(k===h)return Lp(g),l;k=k.sibling}throw Error(t(188))}if(c.return!==h.return)c=g,h=k;else{for(var O=!1,j=g.child;j;){if(j===c){O=!0,c=g,h=k;break}if(j===h){O=!0,h=g,c=k;break}j=j.sibling}if(!O){for(j=k.child;j;){if(j===c){O=!0,c=k,h=g;break}if(j===h){O=!0,h=k,c=g;break}j=j.sibling}if(!O)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:l}function Ip(s){return s=Dw(s),s!==null?zp(s):null}function zp(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=zp(s);if(l!==null)return l;s=s.sibling}return null}var _p=e.unstable_scheduleCallback,Bp=e.unstable_cancelCallback,jw=e.unstable_shouldYield,Aw=e.unstable_requestPaint,lt=e.unstable_now,Lw=e.unstable_getCurrentPriorityLevel,Ec=e.unstable_ImmediatePriority,Fp=e.unstable_UserBlockingPriority,Ml=e.unstable_NormalPriority,Iw=e.unstable_LowPriority,$p=e.unstable_IdlePriority,Tl=null,zn=null;function zw(s){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Tl,s,void 0,(s.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:Fw,_w=Math.log,Bw=Math.LN2;function Fw(s){return s>>>=0,s===0?32:31-(_w(s)/Bw|0)|0}var Rl=64,Pl=4194304;function Xs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Dl(s,l){var c=s.pendingLanes;if(c===0)return 0;var h=0,g=s.suspendedLanes,k=s.pingedLanes,O=c&268435455;if(O!==0){var j=O&~g;j!==0?h=Xs(j):(k&=O,k!==0&&(h=Xs(k)))}else O=c&~g,O!==0?h=Xs(O):k!==0&&(h=Xs(k));if(h===0)return 0;if(l!==0&&l!==h&&!(l&g)&&(g=h&-h,k=l&-l,g>=k||g===16&&(k&4194240)!==0))return l;if(h&4&&(h|=c&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=h;0<l;)c=31-Cn(l),g=1<<c,h|=s[c],l&=~g;return h}function $w(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hw(s,l){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,k=s.pendingLanes;0<k;){var O=31-Cn(k),j=1<<O,z=g[O];z===-1?(!(j&c)||j&h)&&(g[O]=$w(j,l)):z<=l&&(s.expiredLanes|=j),k&=~j}}function Nc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Hp(){var s=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),s}function Oc(s){for(var l=[],c=0;31>c;c++)l.push(s);return l}function Qs(s,l,c){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-Cn(l),s[l]=c}function Ww(s,l){var c=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-Cn(c),k=1<<g;l[g]=0,h[g]=-1,s[g]=-1,c&=~k}}function Mc(s,l){var c=s.entangledLanes|=l;for(s=s.entanglements;c;){var h=31-Cn(c),g=1<<h;g&l|s[h]&l&&(s[h]|=l),c&=~g}}var Ue=0;function Wp(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Vp,Tc,Up,qp,Gp,Rc=!1,jl=[],xr=null,vr=null,wr=null,Zs=new Map,eo=new Map,Sr=[],Vw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kp(s,l){switch(s){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Zs.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(l.pointerId)}}function to(s,l,c,h,g,k){return s===null||s.nativeEvent!==k?(s={blockedOn:l,domEventName:c,eventSystemFlags:h,nativeEvent:k,targetContainers:[g]},l!==null&&(l=go(l),l!==null&&Tc(l)),s):(s.eventSystemFlags|=h,l=s.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),s)}function Uw(s,l,c,h,g){switch(l){case"focusin":return xr=to(xr,s,l,c,h,g),!0;case"dragenter":return vr=to(vr,s,l,c,h,g),!0;case"mouseover":return wr=to(wr,s,l,c,h,g),!0;case"pointerover":var k=g.pointerId;return Zs.set(k,to(Zs.get(k)||null,s,l,c,h,g)),!0;case"gotpointercapture":return k=g.pointerId,eo.set(k,to(eo.get(k)||null,s,l,c,h,g)),!0}return!1}function Jp(s){var l=fi(s.target);if(l!==null){var c=di(l);if(c!==null){if(l=c.tag,l===13){if(l=Ap(c),l!==null){s.blockedOn=l,Gp(s.priority,function(){Up(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Al(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var c=Dc(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);vc=h,c.target.dispatchEvent(h),vc=null}else return l=go(c),l!==null&&Tc(l),s.blockedOn=c,!1;l.shift()}return!0}function Yp(s,l,c){Al(s)&&c.delete(l)}function qw(){Rc=!1,xr!==null&&Al(xr)&&(xr=null),vr!==null&&Al(vr)&&(vr=null),wr!==null&&Al(wr)&&(wr=null),Zs.forEach(Yp),eo.forEach(Yp)}function no(s,l){s.blockedOn===l&&(s.blockedOn=null,Rc||(Rc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qw)))}function ro(s){function l(g){return no(g,s)}if(0<jl.length){no(jl[0],s);for(var c=1;c<jl.length;c++){var h=jl[c];h.blockedOn===s&&(h.blockedOn=null)}}for(xr!==null&&no(xr,s),vr!==null&&no(vr,s),wr!==null&&no(wr,s),Zs.forEach(l),eo.forEach(l),c=0;c<Sr.length;c++)h=Sr[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Sr.length&&(c=Sr[0],c.blockedOn===null);)Jp(c),c.blockedOn===null&&Sr.shift()}var Gi=T.ReactCurrentBatchConfig,Ll=!0;function Gw(s,l,c,h){var g=Ue,k=Gi.transition;Gi.transition=null;try{Ue=1,Pc(s,l,c,h)}finally{Ue=g,Gi.transition=k}}function Kw(s,l,c,h){var g=Ue,k=Gi.transition;Gi.transition=null;try{Ue=4,Pc(s,l,c,h)}finally{Ue=g,Gi.transition=k}}function Pc(s,l,c,h){if(Ll){var g=Dc(s,l,c,h);if(g===null)Jc(s,l,h,Il,c),Kp(s,h);else if(Uw(g,s,l,c,h))h.stopPropagation();else if(Kp(s,h),l&4&&-1<Vw.indexOf(s)){for(;g!==null;){var k=go(g);if(k!==null&&Vp(k),k=Dc(s,l,c,h),k===null&&Jc(s,l,h,Il,c),k===g)break;g=k}g!==null&&h.stopPropagation()}else Jc(s,l,h,null,c)}}var Il=null;function Dc(s,l,c,h){if(Il=null,s=wc(h),s=fi(s),s!==null)if(l=di(s),l===null)s=null;else if(c=l.tag,c===13){if(s=Ap(l),s!==null)return s;s=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return Il=s,null}function Xp(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lw()){case Ec:return 1;case Fp:return 4;case Ml:case Iw:return 16;case $p:return 536870912;default:return 16}default:return 16}}var br=null,jc=null,zl=null;function Qp(){if(zl)return zl;var s,l=jc,c=l.length,h,g="value"in br?br.value:br.textContent,k=g.length;for(s=0;s<c&&l[s]===g[s];s++);var O=c-s;for(h=1;h<=O&&l[c-h]===g[k-h];h++);return zl=g.slice(s,1<h?1-h:void 0)}function _l(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Bl(){return!0}function Zp(){return!1}function rn(s){function l(c,h,g,k,O){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=k,this.target=O,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(c=s[j],this[j]=c?c(k):k[j]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Bl:Zp,this.isPropagationStopped=Zp,this}return re(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),l}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=rn(Ki),io=re({},Ki,{view:0,detail:0}),Jw=rn(io),Lc,Ic,so,Fl=re({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_c,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==so&&(so&&s.type==="mousemove"?(Lc=s.screenX-so.screenX,Ic=s.screenY-so.screenY):Ic=Lc=0,so=s),Lc)},movementY:function(s){return"movementY"in s?s.movementY:Ic}}),em=rn(Fl),Yw=re({},Fl,{dataTransfer:0}),Xw=rn(Yw),Qw=re({},io,{relatedTarget:0}),zc=rn(Qw),Zw=re({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),eS=rn(Zw),tS=re({},Ki,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),nS=rn(tS),rS=re({},Ki,{data:0}),tm=rn(rS),iS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lS(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=oS[s])?!!l[s]:!1}function _c(){return lS}var aS=re({},io,{key:function(s){if(s.key){var l=iS[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=_l(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?sS[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_c,charCode:function(s){return s.type==="keypress"?_l(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_l(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),uS=rn(aS),cS=re({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nm=rn(cS),dS=re({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_c}),fS=rn(dS),hS=re({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),pS=rn(hS),mS=re({},Fl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),gS=rn(mS),yS=[9,13,27,32],Bc=u&&"CompositionEvent"in window,oo=null;u&&"documentMode"in document&&(oo=document.documentMode);var xS=u&&"TextEvent"in window&&!oo,rm=u&&(!Bc||oo&&8<oo&&11>=oo),im=" ",sm=!1;function om(s,l){switch(s){case"keyup":return yS.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ji=!1;function vS(s,l){switch(s){case"compositionend":return lm(l);case"keypress":return l.which!==32?null:(sm=!0,im);case"textInput":return s=l.data,s===im&&sm?null:s;default:return null}}function wS(s,l){if(Ji)return s==="compositionend"||!Bc&&om(s,l)?(s=Qp(),zl=jc=br=null,Ji=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return rm&&l.locale!=="ko"?null:l.data;default:return null}}var SS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function am(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!SS[s.type]:l==="textarea"}function um(s,l,c,h){Tp(h),l=Ul(l,"onChange"),0<l.length&&(c=new Ac("onChange","change",null,c,h),s.push({event:c,listeners:l}))}var lo=null,ao=null;function bS(s){Om(s,0)}function $l(s){var l=es(s);if(F(l))return s}function kS(s,l){if(s==="change")return l}var cm=!1;if(u){var Fc;if(u){var $c="oninput"in document;if(!$c){var dm=document.createElement("div");dm.setAttribute("oninput","return;"),$c=typeof dm.oninput=="function"}Fc=$c}else Fc=!1;cm=Fc&&(!document.documentMode||9<document.documentMode)}function fm(){lo&&(lo.detachEvent("onpropertychange",hm),ao=lo=null)}function hm(s){if(s.propertyName==="value"&&$l(ao)){var l=[];um(l,ao,s,wc(s)),jp(bS,l)}}function CS(s,l,c){s==="focusin"?(fm(),lo=l,ao=c,lo.attachEvent("onpropertychange",hm)):s==="focusout"&&fm()}function ES(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return $l(ao)}function NS(s,l){if(s==="click")return $l(l)}function OS(s,l){if(s==="input"||s==="change")return $l(l)}function MS(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var En=typeof Object.is=="function"?Object.is:MS;function uo(s,l){if(En(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var c=Object.keys(s),h=Object.keys(l);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!d.call(l,g)||!En(s[g],l[g]))return!1}return!0}function pm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function mm(s,l){var c=pm(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=l&&h>=l)return{node:c,offset:l-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=pm(c)}}function gm(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?gm(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function ym(){for(var s=window,l=V();l instanceof s.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)s=l.contentWindow;else break;l=V(s.document)}return l}function Hc(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function TS(s){var l=ym(),c=s.focusedElem,h=s.selectionRange;if(l!==c&&c&&c.ownerDocument&&gm(c.ownerDocument.documentElement,c)){if(h!==null&&Hc(c)){if(l=h.start,s=h.end,s===void 0&&(s=l),"selectionStart"in c)c.selectionStart=l,c.selectionEnd=Math.min(s,c.value.length);else if(s=(l=c.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,k=Math.min(h.start,g);h=h.end===void 0?k:Math.min(h.end,g),!s.extend&&k>h&&(g=h,h=k,k=g),g=mm(c,k);var O=mm(c,h);g&&O&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==O.node||s.focusOffset!==O.offset)&&(l=l.createRange(),l.setStart(g.node,g.offset),s.removeAllRanges(),k>h?(s.addRange(l),s.extend(O.node,O.offset)):(l.setEnd(O.node,O.offset),s.addRange(l)))}}for(l=[],s=c;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<l.length;c++)s=l[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var RS=u&&"documentMode"in document&&11>=document.documentMode,Yi=null,Wc=null,co=null,Vc=!1;function xm(s,l,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Vc||Yi==null||Yi!==V(h)||(h=Yi,"selectionStart"in h&&Hc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),co&&uo(co,h)||(co=h,h=Ul(Wc,"onSelect"),0<h.length&&(l=new Ac("onSelect","select",null,l,c),s.push({event:l,listeners:h}),l.target=Yi)))}function Hl(s,l){var c={};return c[s.toLowerCase()]=l.toLowerCase(),c["Webkit"+s]="webkit"+l,c["Moz"+s]="moz"+l,c}var Xi={animationend:Hl("Animation","AnimationEnd"),animationiteration:Hl("Animation","AnimationIteration"),animationstart:Hl("Animation","AnimationStart"),transitionend:Hl("Transition","TransitionEnd")},Uc={},vm={};u&&(vm=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function Wl(s){if(Uc[s])return Uc[s];if(!Xi[s])return s;var l=Xi[s],c;for(c in l)if(l.hasOwnProperty(c)&&c in vm)return Uc[s]=l[c];return s}var wm=Wl("animationend"),Sm=Wl("animationiteration"),bm=Wl("animationstart"),km=Wl("transitionend"),Cm=new Map,Em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(s,l){Cm.set(s,l),o(l,[s])}for(var qc=0;qc<Em.length;qc++){var Gc=Em[qc],PS=Gc.toLowerCase(),DS=Gc[0].toUpperCase()+Gc.slice(1);kr(PS,"on"+DS)}kr(wm,"onAnimationEnd"),kr(Sm,"onAnimationIteration"),kr(bm,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(km,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jS=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function Nm(s,l,c){var h=s.type||"unknown-event";s.currentTarget=c,Pw(h,l,void 0,s),s.currentTarget=null}function Om(s,l){l=(l&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;e:{var k=void 0;if(l)for(var O=h.length-1;0<=O;O--){var j=h[O],z=j.instance,W=j.currentTarget;if(j=j.listener,z!==k&&g.isPropagationStopped())break e;Nm(g,j,W),k=z}else for(O=0;O<h.length;O++){if(j=h[O],z=j.instance,W=j.currentTarget,j=j.listener,z!==k&&g.isPropagationStopped())break e;Nm(g,j,W),k=z}}}if(Ol)throw s=Cc,Ol=!1,Cc=null,s}function Je(s,l){var c=l[td];c===void 0&&(c=l[td]=new Set);var h=s+"__bubble";c.has(h)||(Mm(l,s,2,!1),c.add(h))}function Kc(s,l,c){var h=0;l&&(h|=4),Mm(c,s,h,l)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function ho(s){if(!s[Vl]){s[Vl]=!0,r.forEach(function(c){c!=="selectionchange"&&(jS.has(c)||Kc(c,!1,s),Kc(c,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Vl]||(l[Vl]=!0,Kc("selectionchange",!1,l))}}function Mm(s,l,c,h){switch(Xp(l)){case 1:var g=Gw;break;case 4:g=Kw;break;default:g=Pc}c=g.bind(null,l,c,s),g=void 0,!kc||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(l,c,{capture:!0,passive:g}):s.addEventListener(l,c,!0):g!==void 0?s.addEventListener(l,c,{passive:g}):s.addEventListener(l,c,!1)}function Jc(s,l,c,h,g){var k=h;if(!(l&1)&&!(l&2)&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var j=h.stateNode.containerInfo;if(j===g||j.nodeType===8&&j.parentNode===g)break;if(O===4)for(O=h.return;O!==null;){var z=O.tag;if((z===3||z===4)&&(z=O.stateNode.containerInfo,z===g||z.nodeType===8&&z.parentNode===g))return;O=O.return}for(;j!==null;){if(O=fi(j),O===null)return;if(z=O.tag,z===5||z===6){h=k=O;continue e}j=j.parentNode}}h=h.return}jp(function(){var W=k,Y=wc(c),ee=[];e:{var K=Cm.get(s);if(K!==void 0){var ue=Ac,me=s;switch(s){case"keypress":if(_l(c)===0)break e;case"keydown":case"keyup":ue=uS;break;case"focusin":me="focus",ue=zc;break;case"focusout":me="blur",ue=zc;break;case"beforeblur":case"afterblur":ue=zc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Xw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=fS;break;case wm:case Sm:case bm:ue=eS;break;case km:ue=pS;break;case"scroll":ue=Jw;break;case"wheel":ue=gS;break;case"copy":case"cut":case"paste":ue=nS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=nm}var ye=(l&4)!==0,at=!ye&&s==="scroll",$=ye?K!==null?K+"Capture":null:K;ye=[];for(var _=W,H;_!==null;){H=_;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,$!==null&&(ie=Ks(_,$),ie!=null&&ye.push(po(_,ie,H)))),at)break;_=_.return}0<ye.length&&(K=new ue(K,me,null,c,Y),ee.push({event:K,listeners:ye}))}}if(!(l&7)){e:{if(K=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",K&&c!==vc&&(me=c.relatedTarget||c.fromElement)&&(fi(me)||me[Xn]))break e;if((ue||K)&&(K=Y.window===Y?Y:(K=Y.ownerDocument)?K.defaultView||K.parentWindow:window,ue?(me=c.relatedTarget||c.toElement,ue=W,me=me?fi(me):null,me!==null&&(at=di(me),me!==at||me.tag!==5&&me.tag!==6)&&(me=null)):(ue=null,me=W),ue!==me)){if(ye=em,ie="onMouseLeave",$="onMouseEnter",_="mouse",(s==="pointerout"||s==="pointerover")&&(ye=nm,ie="onPointerLeave",$="onPointerEnter",_="pointer"),at=ue==null?K:es(ue),H=me==null?K:es(me),K=new ye(ie,_+"leave",ue,c,Y),K.target=at,K.relatedTarget=H,ie=null,fi(Y)===W&&(ye=new ye($,_+"enter",me,c,Y),ye.target=H,ye.relatedTarget=at,ie=ye),at=ie,ue&&me)t:{for(ye=ue,$=me,_=0,H=ye;H;H=Qi(H))_++;for(H=0,ie=$;ie;ie=Qi(ie))H++;for(;0<_-H;)ye=Qi(ye),_--;for(;0<H-_;)$=Qi($),H--;for(;_--;){if(ye===$||$!==null&&ye===$.alternate)break t;ye=Qi(ye),$=Qi($)}ye=null}else ye=null;ue!==null&&Tm(ee,K,ue,ye,!1),me!==null&&at!==null&&Tm(ee,at,me,ye,!0)}}e:{if(K=W?es(W):window,ue=K.nodeName&&K.nodeName.toLowerCase(),ue==="select"||ue==="input"&&K.type==="file")var ve=kS;else if(am(K))if(cm)ve=OS;else{ve=ES;var ke=CS}else(ue=K.nodeName)&&ue.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(ve=NS);if(ve&&(ve=ve(s,W))){um(ee,ve,c,Y);break e}ke&&ke(s,K,W),s==="focusout"&&(ke=K._wrapperState)&&ke.controlled&&K.type==="number"&&Me(K,"number",K.value)}switch(ke=W?es(W):window,s){case"focusin":(am(ke)||ke.contentEditable==="true")&&(Yi=ke,Wc=W,co=null);break;case"focusout":co=Wc=Yi=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,xm(ee,c,Y);break;case"selectionchange":if(RS)break;case"keydown":case"keyup":xm(ee,c,Y)}var Ce;if(Bc)e:{switch(s){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ji?om(s,c)&&(Te="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Te="onCompositionStart");Te&&(rm&&c.locale!=="ko"&&(Ji||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ji&&(Ce=Qp()):(br=Y,jc="value"in br?br.value:br.textContent,Ji=!0)),ke=Ul(W,Te),0<ke.length&&(Te=new tm(Te,s,null,c,Y),ee.push({event:Te,listeners:ke}),Ce?Te.data=Ce:(Ce=lm(c),Ce!==null&&(Te.data=Ce)))),(Ce=xS?vS(s,c):wS(s,c))&&(W=Ul(W,"onBeforeInput"),0<W.length&&(Y=new tm("onBeforeInput","beforeinput",null,c,Y),ee.push({event:Y,listeners:W}),Y.data=Ce))}Om(ee,l)})}function po(s,l,c){return{instance:s,listener:l,currentTarget:c}}function Ul(s,l){for(var c=l+"Capture",h=[];s!==null;){var g=s,k=g.stateNode;g.tag===5&&k!==null&&(g=k,k=Ks(s,c),k!=null&&h.unshift(po(s,k,g)),k=Ks(s,l),k!=null&&h.push(po(s,k,g))),s=s.return}return h}function Qi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Tm(s,l,c,h,g){for(var k=l._reactName,O=[];c!==null&&c!==h;){var j=c,z=j.alternate,W=j.stateNode;if(z!==null&&z===h)break;j.tag===5&&W!==null&&(j=W,g?(z=Ks(c,k),z!=null&&O.unshift(po(c,z,j))):g||(z=Ks(c,k),z!=null&&O.push(po(c,z,j)))),c=c.return}O.length!==0&&s.push({event:l,listeners:O})}var AS=/\r\n?/g,LS=/\u0000|\uFFFD/g;function Rm(s){return(typeof s=="string"?s:""+s).replace(AS,`
`).replace(LS,"")}function ql(s,l,c){if(l=Rm(l),Rm(s)!==l&&c)throw Error(t(425))}function Gl(){}var Yc=null,Xc=null;function Qc(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Zc=typeof setTimeout=="function"?setTimeout:void 0,IS=typeof clearTimeout=="function"?clearTimeout:void 0,Pm=typeof Promise=="function"?Promise:void 0,zS=typeof queueMicrotask=="function"?queueMicrotask:typeof Pm<"u"?function(s){return Pm.resolve(null).then(s).catch(_S)}:Zc;function _S(s){setTimeout(function(){throw s})}function ed(s,l){var c=l,h=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){s.removeChild(g),ro(l);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);ro(l)}function Cr(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function Dm(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return s;l--}else c==="/$"&&l++}s=s.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),_n="__reactFiber$"+Zi,mo="__reactProps$"+Zi,Xn="__reactContainer$"+Zi,td="__reactEvents$"+Zi,BS="__reactListeners$"+Zi,FS="__reactHandles$"+Zi;function fi(s){var l=s[_n];if(l)return l;for(var c=s.parentNode;c;){if(l=c[Xn]||c[_n]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(s=Dm(s);s!==null;){if(c=s[_n])return c;s=Dm(s)}return l}s=c,c=s.parentNode}return null}function go(s){return s=s[_n]||s[Xn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function es(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Kl(s){return s[mo]||null}var nd=[],ts=-1;function Er(s){return{current:s}}function Ye(s){0>ts||(s.current=nd[ts],nd[ts]=null,ts--)}function Ke(s,l){ts++,nd[ts]=s.current,s.current=l}var Nr={},Pt=Er(Nr),Gt=Er(!1),hi=Nr;function ns(s,l){var c=s.type.contextTypes;if(!c)return Nr;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===l)return h.__reactInternalMemoizedMaskedChildContext;var g={},k;for(k in c)g[k]=l[k];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=g),g}function Kt(s){return s=s.childContextTypes,s!=null}function Jl(){Ye(Gt),Ye(Pt)}function jm(s,l,c){if(Pt.current!==Nr)throw Error(t(168));Ke(Pt,l),Ke(Gt,c)}function Am(s,l,c){var h=s.stateNode;if(l=l.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in l))throw Error(t(108,Ve(s)||"Unknown",g));return re({},c,h)}function Yl(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Nr,hi=Pt.current,Ke(Pt,s),Ke(Gt,Gt.current),!0}function Lm(s,l,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=Am(s,l,hi),h.__reactInternalMemoizedMergedChildContext=s,Ye(Gt),Ye(Pt),Ke(Pt,s)):Ye(Gt),Ke(Gt,c)}var Qn=null,Xl=!1,rd=!1;function Im(s){Qn===null?Qn=[s]:Qn.push(s)}function $S(s){Xl=!0,Im(s)}function Or(){if(!rd&&Qn!==null){rd=!0;var s=0,l=Ue;try{var c=Qn;for(Ue=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}Qn=null,Xl=!1}catch(g){throw Qn!==null&&(Qn=Qn.slice(s+1)),_p(Ec,Or),g}finally{Ue=l,rd=!1}}return null}var rs=[],is=0,Ql=null,Zl=0,fn=[],hn=0,pi=null,Zn=1,er="";function mi(s,l){rs[is++]=Zl,rs[is++]=Ql,Ql=s,Zl=l}function zm(s,l,c){fn[hn++]=Zn,fn[hn++]=er,fn[hn++]=pi,pi=s;var h=Zn;s=er;var g=32-Cn(h)-1;h&=~(1<<g),c+=1;var k=32-Cn(l)+g;if(30<k){var O=g-g%5;k=(h&(1<<O)-1).toString(32),h>>=O,g-=O,Zn=1<<32-Cn(l)+g|c<<g|h,er=k+s}else Zn=1<<k|c<<g|h,er=s}function id(s){s.return!==null&&(mi(s,1),zm(s,1,0))}function sd(s){for(;s===Ql;)Ql=rs[--is],rs[is]=null,Zl=rs[--is],rs[is]=null;for(;s===pi;)pi=fn[--hn],fn[hn]=null,er=fn[--hn],fn[hn]=null,Zn=fn[--hn],fn[hn]=null}var sn=null,on=null,Ze=!1,Nn=null;function _m(s,l){var c=yn(5,null,null,0);c.elementType="DELETED",c.stateNode=l,c.return=s,l=s.deletions,l===null?(s.deletions=[c],s.flags|=16):l.push(c)}function Bm(s,l){switch(s.tag){case 5:var c=s.type;return l=l.nodeType!==1||c.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,sn=s,on=Cr(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,sn=s,on=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(c=pi!==null?{id:Zn,overflow:er}:null,s.memoizedState={dehydrated:l,treeContext:c,retryLane:1073741824},c=yn(18,null,null,0),c.stateNode=l,c.return=s,s.child=c,sn=s,on=null,!0):!1;default:return!1}}function od(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ld(s){if(Ze){var l=on;if(l){var c=l;if(!Bm(s,l)){if(od(s))throw Error(t(418));l=Cr(c.nextSibling);var h=sn;l&&Bm(s,l)?_m(h,c):(s.flags=s.flags&-4097|2,Ze=!1,sn=s)}}else{if(od(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ze=!1,sn=s}}}function Fm(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;sn=s}function ea(s){if(s!==sn)return!1;if(!Ze)return Fm(s),Ze=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!Qc(s.type,s.memoizedProps)),l&&(l=on)){if(od(s))throw $m(),Error(t(418));for(;l;)_m(s,l),l=Cr(l.nextSibling)}if(Fm(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(l===0){on=Cr(s.nextSibling);break e}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++}s=s.nextSibling}on=null}}else on=sn?Cr(s.stateNode.nextSibling):null;return!0}function $m(){for(var s=on;s;)s=Cr(s.nextSibling)}function ss(){on=sn=null,Ze=!1}function ad(s){Nn===null?Nn=[s]:Nn.push(s)}var HS=T.ReactCurrentBatchConfig;function yo(s,l,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var g=h,k=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(O){var j=g.refs;O===null?delete j[k]:j[k]=O},l._stringRef=k,l)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function ta(s,l){throw s=Object.prototype.toString.call(l),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function Hm(s){var l=s._init;return l(s._payload)}function Wm(s){function l($,_){if(s){var H=$.deletions;H===null?($.deletions=[_],$.flags|=16):H.push(_)}}function c($,_){if(!s)return null;for(;_!==null;)l($,_),_=_.sibling;return null}function h($,_){for($=new Map;_!==null;)_.key!==null?$.set(_.key,_):$.set(_.index,_),_=_.sibling;return $}function g($,_){return $=Lr($,_),$.index=0,$.sibling=null,$}function k($,_,H){return $.index=H,s?(H=$.alternate,H!==null?(H=H.index,H<_?($.flags|=2,_):H):($.flags|=2,_)):($.flags|=1048576,_)}function O($){return s&&$.alternate===null&&($.flags|=2),$}function j($,_,H,ie){return _===null||_.tag!==6?(_=Zd(H,$.mode,ie),_.return=$,_):(_=g(_,H),_.return=$,_)}function z($,_,H,ie){var ve=H.type;return ve===R?Y($,_,H.props.children,ie,H.key):_!==null&&(_.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===pe&&Hm(ve)===_.type)?(ie=g(_,H.props),ie.ref=yo($,_,H),ie.return=$,ie):(ie=Ea(H.type,H.key,H.props,null,$.mode,ie),ie.ref=yo($,_,H),ie.return=$,ie)}function W($,_,H,ie){return _===null||_.tag!==4||_.stateNode.containerInfo!==H.containerInfo||_.stateNode.implementation!==H.implementation?(_=ef(H,$.mode,ie),_.return=$,_):(_=g(_,H.children||[]),_.return=$,_)}function Y($,_,H,ie,ve){return _===null||_.tag!==7?(_=ki(H,$.mode,ie,ve),_.return=$,_):(_=g(_,H),_.return=$,_)}function ee($,_,H){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Zd(""+_,$.mode,H),_.return=$,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case M:return H=Ea(_.type,_.key,_.props,null,$.mode,H),H.ref=yo($,null,_),H.return=$,H;case P:return _=ef(_,$.mode,H),_.return=$,_;case pe:var ie=_._init;return ee($,ie(_._payload),H)}if(He(_)||se(_))return _=ki(_,$.mode,H,null),_.return=$,_;ta($,_)}return null}function K($,_,H,ie){var ve=_!==null?_.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ve!==null?null:j($,_,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return H.key===ve?z($,_,H,ie):null;case P:return H.key===ve?W($,_,H,ie):null;case pe:return ve=H._init,K($,_,ve(H._payload),ie)}if(He(H)||se(H))return ve!==null?null:Y($,_,H,ie,null);ta($,H)}return null}function ue($,_,H,ie,ve){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return $=$.get(H)||null,j(_,$,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case M:return $=$.get(ie.key===null?H:ie.key)||null,z(_,$,ie,ve);case P:return $=$.get(ie.key===null?H:ie.key)||null,W(_,$,ie,ve);case pe:var ke=ie._init;return ue($,_,H,ke(ie._payload),ve)}if(He(ie)||se(ie))return $=$.get(H)||null,Y(_,$,ie,ve,null);ta(_,ie)}return null}function me($,_,H,ie){for(var ve=null,ke=null,Ce=_,Te=_=0,yt=null;Ce!==null&&Te<H.length;Te++){Ce.index>Te?(yt=Ce,Ce=null):yt=Ce.sibling;var We=K($,Ce,H[Te],ie);if(We===null){Ce===null&&(Ce=yt);break}s&&Ce&&We.alternate===null&&l($,Ce),_=k(We,_,Te),ke===null?ve=We:ke.sibling=We,ke=We,Ce=yt}if(Te===H.length)return c($,Ce),Ze&&mi($,Te),ve;if(Ce===null){for(;Te<H.length;Te++)Ce=ee($,H[Te],ie),Ce!==null&&(_=k(Ce,_,Te),ke===null?ve=Ce:ke.sibling=Ce,ke=Ce);return Ze&&mi($,Te),ve}for(Ce=h($,Ce);Te<H.length;Te++)yt=ue(Ce,$,Te,H[Te],ie),yt!==null&&(s&&yt.alternate!==null&&Ce.delete(yt.key===null?Te:yt.key),_=k(yt,_,Te),ke===null?ve=yt:ke.sibling=yt,ke=yt);return s&&Ce.forEach(function(Ir){return l($,Ir)}),Ze&&mi($,Te),ve}function ye($,_,H,ie){var ve=se(H);if(typeof ve!="function")throw Error(t(150));if(H=ve.call(H),H==null)throw Error(t(151));for(var ke=ve=null,Ce=_,Te=_=0,yt=null,We=H.next();Ce!==null&&!We.done;Te++,We=H.next()){Ce.index>Te?(yt=Ce,Ce=null):yt=Ce.sibling;var Ir=K($,Ce,We.value,ie);if(Ir===null){Ce===null&&(Ce=yt);break}s&&Ce&&Ir.alternate===null&&l($,Ce),_=k(Ir,_,Te),ke===null?ve=Ir:ke.sibling=Ir,ke=Ir,Ce=yt}if(We.done)return c($,Ce),Ze&&mi($,Te),ve;if(Ce===null){for(;!We.done;Te++,We=H.next())We=ee($,We.value,ie),We!==null&&(_=k(We,_,Te),ke===null?ve=We:ke.sibling=We,ke=We);return Ze&&mi($,Te),ve}for(Ce=h($,Ce);!We.done;Te++,We=H.next())We=ue(Ce,$,Te,We.value,ie),We!==null&&(s&&We.alternate!==null&&Ce.delete(We.key===null?Te:We.key),_=k(We,_,Te),ke===null?ve=We:ke.sibling=We,ke=We);return s&&Ce.forEach(function(wb){return l($,wb)}),Ze&&mi($,Te),ve}function at($,_,H,ie){if(typeof H=="object"&&H!==null&&H.type===R&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case M:e:{for(var ve=H.key,ke=_;ke!==null;){if(ke.key===ve){if(ve=H.type,ve===R){if(ke.tag===7){c($,ke.sibling),_=g(ke,H.props.children),_.return=$,$=_;break e}}else if(ke.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===pe&&Hm(ve)===ke.type){c($,ke.sibling),_=g(ke,H.props),_.ref=yo($,ke,H),_.return=$,$=_;break e}c($,ke);break}else l($,ke);ke=ke.sibling}H.type===R?(_=ki(H.props.children,$.mode,ie,H.key),_.return=$,$=_):(ie=Ea(H.type,H.key,H.props,null,$.mode,ie),ie.ref=yo($,_,H),ie.return=$,$=ie)}return O($);case P:e:{for(ke=H.key;_!==null;){if(_.key===ke)if(_.tag===4&&_.stateNode.containerInfo===H.containerInfo&&_.stateNode.implementation===H.implementation){c($,_.sibling),_=g(_,H.children||[]),_.return=$,$=_;break e}else{c($,_);break}else l($,_);_=_.sibling}_=ef(H,$.mode,ie),_.return=$,$=_}return O($);case pe:return ke=H._init,at($,_,ke(H._payload),ie)}if(He(H))return me($,_,H,ie);if(se(H))return ye($,_,H,ie);ta($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,_!==null&&_.tag===6?(c($,_.sibling),_=g(_,H),_.return=$,$=_):(c($,_),_=Zd(H,$.mode,ie),_.return=$,$=_),O($)):c($,_)}return at}var ls=Wm(!0),Vm=Wm(!1),na=Er(null),ra=null,as=null,ud=null;function cd(){ud=as=ra=null}function dd(s){var l=na.current;Ye(na),s._currentValue=l}function fd(s,l,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),s===c)break;s=s.return}}function us(s,l){ra=s,ud=as=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&l&&(Jt=!0),s.firstContext=null)}function pn(s){var l=s._currentValue;if(ud!==s)if(s={context:s,memoizedValue:l,next:null},as===null){if(ra===null)throw Error(t(308));as=s,ra.dependencies={lanes:0,firstContext:s}}else as=as.next=s;return l}var gi=null;function hd(s){gi===null?gi=[s]:gi.push(s)}function Um(s,l,c,h){var g=l.interleaved;return g===null?(c.next=c,hd(l)):(c.next=g.next,g.next=c),l.interleaved=c,tr(s,h)}function tr(s,l){s.lanes|=l;var c=s.alternate;for(c!==null&&(c.lanes|=l),c=s,s=s.return;s!==null;)s.childLanes|=l,c=s.alternate,c!==null&&(c.childLanes|=l),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Mr=!1;function pd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qm(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function nr(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function Tr(s,l,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,Fe&2){var g=h.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),h.pending=l,tr(s,c)}return g=h.interleaved,g===null?(l.next=l,hd(h)):(l.next=g.next,g.next=l),h.interleaved=l,tr(s,c)}function ia(s,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194240)!==0)){var h=l.lanes;h&=s.pendingLanes,c|=h,l.lanes=c,Mc(s,c)}}function Gm(s,l){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,k=null;if(c=c.firstBaseUpdate,c!==null){do{var O={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};k===null?g=k=O:k=k.next=O,c=c.next}while(c!==null);k===null?g=k=l:k=k.next=l}else g=k=l;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:k,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=l}function sa(s,l,c,h){var g=s.updateQueue;Mr=!1;var k=g.firstBaseUpdate,O=g.lastBaseUpdate,j=g.shared.pending;if(j!==null){g.shared.pending=null;var z=j,W=z.next;z.next=null,O===null?k=W:O.next=W,O=z;var Y=s.alternate;Y!==null&&(Y=Y.updateQueue,j=Y.lastBaseUpdate,j!==O&&(j===null?Y.firstBaseUpdate=W:j.next=W,Y.lastBaseUpdate=z))}if(k!==null){var ee=g.baseState;O=0,Y=W=z=null,j=k;do{var K=j.lane,ue=j.eventTime;if((h&K)===K){Y!==null&&(Y=Y.next={eventTime:ue,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var me=s,ye=j;switch(K=l,ue=c,ye.tag){case 1:if(me=ye.payload,typeof me=="function"){ee=me.call(ue,ee,K);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ye.payload,K=typeof me=="function"?me.call(ue,ee,K):me,K==null)break e;ee=re({},ee,K);break e;case 2:Mr=!0}}j.callback!==null&&j.lane!==0&&(s.flags|=64,K=g.effects,K===null?g.effects=[j]:K.push(j))}else ue={eventTime:ue,lane:K,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Y===null?(W=Y=ue,z=ee):Y=Y.next=ue,O|=K;if(j=j.next,j===null){if(j=g.shared.pending,j===null)break;K=j,j=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);if(Y===null&&(z=ee),g.baseState=z,g.firstBaseUpdate=W,g.lastBaseUpdate=Y,l=g.shared.interleaved,l!==null){g=l;do O|=g.lane,g=g.next;while(g!==l)}else k===null&&(g.shared.lanes=0);vi|=O,s.lanes=O,s.memoizedState=ee}}function Km(s,l,c){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var h=s[l],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var xo={},Bn=Er(xo),vo=Er(xo),wo=Er(xo);function yi(s){if(s===xo)throw Error(t(174));return s}function md(s,l){switch(Ke(wo,l),Ke(vo,s),Ke(Bn,xo),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Us(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=Us(l,s)}Ye(Bn),Ke(Bn,l)}function cs(){Ye(Bn),Ye(vo),Ye(wo)}function Jm(s){yi(wo.current);var l=yi(Bn.current),c=Us(l,s.type);l!==c&&(Ke(vo,s),Ke(Bn,c))}function gd(s){vo.current===s&&(Ye(Bn),Ye(vo))}var tt=Er(0);function oa(s){for(var l=s;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var yd=[];function xd(){for(var s=0;s<yd.length;s++)yd[s]._workInProgressVersionPrimary=null;yd.length=0}var la=T.ReactCurrentDispatcher,vd=T.ReactCurrentBatchConfig,xi=0,nt=null,ht=null,mt=null,aa=!1,So=!1,bo=0,WS=0;function Dt(){throw Error(t(321))}function wd(s,l){if(l===null)return!1;for(var c=0;c<l.length&&c<s.length;c++)if(!En(s[c],l[c]))return!1;return!0}function Sd(s,l,c,h,g,k){if(xi=k,nt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,la.current=s===null||s.memoizedState===null?GS:KS,s=c(h,g),So){k=0;do{if(So=!1,bo=0,25<=k)throw Error(t(301));k+=1,mt=ht=null,l.updateQueue=null,la.current=JS,s=c(h,g)}while(So)}if(la.current=da,l=ht!==null&&ht.next!==null,xi=0,mt=ht=nt=null,aa=!1,l)throw Error(t(300));return s}function bd(){var s=bo!==0;return bo=0,s}function Fn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?nt.memoizedState=mt=s:mt=mt.next=s,mt}function mn(){if(ht===null){var s=nt.alternate;s=s!==null?s.memoizedState:null}else s=ht.next;var l=mt===null?nt.memoizedState:mt.next;if(l!==null)mt=l,ht=s;else{if(s===null)throw Error(t(310));ht=s,s={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},mt===null?nt.memoizedState=mt=s:mt=mt.next=s}return mt}function ko(s,l){return typeof l=="function"?l(s):l}function kd(s){var l=mn(),c=l.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=ht,g=h.baseQueue,k=c.pending;if(k!==null){if(g!==null){var O=g.next;g.next=k.next,k.next=O}h.baseQueue=g=k,c.pending=null}if(g!==null){k=g.next,h=h.baseState;var j=O=null,z=null,W=k;do{var Y=W.lane;if((xi&Y)===Y)z!==null&&(z=z.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:s(h,W.action);else{var ee={lane:Y,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};z===null?(j=z=ee,O=h):z=z.next=ee,nt.lanes|=Y,vi|=Y}W=W.next}while(W!==null&&W!==k);z===null?O=h:z.next=j,En(h,l.memoizedState)||(Jt=!0),l.memoizedState=h,l.baseState=O,l.baseQueue=z,c.lastRenderedState=h}if(s=c.interleaved,s!==null){g=s;do k=g.lane,nt.lanes|=k,vi|=k,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[l.memoizedState,c.dispatch]}function Cd(s){var l=mn(),c=l.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,k=l.memoizedState;if(g!==null){c.pending=null;var O=g=g.next;do k=s(k,O.action),O=O.next;while(O!==g);En(k,l.memoizedState)||(Jt=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),c.lastRenderedState=k}return[k,h]}function Ym(){}function Xm(s,l){var c=nt,h=mn(),g=l(),k=!En(h.memoizedState,g);if(k&&(h.memoizedState=g,Jt=!0),h=h.queue,Ed(eg.bind(null,c,h,s),[s]),h.getSnapshot!==l||k||mt!==null&&mt.memoizedState.tag&1){if(c.flags|=2048,Co(9,Zm.bind(null,c,h,g,l),void 0,null),gt===null)throw Error(t(349));xi&30||Qm(c,l,g)}return g}function Qm(s,l,c){s.flags|=16384,s={getSnapshot:l,value:c},l=nt.updateQueue,l===null?(l={lastEffect:null,stores:null},nt.updateQueue=l,l.stores=[s]):(c=l.stores,c===null?l.stores=[s]:c.push(s))}function Zm(s,l,c,h){l.value=c,l.getSnapshot=h,tg(l)&&ng(s)}function eg(s,l,c){return c(function(){tg(l)&&ng(s)})}function tg(s){var l=s.getSnapshot;s=s.value;try{var c=l();return!En(s,c)}catch{return!0}}function ng(s){var l=tr(s,1);l!==null&&Rn(l,s,1,-1)}function rg(s){var l=Fn();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:s},l.queue=s,s=s.dispatch=qS.bind(null,nt,s),[l.memoizedState,s]}function Co(s,l,c,h){return s={tag:s,create:l,destroy:c,deps:h,next:null},l=nt.updateQueue,l===null?(l={lastEffect:null,stores:null},nt.updateQueue=l,l.lastEffect=s.next=s):(c=l.lastEffect,c===null?l.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,l.lastEffect=s)),s}function ig(){return mn().memoizedState}function ua(s,l,c,h){var g=Fn();nt.flags|=s,g.memoizedState=Co(1|l,c,void 0,h===void 0?null:h)}function ca(s,l,c,h){var g=mn();h=h===void 0?null:h;var k=void 0;if(ht!==null){var O=ht.memoizedState;if(k=O.destroy,h!==null&&wd(h,O.deps)){g.memoizedState=Co(l,c,k,h);return}}nt.flags|=s,g.memoizedState=Co(1|l,c,k,h)}function sg(s,l){return ua(8390656,8,s,l)}function Ed(s,l){return ca(2048,8,s,l)}function og(s,l){return ca(4,2,s,l)}function lg(s,l){return ca(4,4,s,l)}function ag(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function ug(s,l,c){return c=c!=null?c.concat([s]):null,ca(4,4,ag.bind(null,l,s),c)}function Nd(){}function cg(s,l){var c=mn();l=l===void 0?null:l;var h=c.memoizedState;return h!==null&&l!==null&&wd(l,h[1])?h[0]:(c.memoizedState=[s,l],s)}function dg(s,l){var c=mn();l=l===void 0?null:l;var h=c.memoizedState;return h!==null&&l!==null&&wd(l,h[1])?h[0]:(s=s(),c.memoizedState=[s,l],s)}function fg(s,l,c){return xi&21?(En(c,l)||(c=Hp(),nt.lanes|=c,vi|=c,s.baseState=!0),l):(s.baseState&&(s.baseState=!1,Jt=!0),s.memoizedState=c)}function VS(s,l){var c=Ue;Ue=c!==0&&4>c?c:4,s(!0);var h=vd.transition;vd.transition={};try{s(!1),l()}finally{Ue=c,vd.transition=h}}function hg(){return mn().memoizedState}function US(s,l,c){var h=jr(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},pg(s))mg(l,c);else if(c=Um(s,l,c,h),c!==null){var g=Ft();Rn(c,s,h,g),gg(c,l,h)}}function qS(s,l,c){var h=jr(s),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(pg(s))mg(l,g);else{var k=s.alternate;if(s.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var O=l.lastRenderedState,j=k(O,c);if(g.hasEagerState=!0,g.eagerState=j,En(j,O)){var z=l.interleaved;z===null?(g.next=g,hd(l)):(g.next=z.next,z.next=g),l.interleaved=g;return}}catch{}finally{}c=Um(s,l,g,h),c!==null&&(g=Ft(),Rn(c,s,h,g),gg(c,l,h))}}function pg(s){var l=s.alternate;return s===nt||l!==null&&l===nt}function mg(s,l){So=aa=!0;var c=s.pending;c===null?l.next=l:(l.next=c.next,c.next=l),s.pending=l}function gg(s,l,c){if(c&4194240){var h=l.lanes;h&=s.pendingLanes,c|=h,l.lanes=c,Mc(s,c)}}var da={readContext:pn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},GS={readContext:pn,useCallback:function(s,l){return Fn().memoizedState=[s,l===void 0?null:l],s},useContext:pn,useEffect:sg,useImperativeHandle:function(s,l,c){return c=c!=null?c.concat([s]):null,ua(4194308,4,ag.bind(null,l,s),c)},useLayoutEffect:function(s,l){return ua(4194308,4,s,l)},useInsertionEffect:function(s,l){return ua(4,2,s,l)},useMemo:function(s,l){var c=Fn();return l=l===void 0?null:l,s=s(),c.memoizedState=[s,l],s},useReducer:function(s,l,c){var h=Fn();return l=c!==void 0?c(l):l,h.memoizedState=h.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},h.queue=s,s=s.dispatch=US.bind(null,nt,s),[h.memoizedState,s]},useRef:function(s){var l=Fn();return s={current:s},l.memoizedState=s},useState:rg,useDebugValue:Nd,useDeferredValue:function(s){return Fn().memoizedState=s},useTransition:function(){var s=rg(!1),l=s[0];return s=VS.bind(null,s[1]),Fn().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,c){var h=nt,g=Fn();if(Ze){if(c===void 0)throw Error(t(407));c=c()}else{if(c=l(),gt===null)throw Error(t(349));xi&30||Qm(h,l,c)}g.memoizedState=c;var k={value:c,getSnapshot:l};return g.queue=k,sg(eg.bind(null,h,k,s),[s]),h.flags|=2048,Co(9,Zm.bind(null,h,k,c,l),void 0,null),c},useId:function(){var s=Fn(),l=gt.identifierPrefix;if(Ze){var c=er,h=Zn;c=(h&~(1<<32-Cn(h)-1)).toString(32)+c,l=":"+l+"R"+c,c=bo++,0<c&&(l+="H"+c.toString(32)),l+=":"}else c=WS++,l=":"+l+"r"+c.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},KS={readContext:pn,useCallback:cg,useContext:pn,useEffect:Ed,useImperativeHandle:ug,useInsertionEffect:og,useLayoutEffect:lg,useMemo:dg,useReducer:kd,useRef:ig,useState:function(){return kd(ko)},useDebugValue:Nd,useDeferredValue:function(s){var l=mn();return fg(l,ht.memoizedState,s)},useTransition:function(){var s=kd(ko)[0],l=mn().memoizedState;return[s,l]},useMutableSource:Ym,useSyncExternalStore:Xm,useId:hg,unstable_isNewReconciler:!1},JS={readContext:pn,useCallback:cg,useContext:pn,useEffect:Ed,useImperativeHandle:ug,useInsertionEffect:og,useLayoutEffect:lg,useMemo:dg,useReducer:Cd,useRef:ig,useState:function(){return Cd(ko)},useDebugValue:Nd,useDeferredValue:function(s){var l=mn();return ht===null?l.memoizedState=s:fg(l,ht.memoizedState,s)},useTransition:function(){var s=Cd(ko)[0],l=mn().memoizedState;return[s,l]},useMutableSource:Ym,useSyncExternalStore:Xm,useId:hg,unstable_isNewReconciler:!1};function On(s,l){if(s&&s.defaultProps){l=re({},l),s=s.defaultProps;for(var c in s)l[c]===void 0&&(l[c]=s[c]);return l}return l}function Od(s,l,c,h){l=s.memoizedState,c=c(h,l),c=c==null?l:re({},l,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var fa={isMounted:function(s){return(s=s._reactInternals)?di(s)===s:!1},enqueueSetState:function(s,l,c){s=s._reactInternals;var h=Ft(),g=jr(s),k=nr(h,g);k.payload=l,c!=null&&(k.callback=c),l=Tr(s,k,g),l!==null&&(Rn(l,s,g,h),ia(l,s,g))},enqueueReplaceState:function(s,l,c){s=s._reactInternals;var h=Ft(),g=jr(s),k=nr(h,g);k.tag=1,k.payload=l,c!=null&&(k.callback=c),l=Tr(s,k,g),l!==null&&(Rn(l,s,g,h),ia(l,s,g))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var c=Ft(),h=jr(s),g=nr(c,h);g.tag=2,l!=null&&(g.callback=l),l=Tr(s,g,h),l!==null&&(Rn(l,s,h,c),ia(l,s,h))}};function yg(s,l,c,h,g,k,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,k,O):l.prototype&&l.prototype.isPureReactComponent?!uo(c,h)||!uo(g,k):!0}function xg(s,l,c){var h=!1,g=Nr,k=l.contextType;return typeof k=="object"&&k!==null?k=pn(k):(g=Kt(l)?hi:Pt.current,h=l.contextTypes,k=(h=h!=null)?ns(s,g):Nr),l=new l(c,k),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=fa,s.stateNode=l,l._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=k),l}function vg(s,l,c,h){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,h),l.state!==s&&fa.enqueueReplaceState(l,l.state,null)}function Md(s,l,c,h){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},pd(s);var k=l.contextType;typeof k=="object"&&k!==null?g.context=pn(k):(k=Kt(l)?hi:Pt.current,g.context=ns(s,k)),g.state=s.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(Od(s,l,k,c),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(l=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),l!==g.state&&fa.enqueueReplaceState(g,g.state,null),sa(s,c,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function ds(s,l){try{var c="",h=l;do c+=Le(h),h=h.return;while(h);var g=c}catch(k){g=`
Error generating stack: `+k.message+`
`+k.stack}return{value:s,source:l,stack:g,digest:null}}function Td(s,l,c){return{value:s,source:null,stack:c??null,digest:l??null}}function Rd(s,l){try{console.error(l.value)}catch(c){setTimeout(function(){throw c})}}var YS=typeof WeakMap=="function"?WeakMap:Map;function wg(s,l,c){c=nr(-1,c),c.tag=3,c.payload={element:null};var h=l.value;return c.callback=function(){va||(va=!0,Ud=h),Rd(s,l)},c}function Sg(s,l,c){c=nr(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=l.value;c.payload=function(){return h(g)},c.callback=function(){Rd(s,l)}}var k=s.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(c.callback=function(){Rd(s,l),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})}),c}function bg(s,l,c){var h=s.pingCache;if(h===null){h=s.pingCache=new YS;var g=new Set;h.set(l,g)}else g=h.get(l),g===void 0&&(g=new Set,h.set(l,g));g.has(c)||(g.add(c),s=cb.bind(null,s,l,c),l.then(s,s))}function kg(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function Cg(s,l,c,h,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===l?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(l=nr(-1,1),l.tag=2,Tr(c,l,1))),c.lanes|=1),s)}var XS=T.ReactCurrentOwner,Jt=!1;function Bt(s,l,c,h){l.child=s===null?Vm(l,null,c,h):ls(l,s.child,c,h)}function Eg(s,l,c,h,g){c=c.render;var k=l.ref;return us(l,g),h=Sd(s,l,c,h,k,g),c=bd(),s!==null&&!Jt?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~g,rr(s,l,g)):(Ze&&c&&id(l),l.flags|=1,Bt(s,l,h,g),l.child)}function Ng(s,l,c,h,g){if(s===null){var k=c.type;return typeof k=="function"&&!Qd(k)&&k.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(l.tag=15,l.type=k,Og(s,l,k,h,g)):(s=Ea(c.type,null,h,l,l.mode,g),s.ref=l.ref,s.return=l,l.child=s)}if(k=s.child,!(s.lanes&g)){var O=k.memoizedProps;if(c=c.compare,c=c!==null?c:uo,c(O,h)&&s.ref===l.ref)return rr(s,l,g)}return l.flags|=1,s=Lr(k,h),s.ref=l.ref,s.return=l,l.child=s}function Og(s,l,c,h,g){if(s!==null){var k=s.memoizedProps;if(uo(k,h)&&s.ref===l.ref)if(Jt=!1,l.pendingProps=h=k,(s.lanes&g)!==0)s.flags&131072&&(Jt=!0);else return l.lanes=s.lanes,rr(s,l,g)}return Pd(s,l,c,h,g)}function Mg(s,l,c){var h=l.pendingProps,g=h.children,k=s!==null?s.memoizedState:null;if(h.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(hs,ln),ln|=c;else{if(!(c&1073741824))return s=k!==null?k.baseLanes|c:c,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,Ke(hs,ln),ln|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=k!==null?k.baseLanes:c,Ke(hs,ln),ln|=h}else k!==null?(h=k.baseLanes|c,l.memoizedState=null):h=c,Ke(hs,ln),ln|=h;return Bt(s,l,g,c),l.child}function Tg(s,l){var c=l.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(l.flags|=512,l.flags|=2097152)}function Pd(s,l,c,h,g){var k=Kt(c)?hi:Pt.current;return k=ns(l,k),us(l,g),c=Sd(s,l,c,h,k,g),h=bd(),s!==null&&!Jt?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~g,rr(s,l,g)):(Ze&&h&&id(l),l.flags|=1,Bt(s,l,c,g),l.child)}function Rg(s,l,c,h,g){if(Kt(c)){var k=!0;Yl(l)}else k=!1;if(us(l,g),l.stateNode===null)pa(s,l),xg(l,c,h),Md(l,c,h,g),h=!0;else if(s===null){var O=l.stateNode,j=l.memoizedProps;O.props=j;var z=O.context,W=c.contextType;typeof W=="object"&&W!==null?W=pn(W):(W=Kt(c)?hi:Pt.current,W=ns(l,W));var Y=c.getDerivedStateFromProps,ee=typeof Y=="function"||typeof O.getSnapshotBeforeUpdate=="function";ee||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(j!==h||z!==W)&&vg(l,O,h,W),Mr=!1;var K=l.memoizedState;O.state=K,sa(l,h,O,g),z=l.memoizedState,j!==h||K!==z||Gt.current||Mr?(typeof Y=="function"&&(Od(l,c,Y,h),z=l.memoizedState),(j=Mr||yg(l,c,j,h,K,z,W))?(ee||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=z),O.props=h,O.state=z,O.context=W,h=j):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{O=l.stateNode,qm(s,l),j=l.memoizedProps,W=l.type===l.elementType?j:On(l.type,j),O.props=W,ee=l.pendingProps,K=O.context,z=c.contextType,typeof z=="object"&&z!==null?z=pn(z):(z=Kt(c)?hi:Pt.current,z=ns(l,z));var ue=c.getDerivedStateFromProps;(Y=typeof ue=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(j!==ee||K!==z)&&vg(l,O,h,z),Mr=!1,K=l.memoizedState,O.state=K,sa(l,h,O,g);var me=l.memoizedState;j!==ee||K!==me||Gt.current||Mr?(typeof ue=="function"&&(Od(l,c,ue,h),me=l.memoizedState),(W=Mr||yg(l,c,W,h,K,me,z)||!1)?(Y||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(h,me,z),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(h,me,z)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||j===s.memoizedProps&&K===s.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&K===s.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=me),O.props=h,O.state=me,O.context=z,h=W):(typeof O.componentDidUpdate!="function"||j===s.memoizedProps&&K===s.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&K===s.memoizedState||(l.flags|=1024),h=!1)}return Dd(s,l,c,h,k,g)}function Dd(s,l,c,h,g,k){Tg(s,l);var O=(l.flags&128)!==0;if(!h&&!O)return g&&Lm(l,c,!1),rr(s,l,k);h=l.stateNode,XS.current=l;var j=O&&typeof c.getDerivedStateFromError!="function"?null:h.render();return l.flags|=1,s!==null&&O?(l.child=ls(l,s.child,null,k),l.child=ls(l,null,j,k)):Bt(s,l,j,k),l.memoizedState=h.state,g&&Lm(l,c,!0),l.child}function Pg(s){var l=s.stateNode;l.pendingContext?jm(s,l.pendingContext,l.pendingContext!==l.context):l.context&&jm(s,l.context,!1),md(s,l.containerInfo)}function Dg(s,l,c,h,g){return ss(),ad(g),l.flags|=256,Bt(s,l,c,h),l.child}var jd={dehydrated:null,treeContext:null,retryLane:0};function Ad(s){return{baseLanes:s,cachePool:null,transitions:null}}function jg(s,l,c){var h=l.pendingProps,g=tt.current,k=!1,O=(l.flags&128)!==0,j;if((j=O)||(j=s!==null&&s.memoizedState===null?!1:(g&2)!==0),j?(k=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Ke(tt,g&1),s===null)return ld(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(l.mode&1?s.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(O=h.children,s=h.fallback,k?(h=l.mode,k=l.child,O={mode:"hidden",children:O},!(h&1)&&k!==null?(k.childLanes=0,k.pendingProps=O):k=Na(O,h,0,null),s=ki(s,h,c,null),k.return=l,s.return=l,k.sibling=s,l.child=k,l.child.memoizedState=Ad(c),l.memoizedState=jd,s):Ld(l,O));if(g=s.memoizedState,g!==null&&(j=g.dehydrated,j!==null))return QS(s,l,O,h,j,g,c);if(k){k=h.fallback,O=l.mode,g=s.child,j=g.sibling;var z={mode:"hidden",children:h.children};return!(O&1)&&l.child!==g?(h=l.child,h.childLanes=0,h.pendingProps=z,l.deletions=null):(h=Lr(g,z),h.subtreeFlags=g.subtreeFlags&14680064),j!==null?k=Lr(j,k):(k=ki(k,O,c,null),k.flags|=2),k.return=l,h.return=l,h.sibling=k,l.child=h,h=k,k=l.child,O=s.child.memoizedState,O=O===null?Ad(c):{baseLanes:O.baseLanes|c,cachePool:null,transitions:O.transitions},k.memoizedState=O,k.childLanes=s.childLanes&~c,l.memoizedState=jd,h}return k=s.child,s=k.sibling,h=Lr(k,{mode:"visible",children:h.children}),!(l.mode&1)&&(h.lanes=c),h.return=l,h.sibling=null,s!==null&&(c=l.deletions,c===null?(l.deletions=[s],l.flags|=16):c.push(s)),l.child=h,l.memoizedState=null,h}function Ld(s,l){return l=Na({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function ha(s,l,c,h){return h!==null&&ad(h),ls(l,s.child,null,c),s=Ld(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function QS(s,l,c,h,g,k,O){if(c)return l.flags&256?(l.flags&=-257,h=Td(Error(t(422))),ha(s,l,O,h)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(k=h.fallback,g=l.mode,h=Na({mode:"visible",children:h.children},g,0,null),k=ki(k,g,O,null),k.flags|=2,h.return=l,k.return=l,h.sibling=k,l.child=h,l.mode&1&&ls(l,s.child,null,O),l.child.memoizedState=Ad(O),l.memoizedState=jd,k);if(!(l.mode&1))return ha(s,l,O,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var j=h.dgst;return h=j,k=Error(t(419)),h=Td(k,h,void 0),ha(s,l,O,h)}if(j=(O&s.childLanes)!==0,Jt||j){if(h=gt,h!==null){switch(O&-O){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(h.suspendedLanes|O)?0:g,g!==0&&g!==k.retryLane&&(k.retryLane=g,tr(s,g),Rn(h,s,g,-1))}return Xd(),h=Td(Error(t(421))),ha(s,l,O,h)}return g.data==="$?"?(l.flags|=128,l.child=s.child,l=db.bind(null,s),g._reactRetry=l,null):(s=k.treeContext,on=Cr(g.nextSibling),sn=l,Ze=!0,Nn=null,s!==null&&(fn[hn++]=Zn,fn[hn++]=er,fn[hn++]=pi,Zn=s.id,er=s.overflow,pi=l),l=Ld(l,h.children),l.flags|=4096,l)}function Ag(s,l,c){s.lanes|=l;var h=s.alternate;h!==null&&(h.lanes|=l),fd(s.return,l,c)}function Id(s,l,c,h,g){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=h,k.tail=c,k.tailMode=g)}function Lg(s,l,c){var h=l.pendingProps,g=h.revealOrder,k=h.tail;if(Bt(s,l,h.children,c),h=tt.current,h&2)h=h&1|2,l.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ag(s,c,l);else if(s.tag===19)Ag(s,c,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Ke(tt,h),!(l.mode&1))l.memoizedState=null;else switch(g){case"forwards":for(c=l.child,g=null;c!==null;)s=c.alternate,s!==null&&oa(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=l.child,l.child=null):(g=c.sibling,c.sibling=null),Id(l,!1,g,c,k);break;case"backwards":for(c=null,g=l.child,l.child=null;g!==null;){if(s=g.alternate,s!==null&&oa(s)===null){l.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Id(l,!0,c,null,k);break;case"together":Id(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function pa(s,l){!(l.mode&1)&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function rr(s,l,c){if(s!==null&&(l.dependencies=s.dependencies),vi|=l.lanes,!(c&l.childLanes))return null;if(s!==null&&l.child!==s.child)throw Error(t(153));if(l.child!==null){for(s=l.child,c=Lr(s,s.pendingProps),l.child=c,c.return=l;s.sibling!==null;)s=s.sibling,c=c.sibling=Lr(s,s.pendingProps),c.return=l;c.sibling=null}return l.child}function ZS(s,l,c){switch(l.tag){case 3:Pg(l),ss();break;case 5:Jm(l);break;case 1:Kt(l.type)&&Yl(l);break;case 4:md(l,l.stateNode.containerInfo);break;case 10:var h=l.type._context,g=l.memoizedProps.value;Ke(na,h._currentValue),h._currentValue=g;break;case 13:if(h=l.memoizedState,h!==null)return h.dehydrated!==null?(Ke(tt,tt.current&1),l.flags|=128,null):c&l.child.childLanes?jg(s,l,c):(Ke(tt,tt.current&1),s=rr(s,l,c),s!==null?s.sibling:null);Ke(tt,tt.current&1);break;case 19:if(h=(c&l.childLanes)!==0,s.flags&128){if(h)return Lg(s,l,c);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ke(tt,tt.current),h)break;return null;case 22:case 23:return l.lanes=0,Mg(s,l,c)}return rr(s,l,c)}var Ig,zd,zg,_g;Ig=function(s,l){for(var c=l.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},zd=function(){},zg=function(s,l,c,h){var g=s.memoizedProps;if(g!==h){s=l.stateNode,yi(Bn.current);var k=null;switch(c){case"input":g=Z(s,g),h=Z(s,h),k=[];break;case"select":g=re({},g,{value:void 0}),h=re({},h,{value:void 0}),k=[];break;case"textarea":g=Rt(s,g),h=Rt(s,h),k=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Gl)}yc(c,h);var O;c=null;for(W in g)if(!h.hasOwnProperty(W)&&g.hasOwnProperty(W)&&g[W]!=null)if(W==="style"){var j=g[W];for(O in j)j.hasOwnProperty(O)&&(c||(c={}),c[O]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(i.hasOwnProperty(W)?k||(k=[]):(k=k||[]).push(W,null));for(W in h){var z=h[W];if(j=g!=null?g[W]:void 0,h.hasOwnProperty(W)&&z!==j&&(z!=null||j!=null))if(W==="style")if(j){for(O in j)!j.hasOwnProperty(O)||z&&z.hasOwnProperty(O)||(c||(c={}),c[O]="");for(O in z)z.hasOwnProperty(O)&&j[O]!==z[O]&&(c||(c={}),c[O]=z[O])}else c||(k||(k=[]),k.push(W,c)),c=z;else W==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,j=j?j.__html:void 0,z!=null&&j!==z&&(k=k||[]).push(W,z)):W==="children"?typeof z!="string"&&typeof z!="number"||(k=k||[]).push(W,""+z):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(i.hasOwnProperty(W)?(z!=null&&W==="onScroll"&&Je("scroll",s),k||j===z||(k=[])):(k=k||[]).push(W,z))}c&&(k=k||[]).push("style",c);var W=k;(l.updateQueue=W)&&(l.flags|=4)}},_g=function(s,l,c,h){c!==h&&(l.flags|=4)};function Eo(s,l){if(!Ze)switch(s.tailMode){case"hidden":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function jt(s){var l=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(l)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,l}function eb(s,l,c){var h=l.pendingProps;switch(sd(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(l),null;case 1:return Kt(l.type)&&Jl(),jt(l),null;case 3:return h=l.stateNode,cs(),Ye(Gt),Ye(Pt),xd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(ea(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Nn!==null&&(Kd(Nn),Nn=null))),zd(s,l),jt(l),null;case 5:gd(l);var g=yi(wo.current);if(c=l.type,s!==null&&l.stateNode!=null)zg(s,l,c,h,g),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!h){if(l.stateNode===null)throw Error(t(166));return jt(l),null}if(s=yi(Bn.current),ea(l)){h=l.stateNode,c=l.type;var k=l.memoizedProps;switch(h[_n]=l,h[mo]=k,s=(l.mode&1)!==0,c){case"dialog":Je("cancel",h),Je("close",h);break;case"iframe":case"object":case"embed":Je("load",h);break;case"video":case"audio":for(g=0;g<fo.length;g++)Je(fo[g],h);break;case"source":Je("error",h);break;case"img":case"image":case"link":Je("error",h),Je("load",h);break;case"details":Je("toggle",h);break;case"input":xe(h,k),Je("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!k.multiple},Je("invalid",h);break;case"textarea":ot(h,k),Je("invalid",h)}yc(c,k),g=null;for(var O in k)if(k.hasOwnProperty(O)){var j=k[O];O==="children"?typeof j=="string"?h.textContent!==j&&(k.suppressHydrationWarning!==!0&&ql(h.textContent,j,s),g=["children",j]):typeof j=="number"&&h.textContent!==""+j&&(k.suppressHydrationWarning!==!0&&ql(h.textContent,j,s),g=["children",""+j]):i.hasOwnProperty(O)&&j!=null&&O==="onScroll"&&Je("scroll",h)}switch(c){case"input":B(h),we(h,k,!0);break;case"textarea":B(h),ci(h);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(h.onclick=Gl)}h=g,l.updateQueue=h,h!==null&&(l.flags|=4)}else{O=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Vi(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=O.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=O.createElement(c,{is:h.is}):(s=O.createElement(c),c==="select"&&(O=s,h.multiple?O.multiple=!0:h.size&&(O.size=h.size))):s=O.createElementNS(s,c),s[_n]=l,s[mo]=h,Ig(s,l,!1,!1),l.stateNode=s;e:{switch(O=xc(c,h),c){case"dialog":Je("cancel",s),Je("close",s),g=h;break;case"iframe":case"object":case"embed":Je("load",s),g=h;break;case"video":case"audio":for(g=0;g<fo.length;g++)Je(fo[g],s);g=h;break;case"source":Je("error",s),g=h;break;case"img":case"image":case"link":Je("error",s),Je("load",s),g=h;break;case"details":Je("toggle",s),g=h;break;case"input":xe(s,h),g=Z(s,h),Je("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=re({},h,{value:void 0}),Je("invalid",s);break;case"textarea":ot(s,h),g=Rt(s,h),Je("invalid",s);break;default:g=h}yc(c,g),j=g;for(k in j)if(j.hasOwnProperty(k)){var z=j[k];k==="style"?Op(s,z):k==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Ep(s,z)):k==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&qs(s,z):typeof z=="number"&&qs(s,""+z):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?z!=null&&k==="onScroll"&&Je("scroll",s):z!=null&&N(s,k,z,O))}switch(c){case"input":B(s),we(s,h,!1);break;case"textarea":B(s),ci(s);break;case"option":h.value!=null&&s.setAttribute("value",""+te(h.value));break;case"select":s.multiple=!!h.multiple,k=h.value,k!=null?qt(s,!!h.multiple,k,!1):h.defaultValue!=null&&qt(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Gl)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return jt(l),null;case 6:if(s&&l.stateNode!=null)_g(s,l,s.memoizedProps,h);else{if(typeof h!="string"&&l.stateNode===null)throw Error(t(166));if(c=yi(wo.current),yi(Bn.current),ea(l)){if(h=l.stateNode,c=l.memoizedProps,h[_n]=l,(k=h.nodeValue!==c)&&(s=sn,s!==null))switch(s.tag){case 3:ql(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ql(h.nodeValue,c,(s.mode&1)!==0)}k&&(l.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[_n]=l,l.stateNode=h}return jt(l),null;case 13:if(Ye(tt),h=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ze&&on!==null&&l.mode&1&&!(l.flags&128))$m(),ss(),l.flags|=98560,k=!1;else if(k=ea(l),h!==null&&h.dehydrated!==null){if(s===null){if(!k)throw Error(t(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(t(317));k[_n]=l}else ss(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;jt(l),k=!1}else Nn!==null&&(Kd(Nn),Nn=null),k=!0;if(!k)return l.flags&65536?l:null}return l.flags&128?(l.lanes=c,l):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(l.child.flags|=8192,l.mode&1&&(s===null||tt.current&1?pt===0&&(pt=3):Xd())),l.updateQueue!==null&&(l.flags|=4),jt(l),null);case 4:return cs(),zd(s,l),s===null&&ho(l.stateNode.containerInfo),jt(l),null;case 10:return dd(l.type._context),jt(l),null;case 17:return Kt(l.type)&&Jl(),jt(l),null;case 19:if(Ye(tt),k=l.memoizedState,k===null)return jt(l),null;if(h=(l.flags&128)!==0,O=k.rendering,O===null)if(h)Eo(k,!1);else{if(pt!==0||s!==null&&s.flags&128)for(s=l.child;s!==null;){if(O=oa(s),O!==null){for(l.flags|=128,Eo(k,!1),h=O.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),l.subtreeFlags=0,h=c,c=l.child;c!==null;)k=c,s=h,k.flags&=14680066,O=k.alternate,O===null?(k.childLanes=0,k.lanes=s,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=O.childLanes,k.lanes=O.lanes,k.child=O.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=O.memoizedProps,k.memoizedState=O.memoizedState,k.updateQueue=O.updateQueue,k.type=O.type,s=O.dependencies,k.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Ke(tt,tt.current&1|2),l.child}s=s.sibling}k.tail!==null&&lt()>ps&&(l.flags|=128,h=!0,Eo(k,!1),l.lanes=4194304)}else{if(!h)if(s=oa(O),s!==null){if(l.flags|=128,h=!0,c=s.updateQueue,c!==null&&(l.updateQueue=c,l.flags|=4),Eo(k,!0),k.tail===null&&k.tailMode==="hidden"&&!O.alternate&&!Ze)return jt(l),null}else 2*lt()-k.renderingStartTime>ps&&c!==1073741824&&(l.flags|=128,h=!0,Eo(k,!1),l.lanes=4194304);k.isBackwards?(O.sibling=l.child,l.child=O):(c=k.last,c!==null?c.sibling=O:l.child=O,k.last=O)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=lt(),l.sibling=null,c=tt.current,Ke(tt,h?c&1|2:c&1),l):(jt(l),null);case 22:case 23:return Yd(),h=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(l.flags|=8192),h&&l.mode&1?ln&1073741824&&(jt(l),l.subtreeFlags&6&&(l.flags|=8192)):jt(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function tb(s,l){switch(sd(l),l.tag){case 1:return Kt(l.type)&&Jl(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return cs(),Ye(Gt),Ye(Pt),xd(),s=l.flags,s&65536&&!(s&128)?(l.flags=s&-65537|128,l):null;case 5:return gd(l),null;case 13:if(Ye(tt),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(t(340));ss()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Ye(tt),null;case 4:return cs(),null;case 10:return dd(l.type._context),null;case 22:case 23:return Yd(),null;case 24:return null;default:return null}}var ma=!1,At=!1,nb=typeof WeakSet=="function"?WeakSet:Set,he=null;function fs(s,l){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){rt(s,l,h)}else c.current=null}function _d(s,l,c){try{c()}catch(h){rt(s,l,h)}}var Bg=!1;function rb(s,l){if(Yc=Ll,s=ym(),Hc(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,k=h.focusNode;h=h.focusOffset;try{c.nodeType,k.nodeType}catch{c=null;break e}var O=0,j=-1,z=-1,W=0,Y=0,ee=s,K=null;t:for(;;){for(var ue;ee!==c||g!==0&&ee.nodeType!==3||(j=O+g),ee!==k||h!==0&&ee.nodeType!==3||(z=O+h),ee.nodeType===3&&(O+=ee.nodeValue.length),(ue=ee.firstChild)!==null;)K=ee,ee=ue;for(;;){if(ee===s)break t;if(K===c&&++W===g&&(j=O),K===k&&++Y===h&&(z=O),(ue=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=ue}c=j===-1||z===-1?null:{start:j,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(Xc={focusedElem:s,selectionRange:c},Ll=!1,he=l;he!==null;)if(l=he,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,he=s;else for(;he!==null;){l=he;try{var me=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ye=me.memoizedProps,at=me.memoizedState,$=l.stateNode,_=$.getSnapshotBeforeUpdate(l.elementType===l.type?ye:On(l.type,ye),at);$.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var H=l.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){rt(l,l.return,ie)}if(s=l.sibling,s!==null){s.return=l.return,he=s;break}he=l.return}return me=Bg,Bg=!1,me}function No(s,l,c){var h=l.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var k=g.destroy;g.destroy=void 0,k!==void 0&&_d(l,c,k)}g=g.next}while(g!==h)}}function ga(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==l)}}function Bd(s){var l=s.ref;if(l!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof l=="function"?l(s):l.current=s}}function Fg(s){var l=s.alternate;l!==null&&(s.alternate=null,Fg(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[_n],delete l[mo],delete l[td],delete l[BS],delete l[FS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function $g(s){return s.tag===5||s.tag===3||s.tag===4}function Hg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||$g(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Fd(s,l,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,l?c.nodeType===8?c.parentNode.insertBefore(s,l):c.insertBefore(s,l):(c.nodeType===8?(l=c.parentNode,l.insertBefore(s,c)):(l=c,l.appendChild(s)),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=Gl));else if(h!==4&&(s=s.child,s!==null))for(Fd(s,l,c),s=s.sibling;s!==null;)Fd(s,l,c),s=s.sibling}function $d(s,l,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,l?c.insertBefore(s,l):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for($d(s,l,c),s=s.sibling;s!==null;)$d(s,l,c),s=s.sibling}var Et=null,Mn=!1;function Rr(s,l,c){for(c=c.child;c!==null;)Wg(s,l,c),c=c.sibling}function Wg(s,l,c){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Tl,c)}catch{}switch(c.tag){case 5:At||fs(c,l);case 6:var h=Et,g=Mn;Et=null,Rr(s,l,c),Et=h,Mn=g,Et!==null&&(Mn?(s=Et,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Et.removeChild(c.stateNode));break;case 18:Et!==null&&(Mn?(s=Et,c=c.stateNode,s.nodeType===8?ed(s.parentNode,c):s.nodeType===1&&ed(s,c),ro(s)):ed(Et,c.stateNode));break;case 4:h=Et,g=Mn,Et=c.stateNode.containerInfo,Mn=!0,Rr(s,l,c),Et=h,Mn=g;break;case 0:case 11:case 14:case 15:if(!At&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var k=g,O=k.destroy;k=k.tag,O!==void 0&&(k&2||k&4)&&_d(c,l,O),g=g.next}while(g!==h)}Rr(s,l,c);break;case 1:if(!At&&(fs(c,l),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(j){rt(c,l,j)}Rr(s,l,c);break;case 21:Rr(s,l,c);break;case 22:c.mode&1?(At=(h=At)||c.memoizedState!==null,Rr(s,l,c),At=h):Rr(s,l,c);break;default:Rr(s,l,c)}}function Vg(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new nb),l.forEach(function(h){var g=fb.bind(null,s,h);c.has(h)||(c.add(h),h.then(g,g))})}}function Tn(s,l){var c=l.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var k=s,O=l,j=O;e:for(;j!==null;){switch(j.tag){case 5:Et=j.stateNode,Mn=!1;break e;case 3:Et=j.stateNode.containerInfo,Mn=!0;break e;case 4:Et=j.stateNode.containerInfo,Mn=!0;break e}j=j.return}if(Et===null)throw Error(t(160));Wg(k,O,g),Et=null,Mn=!1;var z=g.alternate;z!==null&&(z.return=null),g.return=null}catch(W){rt(g,l,W)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Ug(l,s),l=l.sibling}function Ug(s,l){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Tn(l,s),$n(s),h&4){try{No(3,s,s.return),ga(3,s)}catch(ye){rt(s,s.return,ye)}try{No(5,s,s.return)}catch(ye){rt(s,s.return,ye)}}break;case 1:Tn(l,s),$n(s),h&512&&c!==null&&fs(c,c.return);break;case 5:if(Tn(l,s),$n(s),h&512&&c!==null&&fs(c,c.return),s.flags&32){var g=s.stateNode;try{qs(g,"")}catch(ye){rt(s,s.return,ye)}}if(h&4&&(g=s.stateNode,g!=null)){var k=s.memoizedProps,O=c!==null?c.memoizedProps:k,j=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{j==="input"&&k.type==="radio"&&k.name!=null&&oe(g,k),xc(j,O);var W=xc(j,k);for(O=0;O<z.length;O+=2){var Y=z[O],ee=z[O+1];Y==="style"?Op(g,ee):Y==="dangerouslySetInnerHTML"?Ep(g,ee):Y==="children"?qs(g,ee):N(g,Y,ee,W)}switch(j){case"input":Se(g,k);break;case"textarea":Yn(g,k);break;case"select":var K=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!k.multiple;var ue=k.value;ue!=null?qt(g,!!k.multiple,ue,!1):K!==!!k.multiple&&(k.defaultValue!=null?qt(g,!!k.multiple,k.defaultValue,!0):qt(g,!!k.multiple,k.multiple?[]:"",!1))}g[mo]=k}catch(ye){rt(s,s.return,ye)}}break;case 6:if(Tn(l,s),$n(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,k=s.memoizedProps;try{g.nodeValue=k}catch(ye){rt(s,s.return,ye)}}break;case 3:if(Tn(l,s),$n(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{ro(l.containerInfo)}catch(ye){rt(s,s.return,ye)}break;case 4:Tn(l,s),$n(s);break;case 13:Tn(l,s),$n(s),g=s.child,g.flags&8192&&(k=g.memoizedState!==null,g.stateNode.isHidden=k,!k||g.alternate!==null&&g.alternate.memoizedState!==null||(Vd=lt())),h&4&&Vg(s);break;case 22:if(Y=c!==null&&c.memoizedState!==null,s.mode&1?(At=(W=At)||Y,Tn(l,s),At=W):Tn(l,s),$n(s),h&8192){if(W=s.memoizedState!==null,(s.stateNode.isHidden=W)&&!Y&&s.mode&1)for(he=s,Y=s.child;Y!==null;){for(ee=he=Y;he!==null;){switch(K=he,ue=K.child,K.tag){case 0:case 11:case 14:case 15:No(4,K,K.return);break;case 1:fs(K,K.return);var me=K.stateNode;if(typeof me.componentWillUnmount=="function"){h=K,c=K.return;try{l=h,me.props=l.memoizedProps,me.state=l.memoizedState,me.componentWillUnmount()}catch(ye){rt(h,c,ye)}}break;case 5:fs(K,K.return);break;case 22:if(K.memoizedState!==null){Kg(ee);continue}}ue!==null?(ue.return=K,he=ue):Kg(ee)}Y=Y.sibling}e:for(Y=null,ee=s;;){if(ee.tag===5){if(Y===null){Y=ee;try{g=ee.stateNode,W?(k=g.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(j=ee.stateNode,z=ee.memoizedProps.style,O=z!=null&&z.hasOwnProperty("display")?z.display:null,j.style.display=Np("display",O))}catch(ye){rt(s,s.return,ye)}}}else if(ee.tag===6){if(Y===null)try{ee.stateNode.nodeValue=W?"":ee.memoizedProps}catch(ye){rt(s,s.return,ye)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===s)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===s)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===s)break e;Y===ee&&(Y=null),ee=ee.return}Y===ee&&(Y=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Tn(l,s),$n(s),h&4&&Vg(s);break;case 21:break;default:Tn(l,s),$n(s)}}function $n(s){var l=s.flags;if(l&2){try{e:{for(var c=s.return;c!==null;){if($g(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(qs(g,""),h.flags&=-33);var k=Hg(s);$d(s,k,g);break;case 3:case 4:var O=h.stateNode.containerInfo,j=Hg(s);Fd(s,j,O);break;default:throw Error(t(161))}}catch(z){rt(s,s.return,z)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function ib(s,l,c){he=s,qg(s)}function qg(s,l,c){for(var h=(s.mode&1)!==0;he!==null;){var g=he,k=g.child;if(g.tag===22&&h){var O=g.memoizedState!==null||ma;if(!O){var j=g.alternate,z=j!==null&&j.memoizedState!==null||At;j=ma;var W=At;if(ma=O,(At=z)&&!W)for(he=g;he!==null;)O=he,z=O.child,O.tag===22&&O.memoizedState!==null?Jg(g):z!==null?(z.return=O,he=z):Jg(g);for(;k!==null;)he=k,qg(k),k=k.sibling;he=g,ma=j,At=W}Gg(s)}else g.subtreeFlags&8772&&k!==null?(k.return=g,he=k):Gg(s)}}function Gg(s){for(;he!==null;){var l=he;if(l.flags&8772){var c=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:At||ga(5,l);break;case 1:var h=l.stateNode;if(l.flags&4&&!At)if(c===null)h.componentDidMount();else{var g=l.elementType===l.type?c.memoizedProps:On(l.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&Km(l,k,h);break;case 3:var O=l.updateQueue;if(O!==null){if(c=null,l.child!==null)switch(l.child.tag){case 5:c=l.child.stateNode;break;case 1:c=l.child.stateNode}Km(l,O,c)}break;case 5:var j=l.stateNode;if(c===null&&l.flags&4){c=j;var z=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var W=l.alternate;if(W!==null){var Y=W.memoizedState;if(Y!==null){var ee=Y.dehydrated;ee!==null&&ro(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}At||l.flags&512&&Bd(l)}catch(K){rt(l,l.return,K)}}if(l===s){he=null;break}if(c=l.sibling,c!==null){c.return=l.return,he=c;break}he=l.return}}function Kg(s){for(;he!==null;){var l=he;if(l===s){he=null;break}var c=l.sibling;if(c!==null){c.return=l.return,he=c;break}he=l.return}}function Jg(s){for(;he!==null;){var l=he;try{switch(l.tag){case 0:case 11:case 15:var c=l.return;try{ga(4,l)}catch(z){rt(l,c,z)}break;case 1:var h=l.stateNode;if(typeof h.componentDidMount=="function"){var g=l.return;try{h.componentDidMount()}catch(z){rt(l,g,z)}}var k=l.return;try{Bd(l)}catch(z){rt(l,k,z)}break;case 5:var O=l.return;try{Bd(l)}catch(z){rt(l,O,z)}}}catch(z){rt(l,l.return,z)}if(l===s){he=null;break}var j=l.sibling;if(j!==null){j.return=l.return,he=j;break}he=l.return}}var sb=Math.ceil,ya=T.ReactCurrentDispatcher,Hd=T.ReactCurrentOwner,gn=T.ReactCurrentBatchConfig,Fe=0,gt=null,ct=null,Nt=0,ln=0,hs=Er(0),pt=0,Oo=null,vi=0,xa=0,Wd=0,Mo=null,Yt=null,Vd=0,ps=1/0,ir=null,va=!1,Ud=null,Pr=null,wa=!1,Dr=null,Sa=0,To=0,qd=null,ba=-1,ka=0;function Ft(){return Fe&6?lt():ba!==-1?ba:ba=lt()}function jr(s){return s.mode&1?Fe&2&&Nt!==0?Nt&-Nt:HS.transition!==null?(ka===0&&(ka=Hp()),ka):(s=Ue,s!==0||(s=window.event,s=s===void 0?16:Xp(s.type)),s):1}function Rn(s,l,c,h){if(50<To)throw To=0,qd=null,Error(t(185));Qs(s,c,h),(!(Fe&2)||s!==gt)&&(s===gt&&(!(Fe&2)&&(xa|=c),pt===4&&Ar(s,Nt)),Xt(s,h),c===1&&Fe===0&&!(l.mode&1)&&(ps=lt()+500,Xl&&Or()))}function Xt(s,l){var c=s.callbackNode;Hw(s,l);var h=Dl(s,s===gt?Nt:0);if(h===0)c!==null&&Bp(c),s.callbackNode=null,s.callbackPriority=0;else if(l=h&-h,s.callbackPriority!==l){if(c!=null&&Bp(c),l===1)s.tag===0?$S(Xg.bind(null,s)):Im(Xg.bind(null,s)),zS(function(){!(Fe&6)&&Or()}),c=null;else{switch(Wp(h)){case 1:c=Ec;break;case 4:c=Fp;break;case 16:c=Ml;break;case 536870912:c=$p;break;default:c=Ml}c=sy(c,Yg.bind(null,s))}s.callbackPriority=l,s.callbackNode=c}}function Yg(s,l){if(ba=-1,ka=0,Fe&6)throw Error(t(327));var c=s.callbackNode;if(ms()&&s.callbackNode!==c)return null;var h=Dl(s,s===gt?Nt:0);if(h===0)return null;if(h&30||h&s.expiredLanes||l)l=Ca(s,h);else{l=h;var g=Fe;Fe|=2;var k=Zg();(gt!==s||Nt!==l)&&(ir=null,ps=lt()+500,Si(s,l));do try{ab();break}catch(j){Qg(s,j)}while(!0);cd(),ya.current=k,Fe=g,ct!==null?l=0:(gt=null,Nt=0,l=pt)}if(l!==0){if(l===2&&(g=Nc(s),g!==0&&(h=g,l=Gd(s,g))),l===1)throw c=Oo,Si(s,0),Ar(s,h),Xt(s,lt()),c;if(l===6)Ar(s,h);else{if(g=s.current.alternate,!(h&30)&&!ob(g)&&(l=Ca(s,h),l===2&&(k=Nc(s),k!==0&&(h=k,l=Gd(s,k))),l===1))throw c=Oo,Si(s,0),Ar(s,h),Xt(s,lt()),c;switch(s.finishedWork=g,s.finishedLanes=h,l){case 0:case 1:throw Error(t(345));case 2:bi(s,Yt,ir);break;case 3:if(Ar(s,h),(h&130023424)===h&&(l=Vd+500-lt(),10<l)){if(Dl(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){Ft(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Zc(bi.bind(null,s,Yt,ir),l);break}bi(s,Yt,ir);break;case 4:if(Ar(s,h),(h&4194240)===h)break;for(l=s.eventTimes,g=-1;0<h;){var O=31-Cn(h);k=1<<O,O=l[O],O>g&&(g=O),h&=~k}if(h=g,h=lt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*sb(h/1960))-h,10<h){s.timeoutHandle=Zc(bi.bind(null,s,Yt,ir),h);break}bi(s,Yt,ir);break;case 5:bi(s,Yt,ir);break;default:throw Error(t(329))}}}return Xt(s,lt()),s.callbackNode===c?Yg.bind(null,s):null}function Gd(s,l){var c=Mo;return s.current.memoizedState.isDehydrated&&(Si(s,l).flags|=256),s=Ca(s,l),s!==2&&(l=Yt,Yt=c,l!==null&&Kd(l)),s}function Kd(s){Yt===null?Yt=s:Yt.push.apply(Yt,s)}function ob(s){for(var l=s;;){if(l.flags&16384){var c=l.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],k=g.getSnapshot;g=g.value;try{if(!En(k(),g))return!1}catch{return!1}}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ar(s,l){for(l&=~Wd,l&=~xa,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var c=31-Cn(l),h=1<<c;s[c]=-1,l&=~h}}function Xg(s){if(Fe&6)throw Error(t(327));ms();var l=Dl(s,0);if(!(l&1))return Xt(s,lt()),null;var c=Ca(s,l);if(s.tag!==0&&c===2){var h=Nc(s);h!==0&&(l=h,c=Gd(s,h))}if(c===1)throw c=Oo,Si(s,0),Ar(s,l),Xt(s,lt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,bi(s,Yt,ir),Xt(s,lt()),null}function Jd(s,l){var c=Fe;Fe|=1;try{return s(l)}finally{Fe=c,Fe===0&&(ps=lt()+500,Xl&&Or())}}function wi(s){Dr!==null&&Dr.tag===0&&!(Fe&6)&&ms();var l=Fe;Fe|=1;var c=gn.transition,h=Ue;try{if(gn.transition=null,Ue=1,s)return s()}finally{Ue=h,gn.transition=c,Fe=l,!(Fe&6)&&Or()}}function Yd(){ln=hs.current,Ye(hs)}function Si(s,l){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,IS(c)),ct!==null)for(c=ct.return;c!==null;){var h=c;switch(sd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Jl();break;case 3:cs(),Ye(Gt),Ye(Pt),xd();break;case 5:gd(h);break;case 4:cs();break;case 13:Ye(tt);break;case 19:Ye(tt);break;case 10:dd(h.type._context);break;case 22:case 23:Yd()}c=c.return}if(gt=s,ct=s=Lr(s.current,null),Nt=ln=l,pt=0,Oo=null,Wd=xa=vi=0,Yt=Mo=null,gi!==null){for(l=0;l<gi.length;l++)if(c=gi[l],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,k=c.pending;if(k!==null){var O=k.next;k.next=g,h.next=O}c.pending=h}gi=null}return s}function Qg(s,l){do{var c=ct;try{if(cd(),la.current=da,aa){for(var h=nt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}aa=!1}if(xi=0,mt=ht=nt=null,So=!1,bo=0,Hd.current=null,c===null||c.return===null){pt=1,Oo=l,ct=null;break}e:{var k=s,O=c.return,j=c,z=l;if(l=Nt,j.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var W=z,Y=j,ee=Y.tag;if(!(Y.mode&1)&&(ee===0||ee===11||ee===15)){var K=Y.alternate;K?(Y.updateQueue=K.updateQueue,Y.memoizedState=K.memoizedState,Y.lanes=K.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ue=kg(O);if(ue!==null){ue.flags&=-257,Cg(ue,O,j,k,l),ue.mode&1&&bg(k,W,l),l=ue,z=W;var me=l.updateQueue;if(me===null){var ye=new Set;ye.add(z),l.updateQueue=ye}else me.add(z);break e}else{if(!(l&1)){bg(k,W,l),Xd();break e}z=Error(t(426))}}else if(Ze&&j.mode&1){var at=kg(O);if(at!==null){!(at.flags&65536)&&(at.flags|=256),Cg(at,O,j,k,l),ad(ds(z,j));break e}}k=z=ds(z,j),pt!==4&&(pt=2),Mo===null?Mo=[k]:Mo.push(k),k=O;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var $=wg(k,z,l);Gm(k,$);break e;case 1:j=z;var _=k.type,H=k.stateNode;if(!(k.flags&128)&&(typeof _.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Pr===null||!Pr.has(H)))){k.flags|=65536,l&=-l,k.lanes|=l;var ie=Sg(k,j,l);Gm(k,ie);break e}}k=k.return}while(k!==null)}ty(c)}catch(ve){l=ve,ct===c&&c!==null&&(ct=c=c.return);continue}break}while(!0)}function Zg(){var s=ya.current;return ya.current=da,s===null?da:s}function Xd(){(pt===0||pt===3||pt===2)&&(pt=4),gt===null||!(vi&268435455)&&!(xa&268435455)||Ar(gt,Nt)}function Ca(s,l){var c=Fe;Fe|=2;var h=Zg();(gt!==s||Nt!==l)&&(ir=null,Si(s,l));do try{lb();break}catch(g){Qg(s,g)}while(!0);if(cd(),Fe=c,ya.current=h,ct!==null)throw Error(t(261));return gt=null,Nt=0,pt}function lb(){for(;ct!==null;)ey(ct)}function ab(){for(;ct!==null&&!jw();)ey(ct)}function ey(s){var l=iy(s.alternate,s,ln);s.memoizedProps=s.pendingProps,l===null?ty(s):ct=l,Hd.current=null}function ty(s){var l=s;do{var c=l.alternate;if(s=l.return,l.flags&32768){if(c=tb(c,l),c!==null){c.flags&=32767,ct=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{pt=6,ct=null;return}}else if(c=eb(c,l,ln),c!==null){ct=c;return}if(l=l.sibling,l!==null){ct=l;return}ct=l=s}while(l!==null);pt===0&&(pt=5)}function bi(s,l,c){var h=Ue,g=gn.transition;try{gn.transition=null,Ue=1,ub(s,l,c,h)}finally{gn.transition=g,Ue=h}return null}function ub(s,l,c,h){do ms();while(Dr!==null);if(Fe&6)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var k=c.lanes|c.childLanes;if(Ww(s,k),s===gt&&(ct=gt=null,Nt=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||wa||(wa=!0,sy(Ml,function(){return ms(),null})),k=(c.flags&15990)!==0,c.subtreeFlags&15990||k){k=gn.transition,gn.transition=null;var O=Ue;Ue=1;var j=Fe;Fe|=4,Hd.current=null,rb(s,c),Ug(c,s),TS(Xc),Ll=!!Yc,Xc=Yc=null,s.current=c,ib(c),Aw(),Fe=j,Ue=O,gn.transition=k}else s.current=c;if(wa&&(wa=!1,Dr=s,Sa=g),k=s.pendingLanes,k===0&&(Pr=null),zw(c.stateNode),Xt(s,lt()),l!==null)for(h=s.onRecoverableError,c=0;c<l.length;c++)g=l[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(va)throw va=!1,s=Ud,Ud=null,s;return Sa&1&&s.tag!==0&&ms(),k=s.pendingLanes,k&1?s===qd?To++:(To=0,qd=s):To=0,Or(),null}function ms(){if(Dr!==null){var s=Wp(Sa),l=gn.transition,c=Ue;try{if(gn.transition=null,Ue=16>s?16:s,Dr===null)var h=!1;else{if(s=Dr,Dr=null,Sa=0,Fe&6)throw Error(t(331));var g=Fe;for(Fe|=4,he=s.current;he!==null;){var k=he,O=k.child;if(he.flags&16){var j=k.deletions;if(j!==null){for(var z=0;z<j.length;z++){var W=j[z];for(he=W;he!==null;){var Y=he;switch(Y.tag){case 0:case 11:case 15:No(8,Y,k)}var ee=Y.child;if(ee!==null)ee.return=Y,he=ee;else for(;he!==null;){Y=he;var K=Y.sibling,ue=Y.return;if(Fg(Y),Y===W){he=null;break}if(K!==null){K.return=ue,he=K;break}he=ue}}}var me=k.alternate;if(me!==null){var ye=me.child;if(ye!==null){me.child=null;do{var at=ye.sibling;ye.sibling=null,ye=at}while(ye!==null)}}he=k}}if(k.subtreeFlags&2064&&O!==null)O.return=k,he=O;else e:for(;he!==null;){if(k=he,k.flags&2048)switch(k.tag){case 0:case 11:case 15:No(9,k,k.return)}var $=k.sibling;if($!==null){$.return=k.return,he=$;break e}he=k.return}}var _=s.current;for(he=_;he!==null;){O=he;var H=O.child;if(O.subtreeFlags&2064&&H!==null)H.return=O,he=H;else e:for(O=_;he!==null;){if(j=he,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:ga(9,j)}}catch(ve){rt(j,j.return,ve)}if(j===O){he=null;break e}var ie=j.sibling;if(ie!==null){ie.return=j.return,he=ie;break e}he=j.return}}if(Fe=g,Or(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Tl,s)}catch{}h=!0}return h}finally{Ue=c,gn.transition=l}}return!1}function ny(s,l,c){l=ds(c,l),l=wg(s,l,1),s=Tr(s,l,1),l=Ft(),s!==null&&(Qs(s,1,l),Xt(s,l))}function rt(s,l,c){if(s.tag===3)ny(s,s,c);else for(;l!==null;){if(l.tag===3){ny(l,s,c);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Pr===null||!Pr.has(h))){s=ds(c,s),s=Sg(l,s,1),l=Tr(l,s,1),s=Ft(),l!==null&&(Qs(l,1,s),Xt(l,s));break}}l=l.return}}function cb(s,l,c){var h=s.pingCache;h!==null&&h.delete(l),l=Ft(),s.pingedLanes|=s.suspendedLanes&c,gt===s&&(Nt&c)===c&&(pt===4||pt===3&&(Nt&130023424)===Nt&&500>lt()-Vd?Si(s,0):Wd|=c),Xt(s,l)}function ry(s,l){l===0&&(s.mode&1?(l=Pl,Pl<<=1,!(Pl&130023424)&&(Pl=4194304)):l=1);var c=Ft();s=tr(s,l),s!==null&&(Qs(s,l,c),Xt(s,c))}function db(s){var l=s.memoizedState,c=0;l!==null&&(c=l.retryLane),ry(s,c)}function fb(s,l){var c=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(l),ry(s,c)}var iy;iy=function(s,l,c){if(s!==null)if(s.memoizedProps!==l.pendingProps||Gt.current)Jt=!0;else{if(!(s.lanes&c)&&!(l.flags&128))return Jt=!1,ZS(s,l,c);Jt=!!(s.flags&131072)}else Jt=!1,Ze&&l.flags&1048576&&zm(l,Zl,l.index);switch(l.lanes=0,l.tag){case 2:var h=l.type;pa(s,l),s=l.pendingProps;var g=ns(l,Pt.current);us(l,c),g=Sd(null,l,h,s,g,c);var k=bd();return l.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Kt(h)?(k=!0,Yl(l)):k=!1,l.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,pd(l),g.updater=fa,l.stateNode=g,g._reactInternals=l,Md(l,h,s,c),l=Dd(null,l,h,!0,k,c)):(l.tag=0,Ze&&k&&id(l),Bt(null,l,g,c),l=l.child),l;case 16:h=l.elementType;e:{switch(pa(s,l),s=l.pendingProps,g=h._init,h=g(h._payload),l.type=h,g=l.tag=pb(h),s=On(h,s),g){case 0:l=Pd(null,l,h,s,c);break e;case 1:l=Rg(null,l,h,s,c);break e;case 11:l=Eg(null,l,h,s,c);break e;case 14:l=Ng(null,l,h,On(h.type,s),c);break e}throw Error(t(306,h,""))}return l;case 0:return h=l.type,g=l.pendingProps,g=l.elementType===h?g:On(h,g),Pd(s,l,h,g,c);case 1:return h=l.type,g=l.pendingProps,g=l.elementType===h?g:On(h,g),Rg(s,l,h,g,c);case 3:e:{if(Pg(l),s===null)throw Error(t(387));h=l.pendingProps,k=l.memoizedState,g=k.element,qm(s,l),sa(l,h,null,c);var O=l.memoizedState;if(h=O.element,k.isDehydrated)if(k={element:h,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){g=ds(Error(t(423)),l),l=Dg(s,l,h,c,g);break e}else if(h!==g){g=ds(Error(t(424)),l),l=Dg(s,l,h,c,g);break e}else for(on=Cr(l.stateNode.containerInfo.firstChild),sn=l,Ze=!0,Nn=null,c=Vm(l,null,h,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ss(),h===g){l=rr(s,l,c);break e}Bt(s,l,h,c)}l=l.child}return l;case 5:return Jm(l),s===null&&ld(l),h=l.type,g=l.pendingProps,k=s!==null?s.memoizedProps:null,O=g.children,Qc(h,g)?O=null:k!==null&&Qc(h,k)&&(l.flags|=32),Tg(s,l),Bt(s,l,O,c),l.child;case 6:return s===null&&ld(l),null;case 13:return jg(s,l,c);case 4:return md(l,l.stateNode.containerInfo),h=l.pendingProps,s===null?l.child=ls(l,null,h,c):Bt(s,l,h,c),l.child;case 11:return h=l.type,g=l.pendingProps,g=l.elementType===h?g:On(h,g),Eg(s,l,h,g,c);case 7:return Bt(s,l,l.pendingProps,c),l.child;case 8:return Bt(s,l,l.pendingProps.children,c),l.child;case 12:return Bt(s,l,l.pendingProps.children,c),l.child;case 10:e:{if(h=l.type._context,g=l.pendingProps,k=l.memoizedProps,O=g.value,Ke(na,h._currentValue),h._currentValue=O,k!==null)if(En(k.value,O)){if(k.children===g.children&&!Gt.current){l=rr(s,l,c);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var j=k.dependencies;if(j!==null){O=k.child;for(var z=j.firstContext;z!==null;){if(z.context===h){if(k.tag===1){z=nr(-1,c&-c),z.tag=2;var W=k.updateQueue;if(W!==null){W=W.shared;var Y=W.pending;Y===null?z.next=z:(z.next=Y.next,Y.next=z),W.pending=z}}k.lanes|=c,z=k.alternate,z!==null&&(z.lanes|=c),fd(k.return,c,l),j.lanes|=c;break}z=z.next}}else if(k.tag===10)O=k.type===l.type?null:k.child;else if(k.tag===18){if(O=k.return,O===null)throw Error(t(341));O.lanes|=c,j=O.alternate,j!==null&&(j.lanes|=c),fd(O,c,l),O=k.sibling}else O=k.child;if(O!==null)O.return=k;else for(O=k;O!==null;){if(O===l){O=null;break}if(k=O.sibling,k!==null){k.return=O.return,O=k;break}O=O.return}k=O}Bt(s,l,g.children,c),l=l.child}return l;case 9:return g=l.type,h=l.pendingProps.children,us(l,c),g=pn(g),h=h(g),l.flags|=1,Bt(s,l,h,c),l.child;case 14:return h=l.type,g=On(h,l.pendingProps),g=On(h.type,g),Ng(s,l,h,g,c);case 15:return Og(s,l,l.type,l.pendingProps,c);case 17:return h=l.type,g=l.pendingProps,g=l.elementType===h?g:On(h,g),pa(s,l),l.tag=1,Kt(h)?(s=!0,Yl(l)):s=!1,us(l,c),xg(l,h,g),Md(l,h,g,c),Dd(null,l,h,!0,s,c);case 19:return Lg(s,l,c);case 22:return Mg(s,l,c)}throw Error(t(156,l.tag))};function sy(s,l){return _p(s,l)}function hb(s,l,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(s,l,c,h){return new hb(s,l,c,h)}function Qd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function pb(s){if(typeof s=="function")return Qd(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===be)return 14}return 2}function Lr(s,l){var c=s.alternate;return c===null?(c=yn(s.tag,l,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=l,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,l=s.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Ea(s,l,c,h,g,k){var O=2;if(h=s,typeof s=="function")Qd(s)&&(O=1);else if(typeof s=="string")O=5;else e:switch(s){case R:return ki(c.children,g,k,l);case A:O=8,g|=8;break;case L:return s=yn(12,c,l,g|2),s.elementType=L,s.lanes=k,s;case ce:return s=yn(13,c,l,g),s.elementType=ce,s.lanes=k,s;case fe:return s=yn(19,c,l,g),s.elementType=fe,s.lanes=k,s;case de:return Na(c,g,k,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case q:O=10;break e;case J:O=9;break e;case U:O=11;break e;case be:O=14;break e;case pe:O=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return l=yn(O,c,l,g),l.elementType=s,l.type=h,l.lanes=k,l}function ki(s,l,c,h){return s=yn(7,s,h,l),s.lanes=c,s}function Na(s,l,c,h){return s=yn(22,s,h,l),s.elementType=de,s.lanes=c,s.stateNode={isHidden:!1},s}function Zd(s,l,c){return s=yn(6,s,null,l),s.lanes=c,s}function ef(s,l,c){return l=yn(4,s.children!==null?s.children:[],s.key,l),l.lanes=c,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function mb(s,l,c,h,g){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oc(0),this.expirationTimes=Oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oc(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function tf(s,l,c,h,g,k,O,j,z){return s=new mb(s,l,c,j,z),l===1?(l=1,k===!0&&(l|=8)):l=0,k=yn(3,null,null,l),s.current=k,k.stateNode=s,k.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},pd(k),s}function gb(s,l,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:h==null?null:""+h,children:s,containerInfo:l,implementation:c}}function oy(s){if(!s)return Nr;s=s._reactInternals;e:{if(di(s)!==s||s.tag!==1)throw Error(t(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Kt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Kt(c))return Am(s,c,l)}return l}function ly(s,l,c,h,g,k,O,j,z){return s=tf(c,h,!0,s,g,k,O,j,z),s.context=oy(null),c=s.current,h=Ft(),g=jr(c),k=nr(h,g),k.callback=l??null,Tr(c,k,g),s.current.lanes=g,Qs(s,g,h),Xt(s,h),s}function Oa(s,l,c,h){var g=l.current,k=Ft(),O=jr(g);return c=oy(c),l.context===null?l.context=c:l.pendingContext=c,l=nr(k,O),l.payload={element:s},h=h===void 0?null:h,h!==null&&(l.callback=h),s=Tr(g,l,O),s!==null&&(Rn(s,g,O,k),ia(s,g,O)),O}function Ma(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function ay(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<l?c:l}}function nf(s,l){ay(s,l),(s=s.alternate)&&ay(s,l)}var uy=typeof reportError=="function"?reportError:function(s){console.error(s)};function rf(s){this._internalRoot=s}Ta.prototype.render=rf.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(t(409));Oa(s,l,null,null)},Ta.prototype.unmount=rf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;wi(function(){Oa(null,s,null,null)}),l[Xn]=null}};function Ta(s){this._internalRoot=s}Ta.prototype.unstable_scheduleHydration=function(s){if(s){var l=qp();s={blockedOn:null,target:s,priority:l};for(var c=0;c<Sr.length&&l!==0&&l<Sr[c].priority;c++);Sr.splice(c,0,s),c===0&&Jp(s)}};function sf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ra(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function cy(){}function yb(s,l,c,h,g){if(g){if(typeof h=="function"){var k=h;h=function(){var W=Ma(O);k.call(W)}}var O=ly(l,h,s,0,null,!1,!1,"",cy);return s._reactRootContainer=O,s[Xn]=O.current,ho(s.nodeType===8?s.parentNode:s),wi(),O}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var j=h;h=function(){var W=Ma(z);j.call(W)}}var z=tf(s,0,!1,null,null,!1,!1,"",cy);return s._reactRootContainer=z,s[Xn]=z.current,ho(s.nodeType===8?s.parentNode:s),wi(function(){Oa(l,z,c,h)}),z}function Pa(s,l,c,h,g){var k=c._reactRootContainer;if(k){var O=k;if(typeof g=="function"){var j=g;g=function(){var z=Ma(O);j.call(z)}}Oa(l,O,s,g)}else O=yb(c,l,s,g,h);return Ma(O)}Vp=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var c=Xs(l.pendingLanes);c!==0&&(Mc(l,c|1),Xt(l,lt()),!(Fe&6)&&(ps=lt()+500,Or()))}break;case 13:wi(function(){var h=tr(s,1);if(h!==null){var g=Ft();Rn(h,s,1,g)}}),nf(s,1)}},Tc=function(s){if(s.tag===13){var l=tr(s,134217728);if(l!==null){var c=Ft();Rn(l,s,134217728,c)}nf(s,134217728)}},Up=function(s){if(s.tag===13){var l=jr(s),c=tr(s,l);if(c!==null){var h=Ft();Rn(c,s,l,h)}nf(s,l)}},qp=function(){return Ue},Gp=function(s,l){var c=Ue;try{return Ue=s,l()}finally{Ue=c}},Sc=function(s,l,c){switch(l){case"input":if(Se(s,c),l=c.name,c.type==="radio"&&l!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<c.length;l++){var h=c[l];if(h!==s&&h.form===s.form){var g=Kl(h);if(!g)throw Error(t(90));F(h),Se(h,g)}}}break;case"textarea":Yn(s,c);break;case"select":l=c.value,l!=null&&qt(s,!!c.multiple,l,!1)}},Pp=Jd,Dp=wi;var xb={usingClientEntryPoint:!1,Events:[go,es,Kl,Tp,Rp,Jd]},Ro={findFiberByHostInstance:fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vb={bundleType:Ro.bundleType,version:Ro.version,rendererPackageName:Ro.rendererPackageName,rendererConfig:Ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ip(s),s===null?null:s.stateNode},findFiberByHostInstance:Ro.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Da.isDisabled&&Da.supportsFiber)try{Tl=Da.inject(vb),zn=Da}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xb,Qt.createPortal=function(s,l){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sf(l))throw Error(t(200));return gb(s,l,null,c)},Qt.createRoot=function(s,l){if(!sf(s))throw Error(t(299));var c=!1,h="",g=uy;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onRecoverableError!==void 0&&(g=l.onRecoverableError)),l=tf(s,1,!1,null,null,c,!1,h,g),s[Xn]=l.current,ho(s.nodeType===8?s.parentNode:s),new rf(l)},Qt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ip(l),s=s===null?null:s.stateNode,s},Qt.flushSync=function(s){return wi(s)},Qt.hydrate=function(s,l,c){if(!Ra(l))throw Error(t(200));return Pa(null,s,l,!0,c)},Qt.hydrateRoot=function(s,l,c){if(!sf(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,g=!1,k="",O=uy;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(k=c.identifierPrefix),c.onRecoverableError!==void 0&&(O=c.onRecoverableError)),l=ly(l,null,s,1,c??null,g,!1,k,O),s[Xn]=l.current,ho(s),h)for(s=0;s<h.length;s++)c=h[s],g=c._getVersion,g=g(c._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[c,g]:l.mutableSourceEagerHydrationData.push(c,g);return new Ta(l)},Qt.render=function(s,l,c){if(!Ra(l))throw Error(t(200));return Pa(null,s,l,!1,c)},Qt.unmountComponentAtNode=function(s){if(!Ra(s))throw Error(t(40));return s._reactRootContainer?(wi(function(){Pa(null,null,s,!1,function(){s._reactRootContainer=null,s[Xn]=null})}),!0):!1},Qt.unstable_batchedUpdates=Jd,Qt.unstable_renderSubtreeIntoContainer=function(s,l,c,h){if(!Ra(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Pa(s,l,c,!1,h)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var xy;function qu(){if(xy)return af.exports;xy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),af.exports=Nb(),af.exports}var vy;function Ob(){if(vy)return ja;vy=1;var n=qu();return ja.createRoot=n.createRoot,ja.hydrateRoot=n.hydrateRoot,ja}var Mb=Ob(),Do={},wy;function Tb(){if(wy)return Do;wy=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.parse=a,Do.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function a(b,w){const x=new o,E=b.length;if(E<2)return x;const S=(w==null?void 0:w.decode)||p;let v=0;do{const C=b.indexOf("=",v);if(C===-1)break;const N=b.indexOf(";",v),T=N===-1?E:N;if(C>T){v=b.lastIndexOf(";",C-1)+1;continue}const M=u(b,v,C),P=d(b,C,M),R=b.slice(M,P);if(x[R]===void 0){let A=u(b,C+1,T),L=d(b,T,A);const q=S(b.slice(A,L));x[R]=q}v=T+1}while(v<E);return x}function u(b,w,x){do{const E=b.charCodeAt(w);if(E!==32&&E!==9)return w}while(++w<x);return x}function d(b,w,x){for(;w>x;){const E=b.charCodeAt(--w);if(E!==32&&E!==9)return w+1}return x}function f(b,w,x){const E=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const S=E(w);if(!e.test(S))throw new TypeError(`argument val is invalid: ${w}`);let v=b+"="+S;if(!x)return v;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);v+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);v+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);v+="; Path="+x.path}if(x.expires){if(!m(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);v+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(v+="; HttpOnly"),x.secure&&(v+="; Secure"),x.partitioned&&(v+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":v+="; Priority=Low";break;case"medium":v+="; Priority=Medium";break;case"high":v+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":v+="; SameSite=Strict";break;case"lax":v+="; SameSite=Lax";break;case"none":v+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return v}function p(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function m(b){return i.call(b)==="[object Date]"}return Do}Tb();/**
 * react-router v7.1.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sy="popstate";function Rb(n={}){function e(r,i){let{pathname:o,search:a,hash:u}=r.location;return Kf("",{pathname:o,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:ul(i)}return Db(e,t,null,n)}function et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Dn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pb(){return Math.random().toString(36).substring(2,10)}function by(n,e){return{usr:n.state,key:n.key,idx:e}}function Kf(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?zs(e):e,state:t,key:e&&e.key||r||Pb()}}function ul({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function zs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Db(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,u="POP",d=null,f=p();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function p(){return(a.state||{idx:null}).idx}function m(){u="POP";let S=p(),v=S==null?null:S-f;f=S,d&&d({action:u,location:E.location,delta:v})}function b(S,v){u="PUSH";let C=Kf(E.location,S,v);f=p()+1;let N=by(C,f),T=E.createHref(C);try{a.pushState(N,"",T)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(T)}o&&d&&d({action:u,location:E.location,delta:1})}function w(S,v){u="REPLACE";let C=Kf(E.location,S,v);f=p();let N=by(C,f),T=E.createHref(C);a.replaceState(N,"",T),o&&d&&d({action:u,location:E.location,delta:0})}function x(S){let v=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof S=="string"?S:ul(S);return C=C.replace(/ $/,"%20"),et(v,`No window.location.(origin|href) available to create URL for href: ${C}`),new URL(C,v)}let E={get action(){return u},get location(){return n(i,a)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Sy,m),d=S,()=>{i.removeEventListener(Sy,m),d=null}},createHref(S){return e(i,S)},createURL:x,encodeLocation(S){let v=x(S);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:b,replace:w,go(S){return a.go(S)}};return E}function Ix(n,e,t="/"){return jb(n,e,t,!1)}function jb(n,e,t,r){let i=typeof e=="string"?zs(e):e,o=ri(i.pathname||"/",t);if(o==null)return null;let a=zx(n);Ab(a);let u=null;for(let d=0;u==null&&d<a.length;++d){let f=Ub(o);u=Wb(a[d],f,r)}return u}function zx(n,e=[],t=[],r=""){let i=(o,a,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};d.relativePath.startsWith("/")&&(et(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=pr([r,d.relativePath]),p=t.concat(d);o.children&&o.children.length>0&&(et(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),zx(o.children,e,p,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:$b(f,o.index),routesMeta:p})};return n.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,a);else for(let d of _x(o.path))i(o,a,d)}),e}function _x(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=_x(r.join("/")),u=[];return u.push(...a.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...a),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function Ab(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Hb(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Lb=/^:[\w-]+$/,Ib=3,zb=2,_b=1,Bb=10,Fb=-2,ky=n=>n==="*";function $b(n,e){let t=n.split("/"),r=t.length;return t.some(ky)&&(r+=Fb),e&&(r+=zb),t.filter(i=>!ky(i)).reduce((i,o)=>i+(Lb.test(o)?Ib:o===""?_b:Bb),r)}function Hb(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Wb(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",a=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",m=ru({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),b=d.route;if(!m&&f&&t&&!r[r.length-1].route.index&&(m=ru({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:pr([o,m.pathname]),pathnameBase:Jb(pr([o,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(o=pr([o,m.pathnameBase]))}return a}function ru(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Vb(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},b)=>{if(p==="*"){let x=u[b]||"";a=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=u[b];return m&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:n}}function Vb(n,e=!1,t=!0){Dn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ub(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ri(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function qb(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?zs(n):n;return{pathname:t?t.startsWith("/")?t:Gb(t,e):e,search:Yb(r),hash:Xb(i)}}function Gb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function df(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Rh(n){let e=Kb(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Ph(n,e,t,r=!1){let i;typeof n=="string"?i=zs(n):(i={...n},et(!i.pathname||!i.pathname.includes("?"),df("?","pathname","search",i)),et(!i.pathname||!i.pathname.includes("#"),df("#","pathname","hash",i)),et(!i.search||!i.search.includes("#"),df("#","search","hash",i)));let o=n===""||i.pathname==="",a=o?"/":i.pathname,u;if(a==null)u=t;else{let m=e.length-1;if(!r&&a.startsWith("..")){let b=a.split("/");for(;b[0]==="..";)b.shift(),m-=1;i.pathname=b.join("/")}u=m>=0?e[m]:"/"}let d=qb(i,u),f=a&&a!=="/"&&a.endsWith("/"),p=(o||a===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var pr=n=>n.join("/").replace(/\/\/+/g,"/"),Jb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Yb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Xb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Qb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Bx=["POST","PUT","PATCH","DELETE"];new Set(Bx);var Zb=["GET",...Bx];new Set(Zb);var _s=D.createContext(null);_s.displayName="DataRouter";var Gu=D.createContext(null);Gu.displayName="DataRouterState";var Fx=D.createContext({isTransitioning:!1});Fx.displayName="ViewTransition";var ek=D.createContext(new Map);ek.displayName="Fetchers";var tk=D.createContext(null);tk.displayName="Await";var An=D.createContext(null);An.displayName="Navigation";var Sl=D.createContext(null);Sl.displayName="Location";var Ln=D.createContext({outlet:null,matches:[],isDataRoute:!1});Ln.displayName="Route";var Dh=D.createContext(null);Dh.displayName="RouteError";function nk(n,{relative:e}={}){et(Bs(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=D.useContext(An),{hash:i,pathname:o,search:a}=bl(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:pr([t,o])),r.createHref({pathname:u,search:a,hash:i})}function Bs(){return D.useContext(Sl)!=null}function Jn(){return et(Bs(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Sl).location}var $x="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hx(n){D.useContext(An).static||D.useLayoutEffect(n)}function In(){let{isDataRoute:n}=D.useContext(Ln);return n?mk():rk()}function rk(){et(Bs(),"useNavigate() may be used only in the context of a <Router> component.");let n=D.useContext(_s),{basename:e,navigator:t}=D.useContext(An),{matches:r}=D.useContext(Ln),{pathname:i}=Jn(),o=JSON.stringify(Rh(r)),a=D.useRef(!1);return Hx(()=>{a.current=!0}),D.useCallback((d,f={})=>{if(Dn(a.current,$x),!a.current)return;if(typeof d=="number"){t.go(d);return}let p=Ph(d,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:pr([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,o,i,n])}D.createContext(null);function Wx(){let{matches:n}=D.useContext(Ln),e=n[n.length-1];return e?e.params:{}}function bl(n,{relative:e}={}){let{matches:t}=D.useContext(Ln),{pathname:r}=Jn(),i=JSON.stringify(Rh(t));return D.useMemo(()=>Ph(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function ik(n,e){return Vx(n,e)}function Vx(n,e,t,r){var C;et(Bs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=D.useContext(An),{matches:a}=D.useContext(Ln),u=a[a.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let N=m&&m.path||"";Ux(f,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let b=Jn(),w;if(e){let N=typeof e=="string"?zs(e):e;et(p==="/"||((C=N.pathname)==null?void 0:C.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${N.pathname}" was given in the \`location\` prop.`),w=N}else w=b;let x=w.pathname||"/",E=x;if(p!=="/"){let N=p.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=!o&&t&&t.matches&&t.matches.length>0?t.matches:Ix(n,{pathname:E});Dn(m||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Dn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=uk(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:pr([p,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:pr([p,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,t,r);return e&&v?D.createElement(Sl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},v):v}function sk(){let n=pk(),e=Qb(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:o},"ErrorBoundary")," or"," ",D.createElement("code",{style:o},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:i},t):null,a)}var ok=D.createElement(sk,null),lk=class extends D.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?D.createElement(Ln.Provider,{value:this.props.routeContext},D.createElement(Dh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ak({routeContext:n,match:e,children:t}){let r=D.useContext(_s);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Ln.Provider,{value:n},t)}function uk(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);et(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let a=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:m}=t,b=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||b){a=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let m,b=!1,w=null,x=null;t&&(m=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||ok,a&&(u<0&&p===0?(Ux("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):u===p&&(b=!0,x=f.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,p+1)),S=()=>{let v;return m?v=w:b?v=x:f.route.Component?v=D.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,D.createElement(ak,{match:f,routeContext:{outlet:d,matches:E,isDataRoute:t!=null},children:v})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?D.createElement(lk,{location:t.location,revalidation:t.revalidation,component:w,error:m,children:S(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):S()},null)}function jh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ck(n){let e=D.useContext(_s);return et(e,jh(n)),e}function dk(n){let e=D.useContext(Gu);return et(e,jh(n)),e}function fk(n){let e=D.useContext(Ln);return et(e,jh(n)),e}function Ah(n){let e=fk(n),t=e.matches[e.matches.length-1];return et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function hk(){return Ah("useRouteId")}function pk(){var r;let n=D.useContext(Dh),e=dk("useRouteError"),t=Ah("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function mk(){let{router:n}=ck("useNavigate"),e=Ah("useNavigate"),t=D.useRef(!1);return Hx(()=>{t.current=!0}),D.useCallback(async(i,o={})=>{Dn(t.current,$x),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var Cy={};function Ux(n,e,t){!e&&!Cy[n]&&(Cy[n]=!0,Dn(!1,t))}D.memo(gk);function gk({routes:n,future:e,state:t}){return Vx(n,void 0,t,e)}function jo({to:n,replace:e,state:t,relative:r}){et(Bs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=D.useContext(An);Dn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=D.useContext(Ln),{pathname:a}=Jn(),u=In(),d=Ph(n,Rh(o),a,r==="path"),f=JSON.stringify(d);return D.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:r})},[u,f,r,e,t]),null}function an(n){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yk({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){et(!Bs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof t=="string"&&(t=zs(t));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:b="default"}=t,w=D.useMemo(()=>{let x=ri(d,a);return x==null?null:{location:{pathname:x,search:f,hash:p,state:m,key:b},navigationType:r}},[a,d,f,p,m,b,r]);return Dn(w!=null,`<Router basename="${a}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:D.createElement(An.Provider,{value:u},D.createElement(Sl.Provider,{children:e,value:w}))}function xk({children:n,location:e}){return ik(Jf(n),e)}function Jf(n,e=[]){let t=[];return D.Children.forEach(n,(r,i)=>{if(!D.isValidElement(r))return;let o=[...e,i];if(r.type===D.Fragment){t.push.apply(t,Jf(r.props.children,o));return}et(r.type===an,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Jf(r.props.children,o)),t.push(a)}),t}var Ja="get",Ya="application/x-www-form-urlencoded";function Ku(n){return n!=null&&typeof n.tagName=="string"}function vk(n){return Ku(n)&&n.tagName.toLowerCase()==="button"}function wk(n){return Ku(n)&&n.tagName.toLowerCase()==="form"}function Sk(n){return Ku(n)&&n.tagName.toLowerCase()==="input"}function bk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function kk(n,e){return n.button===0&&(!e||e==="_self")&&!bk(n)}var Aa=null;function Ck(){if(Aa===null)try{new FormData(document.createElement("form"),0),Aa=!1}catch{Aa=!0}return Aa}var Ek=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ff(n){return n!=null&&!Ek.has(n)?(Dn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ya}"`),null):n}function Nk(n,e){let t,r,i,o,a;if(wk(n)){let u=n.getAttribute("action");r=u?ri(u,e):null,t=n.getAttribute("method")||Ja,i=ff(n.getAttribute("enctype"))||Ya,o=new FormData(n)}else if(vk(n)||Sk(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?ri(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Ja,i=ff(n.getAttribute("formenctype"))||ff(u.getAttribute("enctype"))||Ya,o=new FormData(u,n),!Ck()){let{name:f,type:p,value:m}=n;if(p==="image"){let b=f?`${f}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else f&&o.append(f,m)}}else{if(Ku(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ja,r=null,i=Ya,a=n}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:a}}function Lh(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Ok(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Tk(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await Ok(o,t);return a.links?a.links():[]}return[]}));return jk(r.flat(1).filter(Mk).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Ey(n,e,t,r,i,o){let a=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>{var p;return t[f].pathname!==d.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>a(d,f)||u(d,f)):o==="data"?e.filter((d,f)=>{var m;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(a(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Rk(n,e){return Pk(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function Pk(n){return[...new Set(n)]}function Dk(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function jk(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(Dk(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function Ak(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Lk(){let n=D.useContext(_s);return Lh(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Ik(){let n=D.useContext(Gu);return Lh(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ih=D.createContext(void 0);Ih.displayName="FrameworkContext";function qx(){let n=D.useContext(Ih);return Lh(n,"You must render this element inside a <HydratedRouter> element"),n}function zk(n,e){let t=D.useContext(Ih),[r,i]=D.useState(!1),[o,a]=D.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,b=D.useRef(null);D.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let E=v=>{v.forEach(C=>{a(C.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[n]),D.useEffect(()=>{if(r){let E=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(E)}}},[r]);let w=()=>{i(!0)},x=()=>{i(!1),a(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:Ao(u,w),onBlur:Ao(d,x),onMouseEnter:Ao(f,w),onMouseLeave:Ao(p,x),onTouchStart:Ao(m,w)}]:[!1,b,{}]}function Ao(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function _k({page:n,...e}){let{router:t}=Lk(),r=D.useMemo(()=>Ix(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?D.createElement(Fk,{page:n,matches:r,...e}):null}function Bk(n){let{manifest:e,routeModules:t}=qx(),[r,i]=D.useState([]);return D.useEffect(()=>{let o=!1;return Tk(n,e,t).then(a=>{o||i(a)}),()=>{o=!0}},[n,e,t]),r}function Fk({page:n,matches:e,...t}){let r=Jn(),{manifest:i,routeModules:o}=qx(),{loaderData:a,matches:u}=Ik(),d=D.useMemo(()=>Ey(n,e,u,i,r,"data"),[n,e,u,i,r]),f=D.useMemo(()=>Ey(n,e,u,i,r,"assets"),[n,e,u,i,r]),p=D.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,x=!1;if(e.forEach(S=>{var C;let v=i.routes[S.route.id];!v||!v.hasLoader||(!d.some(N=>N.route.id===S.route.id)&&S.route.id in a&&((C=o[S.route.id])!=null&&C.shouldRevalidate)||v.hasClientLoader?x=!0:w.add(S.route.id))}),w.size===0)return[];let E=Ak(n);return x&&w.size>0&&E.searchParams.set("_routes",e.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[E.pathname+E.search]},[a,r,i,d,e,n,o]),m=D.useMemo(()=>Rk(f,i),[f,i]),b=Bk(f);return D.createElement(D.Fragment,null,p.map(w=>D.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),m.map(w=>D.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),b.map(({key:w,link:x})=>D.createElement("link",{key:w,...x})))}function $k(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Gx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gx&&(window.__reactRouterVersion="7.1.4")}catch{}function Hk({basename:n,children:e,window:t}){let r=D.useRef();r.current==null&&(r.current=Rb({window:t,v5Compat:!0}));let i=r.current,[o,a]=D.useState({action:i.action,location:i.location}),u=D.useCallback(d=>{D.startTransition(()=>a(d))},[a]);return D.useLayoutEffect(()=>i.listen(u),[i,u]),D.createElement(yk,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var Kx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=D.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m,...b},w){let{basename:x}=D.useContext(An),E=typeof f=="string"&&Kx.test(f),S,v=!1;if(typeof f=="string"&&E&&(S=f,Gx))try{let L=new URL(window.location.href),q=f.startsWith("//")?new URL(L.protocol+f):new URL(f),J=ri(q.pathname,x);q.origin===L.origin&&J!=null?f=J+q.search+q.hash:v=!0}catch{Dn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=nk(f,{relative:i}),[N,T,M]=zk(r,b),P=Uk(f,{replace:a,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:m});function R(L){e&&e(L),L.defaultPrevented||P(L)}let A=D.createElement("a",{...b,...M,href:S||C,onClick:v||o?e:R,ref:$k(w,T),target:d,"data-discover":!E&&t==="render"?"true":void 0});return N&&!E?D.createElement(D.Fragment,null,A,D.createElement(_k,{page:C})):A});vt.displayName="Link";var xs=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:u,children:d,...f},p){let m=bl(a,{relative:f.relative}),b=Jn(),w=D.useContext(Gu),{navigator:x,basename:E}=D.useContext(An),S=w!=null&&Yk(m)&&u===!0,v=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,C=b.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(C=C.toLowerCase(),N=N?N.toLowerCase():null,v=v.toLowerCase()),N&&E&&(N=ri(N,E)||N);const T=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let M=C===v||!i&&C.startsWith(v)&&C.charAt(T)==="/",P=N!=null&&(N===v||!i&&N.startsWith(v)&&N.charAt(v.length)==="/"),R={isActive:M,isPending:P,isTransitioning:S},A=M?e:void 0,L;typeof r=="function"?L=r(R):L=[r,M?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let q=typeof o=="function"?o(R):o;return D.createElement(vt,{...f,"aria-current":A,className:L,ref:p,style:q,to:a,viewTransition:u},typeof d=="function"?d(R):d)});xs.displayName="NavLink";var Wk=D.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:a=Ja,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...b},w)=>{let x=Kk(),E=Jk(u,{relative:f}),S=a.toLowerCase()==="get"?"get":"post",v=typeof u=="string"&&Kx.test(u),C=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let T=N.nativeEvent.submitter,M=(T==null?void 0:T.getAttribute("formmethod"))||a;x(T||N.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:i,state:o,relative:f,preventScrollReset:p,viewTransition:m})};return D.createElement("form",{ref:w,method:S,action:E,onSubmit:r?d:C,...b,"data-discover":!v&&n==="render"?"true":void 0})});Wk.displayName="Form";function Vk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jx(n){let e=D.useContext(_s);return et(e,Vk(n)),e}function Uk(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let u=In(),d=Jn(),f=bl(n,{relative:o});return D.useCallback(p=>{if(kk(p,e)){p.preventDefault();let m=t!==void 0?t:ul(d)===ul(f);u(n,{replace:m,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[d,u,f,t,r,e,n,i,o,a])}var qk=0,Gk=()=>`__${String(++qk)}__`;function Kk(){let{router:n}=Jx("useSubmit"),{basename:e}=D.useContext(An),t=hk();return D.useCallback(async(r,i={})=>{let{action:o,method:a,encType:u,formData:d,body:f}=Nk(r,e);if(i.navigate===!1){let p=i.fetcherKey||Gk();await n.fetch(p,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||a,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||a,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function Jk(n,{relative:e}={}){let{basename:t}=D.useContext(An),r=D.useContext(Ln);et(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...bl(n||".",{relative:e})},a=Jn();if(n==null){o.search=a.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:pr([t,o.pathname])),ul(o)}function Yk(n,e={}){let t=D.useContext(Fx);et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Jx("useViewTransitionState"),i=bl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ri(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=ri(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ru(i.pathname,a)!=null||ru(i.pathname,o)!=null}new TextEncoder;const Ju="/api/auth";function Yu(){const n=localStorage.getItem("token");if(!n)return null;try{return JSON.parse(atob(n.split(".")[1])).exp*1e3<Date.now()+3e5?Xk():n}catch(e){return console.error("Error parsing token:",e),localStorage.removeItem("token"),null}}async function Xk(){try{const n=await qe(`${Ju}/refresh`,"POST");if(n.token)return localStorage.setItem("token",n.token),n.token;throw new Error("No token in refresh response")}catch(n){return console.error("Token refresh failed:",n),localStorage.removeItem("token"),null}}async function Qk(n){const e=await qe(`${Ju}/login`,"POST",n);return e.token&&(localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.user))),e.user}function Yx(n="/login"){try{localStorage.removeItem("token"),localStorage.removeItem("user"),sessionStorage.clear(),qe(`${Ju}/logout`,"POST").catch(console.error);const e=encodeURIComponent(n);window.location.replace(`/login?returnUrl=${e}`)}catch(e){console.error("Logout error:",e),window.location.replace("/login")}}async function Zk(n){try{const e=await qe(`${Ju}/signup`,"POST",n);return e.token&&localStorage.setItem("token",e.token),e.user}catch(e){throw console.error("Signup error:",e),new Error(e.message||"Signup failed")}}function eC(n){if(n.status===401){const e=window.location.pathname;return Yx(e),!0}return!1}const Ny=2,Oy=1e3;async function My(n){return new Promise(e=>setTimeout(e,n))}async function qe(n,e="GET",t=null,r=0){const i={method:e};i.headers={};const o=Yu();o&&(i.headers.Authorization=`Bearer ${o}`),t&&(t instanceof FormData?i.body=t:(i.headers["Content-Type"]="application/json",i.body=JSON.stringify(t)));try{const a=new AbortController,u=setTimeout(()=>a.abort(),3e4);i.signal=a.signal,console.log(`Sending ${e} request to ${n}`);const d=await fetch(n,i);if(clearTimeout(u),d.status===204)return null;let f;try{f=await d.json()}catch(p){throw console.error("Error parsing JSON:",p),new Error("Invalid response format from server")}if(!d.ok){if(console.error("Request failed:",f),d.status===429&&r<Ny){const m=parseInt(d.headers.get("Retry-After"))||Oy;return await My(m),qe(n,e,t,r+1)}const p=new Error(f.message||f.error||"Request failed");throw p.status=d.status,p}return f}catch(a){if(console.error("Request error:",a),a.name==="AbortError")throw new Error("Request timed out");if(a.name==="TypeError"&&r<Ny)return await My(Oy),qe(n,e,t,r+1);if(a.status===401){const u=window.location.pathname+window.location.search;if(localStorage.setItem("redirectUrl",u),eC(a))return}throw a}}const Xu="/api/spotify";async function tC(){try{if(console.log("Frontend: Initiating Spotify connection..."),!Yu())throw console.error("Frontend: No auth token available"),new Error("Authentication required");const e=await qe(`${Xu}/connect`);if(console.log("Frontend: Spotify connect response:",e),!(e!=null&&e.url))throw console.error("Frontend: No authorization URL received"),new Error("No authorization URL received");return e}catch(n){throw console.error("Frontend: Error connecting to Spotify:",n),new Error("Failed to connect to Spotify. Please try again.")}}async function nC(n,e){try{if(console.log("Frontend: Handling Spotify callback...",{code:n,state:e}),!n||!e)throw console.error("Frontend: Invalid callback parameters"),new Error("Invalid authorization code or state");const t=await qe(`${Xu}/callback`,"POST",{code:n,state:e});return console.log("Frontend: Spotify callback response:",t),t}catch(t){throw console.error("Frontend: Error handling Spotify callback:",t),new Error("Failed to authenticate with Spotify. Please try again.")}}async function Xx(){try{if(console.log("Frontend: Checking Spotify status..."),!Yu())return console.log("Frontend: No auth token, returning disconnected status"),{connected:!1};const e=await qe(`${Xu}/status`);return console.log("Frontend: Spotify status response:",e),{connected:!!(e!=null&&e.connected),userId:e==null?void 0:e.userId}}catch(n){if(console.error("Frontend: Spotify status check error:",n),n.status===401)return console.log("Frontend: Unauthorized, returning disconnected status"),{connected:!1};throw n}}async function rC(){try{console.log("Frontend: Disconnecting from Spotify...");const n=await qe(`${Xu}/disconnect`,"POST");return console.log("Frontend: Spotify disconnect response:",n),n}catch(n){throw console.error("Frontend: Error disconnecting from Spotify:",n),new Error("Failed to disconnect from Spotify. Please try again.")}}function iC({user:n,setUser:e}){const t=In();function r(){Yx(),e(null),t("/")}return y.jsx("div",{className:"px-6 py-4",children:y.jsx("nav",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg",children:y.jsx("div",{className:"max-w-7xl mx-auto px-6",children:y.jsxs("div",{className:"flex justify-between h-16",children:[y.jsx("div",{className:"flex items-center",children:y.jsx(vt,{to:"/",className:"font-sans text-2xl tracking-tight font-bold bg-gradient-to-r from-emerald-500 to-teal-600 bg-clip-text text-transparent hover:opacity-80 transition-opacity",children:"Music Dashboard"})}),y.jsx("div",{className:"flex items-center space-x-4",children:n?y.jsxs(y.Fragment,{children:[y.jsx(xs,{to:"/dashboard",className:({isActive:i})=>`
                      px-3 py-2 rounded-lg transition-all
                      ${i?"bg-emerald-100 text-emerald-800 font-medium":"text-gray-600 hover:bg-gray-50"}
                    `,children:"Dashboard"}),y.jsx(xs,{to:"/blog",className:({isActive:i})=>`
                      px-3 py-2 rounded-lg transition-all
                      ${i?"bg-emerald-100 text-emerald-800 font-medium":"text-gray-600 hover:bg-gray-50"}
                    `,children:"Blog"}),y.jsx(xs,{to:"/profile",className:({isActive:i})=>`
                      px-3 py-2 rounded-lg transition-all
                      ${i?"bg-emerald-100 text-emerald-800 font-medium":"text-gray-600 hover:bg-gray-50"}
                    `,children:"Profile"}),y.jsxs("div",{className:"border-l border-gray-200 pl-4 ml-4 flex items-center space-x-4",children:[y.jsx("span",{className:"font-medium text-gray-700",children:n.name}),y.jsx("button",{onClick:r,className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg hover:opacity-90 transition-opacity font-medium",children:"Log Out"})]})]}):y.jsxs(y.Fragment,{children:[y.jsx(xs,{to:"/login",className:({isActive:i})=>`
                      px-4 py-2 rounded-lg transition-all
                      ${i?"bg-emerald-100 text-emerald-800 font-medium":"text-gray-600 hover:bg-gray-50"}
                    `,children:"Log In"}),y.jsx(xs,{to:"/signup",className:({isActive:i})=>`
                      px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg hover:opacity-90 transition-opacity font-medium
                      ${i?"opacity-90":""}
                    `,children:"Sign Up"})]})})]})})})})}const sC=()=>{const[n,e]=D.useState(!0),[t,r]=D.useState(null),i=In();return D.useEffect(()=>{(async()=>{const a=new URLSearchParams(window.location.search),u=a.get("code"),d=a.get("state");if(!u){r("No authorization code received"),e(!1);return}try{const f=await nC(u,d);f&&f.access_token?i("/"):r("Failed to authenticate with Spotify")}catch(f){console.error("Error handling Spotify callback:",f),r("An error occurred while connecting to Spotify")}finally{e(!1)}})()},[i]),n?y.jsx("div",{children:"Connecting to Spotify..."}):t?y.jsxs("div",{children:["Error: ",t]}):null},Qx="/api/weekly-playlist";async function oC(){return qe(`${Qx}/current`)}async function lC(n){try{return await qe(`${Qx}/update`,"POST",n)}catch(e){throw console.error("Error updating weekly playlist:",e),e}}function aC(){const[n,e]=D.useState(""),[t,r]=D.useState(""),[i,o]=D.useState(""),[a,u]=D.useState(""),d=In(),f=async p=>{p.preventDefault();try{const m=n.split("/").pop().split("?")[0],b=`https://open.spotify.com/embed/playlist/${m}`;await lC({spotifyPlaylistId:m,embedUrl:b,title:t,description:i}),e(""),r(""),o(""),d("/dashboard")}catch(m){console.error("Failed to update playlist:",m),u(m.message||"Failed to update playlist")}};return y.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[y.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Update Weekly Playlist"}),a&&y.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:a}),y.jsxs("form",{onSubmit:f,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Spotify Playlist URL"}),y.jsx("input",{type:"text",value:n,onChange:p=>e(p.target.value),className:"w-full p-2 border rounded",placeholder:"https://open.spotify.com/playlist/...",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),y.jsx("input",{type:"text",value:t,onChange:p=>r(p.target.value),className:"w-full p-2 border rounded",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),y.jsx("textarea",{value:i,onChange:p=>o(p.target.value),className:"w-full p-2 border rounded",rows:3})]}),y.jsx("button",{type:"submit",className:"bg-emerald-600 text-white px-4 py-2 rounded hover:bg-emerald-700",children:"Update Weekly Playlist"})]})]})}const uC="/api/news";function cC(n=""){return qe(`${uC}?genre=${n}`,"GET")}const zh="/api/articles";function dC(n){return qe(`${zh}/save`,"POST",n)}function fC(){return qe(`${zh}/saved`)}function hC(n){return qe(`${zh}/saved/${n}`,"DELETE")}function pC({article:n}){async function e(){try{await dC({title:n.title,description:n.description,url:n.url,urlToImage:n.urlToImage,publishedAt:n.publishedAt})}catch(t){console.error("Error saving article:",t)}}return y.jsxs("article",{className:"bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[n.urlToImage&&y.jsx("div",{className:"aspect-video mb-3 overflow-hidden rounded-lg",children:y.jsx("img",{src:n.urlToImage,alt:n.title,className:"w-full h-full object-cover"})}),y.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2 text-gray-800",children:n.title}),y.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:n.description}),y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-gray-500",children:new Date(n.publishedAt).toLocaleDateString()}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:e,className:"text-purple-600 hover:text-purple-700 px-3 py-1 rounded-md border border-purple-600 hover:border-purple-700 transition-colors",children:"Save"}),y.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-700 px-3 py-1 rounded-md border border-purple-600 hover:border-purple-700 transition-colors",children:"Read"})]})]})]})}function Zx(){const[n,e]=D.useState([]),[t,r]=D.useState(""),[i,o]=D.useState(!1),a=["Rock","Hip Hop","Electronic","Pop","Jazz","Classical"];D.useEffect(()=>{u()},[t]);async function u(){try{o(!0);const d=await cC(t);e(d)}catch(d){console.error(d)}finally{o(!1)}}return y.jsxs("div",{className:"space-y-6",children:[y.jsx("div",{className:"sticky top-0 bg-white z-10 pb-4",children:y.jsxs("select",{value:t,onChange:d=>r(d.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[y.jsx("option",{value:"",children:"All Genres"}),a.map(d=>y.jsx("option",{value:d,children:d},d))]})}),i?y.jsx("div",{className:"flex justify-center items-center py-8",children:y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):y.jsx("div",{className:"grid gap-6 grid-cols-1",children:n.length===0?y.jsx("p",{className:"text-gray-500 text-center py-8",children:"No articles found. Try a different genre."}):n.map((d,f)=>y.jsx(pC,{article:d},`${d.url}-${f}`))})]})}const ev="/api/playlist";async function mC(){try{return await qe(ev,"POST")}catch(n){throw console.error("Playlist service error:",n),n}}async function tv(){try{return await qe(`${ev}/stats`,"GET")}catch(n){return console.error("Failed to fetch user stats:",n),{topArtists:[],topAlbums:[],topGenres:[]}}}/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nv=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=D.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...u},d)=>D.createElement("svg",{ref:d,...yC,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:nv("lucide",i),...u},[...a.map(([f,p])=>D.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(n,e)=>{const t=D.forwardRef(({className:r,...i},o)=>D.createElement(xC,{ref:o,iconNode:e,className:nv(`lucide-${gC(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],wC=$e("Bold",vC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],bC=$e("BookmarkCheck",SC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],CC=$e("BookmarkPlus",kC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],NC=$e("Bookmark",EC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Yf=$e("ChartNoAxesColumn",OC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],TC=$e("ChevronDown",MC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],PC=$e("ChevronUp",RC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],jC=$e("Clock",DC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],rv=$e("Crown",AC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],iv=$e("Disc",LC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],sv=$e("FileText",IC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],_C=$e("Heading1",zC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],FC=$e("Heading2",BC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],HC=$e("Heart",$C);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],VC=$e("Image",WC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],qC=$e("Italic",UC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],KC=$e("Link",GC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],YC=$e("ListOrdered",JC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],QC=$e("List",XC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],si=$e("LoaderCircle",ZC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],tE=$e("MessageSquare",eE);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Xr=$e("Music",nE);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]],iE=$e("Newspaper",rE);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],oE=$e("Quote",sE);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],aE=$e("Redo",lE);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],cE=$e("Search",uE);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fE=$e("Send",dE);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],pE=$e("Share2",hE);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],gE=$e("Strikethrough",mE);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],xE=$e("Trash2",yE);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],wE=$e("Undo",vE);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],bE=$e("Users",SE);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_h=$e("X",kE);function CE({title:n="Music Player",actionButtonText:e="Create Playlist",loadingText:t="Generating...",onPlaylistCreated:r}){const[i,o]=D.useState(!1),[a,u]=D.useState(""),[d,f]=D.useState(null),[p,m]=D.useState({topArtists:[],topAlbums:[],topGenres:[]});async function b(){var w;try{u(""),o(!0);const x=await mC();console.log("Playlist created:",x),(x!=null&&x.url||x!=null&&x.embedUrl)&&(f(x),r==null||r(x))}catch(x){console.error("Playlist creation error:",x),(w=x.message)!=null&&w.includes("reconnect")?u("Please reconnect your Spotify account"):u(x.message||"Failed to create playlist")}finally{o(!1)}}return D.useEffect(()=>{async function w(){try{const x=await tv();m(x)}catch(x){console.error("Failed to fetch user stats:",x)}}w()},[]),y.jsxs("div",{className:"p-6",children:[y.jsx("div",{className:"mb-6",children:y.jsxs("h2",{className:"text-emerald-800 flex items-center gap-2 text-xl font-semibold",children:[y.jsx(Xr,{className:"h-5 w-5"}),n]})}),y.jsxs("div",{children:[a&&y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a}),d&&d.embedUrl?y.jsxs("div",{className:"space-y-6",children:[y.jsx("div",{className:"w-full h-[600px]",children:y.jsx("iframe",{src:d.embedUrl,width:"100%",height:"100%",frameBorder:"0",allowFullScreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",className:"rounded-lg"})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"space-y-3",children:[y.jsxs("h3",{className:"text-emerald-800 font-medium flex items-center gap-2",children:[y.jsx(Xr,{className:"h-4 w-4"}),"Top Artists"]}),y.jsx("div",{className:"space-y-2",children:p.topArtists&&p.topArtists.length>0?y.jsx("ul",{className:"space-y-2",children:p.topArtists.map((w,x)=>y.jsxs("li",{className:"text-sm text-gray-600 flex items-center justify-between border-b border-gray-100 pb-2",children:[y.jsx("span",{children:w.name}),y.jsxs("span",{className:"text-xs text-emerald-600 font-medium",children:["#",x+1]})]},x))}):y.jsx("p",{className:"text-sm text-gray-500",children:"Loading artist data..."})})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("h3",{className:"text-emerald-800 font-medium flex items-center gap-2",children:[y.jsx(iv,{className:"h-4 w-4"}),"Top Albums"]}),y.jsx("div",{className:"space-y-2",children:p.topAlbums&&p.topAlbums.length>0?y.jsx("ul",{className:"space-y-2",children:p.topAlbums.map((w,x)=>y.jsxs("li",{className:"text-sm text-gray-600 flex items-center justify-between border-b border-gray-100 pb-2",children:[y.jsx("span",{children:w.name}),y.jsxs("span",{className:"text-xs text-emerald-600 font-medium",children:["#",x+1]})]},x))}):y.jsx("p",{className:"text-sm text-gray-500",children:"Loading album data..."})})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("h3",{className:"text-emerald-800 font-medium flex items-center gap-2",children:[y.jsx(Yf,{className:"h-4 w-4"}),"Top Genres"]}),y.jsx("div",{className:"space-y-2",children:p.topGenres&&p.topGenres.length>0?y.jsx("ul",{className:"space-y-2",children:p.topGenres.map((w,x)=>y.jsxs("li",{className:"text-sm text-gray-600 flex items-center justify-between border-b border-gray-100 pb-2",children:[y.jsx("span",{children:w.name}),y.jsxs("span",{className:"text-xs text-emerald-600 font-medium",children:["#",x+1]})]},x))}):y.jsx("p",{className:"text-sm text-gray-500",children:"Loading genre data..."})})]})]})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[y.jsx(Xr,{className:"w-12 h-12 text-emerald-600"}),y.jsx("p",{className:"text-gray-600 text-sm text-center mb-4",children:"Generate a playlist with 20 randomly selected songs from your Spotify favorites!"}),y.jsxs("button",{onClick:b,disabled:i,className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center space-x-2",children:[i&&y.jsx(si,{className:"w-4 h-4 animate-spin"}),y.jsx("span",{children:i?t:e})]})]})]})]})}function EE(){return D.useState("news"),y.jsxs("div",{className:"landing-page",children:[y.jsxs("div",{className:"hero-section",children:[y.jsx("h1",{children:"Welcome to Music Dashboard"}),y.jsx("p",{children:"Your personal music news and playlist generator"})]}),y.jsxs("div",{className:"preview-sections",children:[y.jsxs("section",{className:"preview-box",children:[y.jsx("h2",{children:"Music News"}),y.jsx("div",{className:"preview-content",children:y.jsx(Zx,{previewMode:!0,maxItems:3})}),y.jsx(vt,{to:"/signup",className:"cta-button",children:"Sign Up to Save Articles"})]}),y.jsxs("section",{className:"preview-box",children:[y.jsx("h2",{children:"Playlist Generator"}),y.jsx("div",{className:"preview-content",children:y.jsxs("div",{className:"mood-genres-preview",children:[y.jsx("h3",{children:"Generate random playlists: "}),y.jsxs("ul",{children:[y.jsx("li",{children:"Past Favorites"}),y.jsx("li",{children:"Future Classics"})]})]})}),y.jsx(vt,{to:"/signup",className:"cta-button",children:"Sign Up to Create Playlists"})]}),y.jsxs("section",{className:"preview-box",children:[y.jsx("h2",{children:"How It Works"}),y.jsx("div",{className:"preview-content",children:y.jsxs("div",{className:"features-list",children:[y.jsx("div",{className:"feature-item",children:y.jsx("h3",{children:"1. Connect Spotify"})}),y.jsxs("div",{className:"feature-item",children:[y.jsx("h3",{children:"2. Generate & Save"}),y.jsx("p",{children:"Create custom playlists and save favorite articles"})]})]})}),y.jsx(vt,{to:"/signup",className:"cta-button",children:"Get Started"})]})]})]})}function NE({setUser:n}){const[e,t]=D.useState({name:"",email:"",password:"",confirm:"",adminCode:""}),[r,i]=D.useState(""),o=In();function a(f){t({...e,[f.target.name]:f.target.value}),i("")}async function u(f){if(f.preventDefault(),e.password!==e.confirm){i("Passwords do not match");return}if(e.password.length<8){i("Password must be at least 8 characters long");return}try{const p=await Zk(e);n(p),o("/dashboard")}catch(p){console.error("Signup error:",p),p.message.includes("User already exists")?i("An account with this email already exists"):p.message.includes("Service is temporarily unavailable")?i("Service is temporarily unavailable. Please try again later."):i("Sign Up Failed - Please check your information and try again")}}const d=e.password!==e.confirm||!e.name||!e.email||!e.password;return y.jsx("div",{className:"min-h-screen bg-[#98e4d3] flex items-center justify-center p-6",children:y.jsxs("div",{className:"w-full max-w-md bg-white/95 rounded-2xl shadow-lg p-8",children:[y.jsx("h2",{className:"text-3xl font-bold text-center text-[#6c0957] mb-8",children:"Sign Up"}),y.jsxs("form",{onSubmit:u,className:"space-y-6",autoComplete:"off",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),y.jsx("input",{id:"name",type:"text",name:"name",value:e.name,onChange:a,required:!0,autoComplete:"name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6c0957]"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),y.jsx("input",{id:"email",type:"email",name:"email",value:e.email,onChange:a,required:!0,autoComplete:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6c0957]"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),y.jsx("input",{id:"password",type:"password",name:"password",value:e.password,onChange:a,required:!0,autoComplete:"new-password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6c0957]"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"confirm",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),y.jsx("input",{id:"confirm",type:"password",name:"confirm",value:e.confirm,onChange:a,required:!0,autoComplete:"new-password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6c0957]"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"adminCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Code (Optional)"}),y.jsx("input",{id:"adminCode",type:"password",name:"adminCode",value:e.adminCode,onChange:a,autoComplete:"off",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6c0957]"})]}),r&&y.jsx("div",{className:"bg-red-50 border border-red-300 text-red-700 px-4 py-3 rounded-lg text-center",children:r}),y.jsx("button",{type:"submit",disabled:d,className:`w-full py-3 px-4 bg-[#6c0957] text-white rounded-lg hover:bg-[#4a0442] transition-colors 
              disabled:bg-gray-400 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-[#98e4d3]`,children:"SIGN UP"})]})]})})}function OE({setUser:n}){const[e,t]=D.useState({email:"",password:""}),[r,i]=D.useState(""),o=In();function a(d){t({...e,[d.target.name]:d.target.value}),i("")}async function u(d){d.preventDefault();try{const f=await Qk(e);n(f),o("/dashboard")}catch(f){console.log(f),i("Log In Failed - Try Again")}}return y.jsx("div",{className:"min-h-screen bg-[#98e4d3] flex items-center justify-center p-6",children:y.jsxs("div",{className:"bg-[#d4e7aa]/95 rounded-2xl shadow-lg p-8 w-full max-w-md",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-center mb-6",children:"Log In"}),y.jsxs("form",{onSubmit:u,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),y.jsx("input",{type:"email",name:"email",value:e.email,onChange:a,required:!0,autoComplete:"username",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#98e4d3] focus:border-transparent"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),y.jsx("input",{type:"password",name:"password",value:e.password,onChange:a,required:!0,autoComplete:"current-password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#98e4d3] focus:border-transparent"})]}),y.jsx("button",{type:"submit",className:"w-full bg-[#98e4d3] text-gray-800 py-2 rounded-lg font-semibold hover:bg-[#7dcfbe] transition-colors",children:"LOG IN"}),r&&y.jsx("p",{className:"text-red-500 text-sm text-center mt-4",children:r})]})]})})}var hf={exports:{}},Lo={},Ko={exports:{}},ME=Ko.exports,Ty;function Bh(){return Ty||(Ty=1,function(n,e){(function(t,r){r(e)})(ME,function(t){function r(te){return function(Re,B,F,V,Z,xe,oe){return te(Re,B,oe)}}function i(te){return function(Re,B,F,V){if(!Re||!B||typeof Re!="object"||typeof B!="object")return te(Re,B,F,V);var Z=V.get(Re),xe=V.get(B);if(Z&&xe)return Z===B&&xe===Re;V.set(Re,B),V.set(B,Re);var oe=te(Re,B,F,V);return V.delete(Re),V.delete(B),oe}}function o(te,ae){var Re={};for(var B in te)Re[B]=te[B];for(var B in ae)Re[B]=ae[B];return Re}function a(te){return te.constructor===Object||te.constructor==null}function u(te){return typeof te.then=="function"}function d(te,ae){return te===ae||te!==te&&ae!==ae}var f="[object Arguments]",p="[object Boolean]",m="[object Date]",b="[object RegExp]",w="[object Map]",x="[object Number]",E="[object Object]",S="[object Set]",v="[object String]",C=Object.prototype.toString;function N(te){var ae=te.areArraysEqual,Re=te.areDatesEqual,B=te.areMapsEqual,F=te.areObjectsEqual,V=te.areRegExpsEqual,Z=te.areSetsEqual,xe=te.createIsNestedEqual,oe=xe(Se);function Se(we,Me,He){if(we===Me)return!0;if(!we||!Me||typeof we!="object"||typeof Me!="object")return we!==we&&Me!==Me;if(a(we)&&a(Me))return F(we,Me,oe,He);var qt=Array.isArray(we),Rt=Array.isArray(Me);if(qt||Rt)return qt===Rt&&ae(we,Me,oe,He);var ot=C.call(we);return ot!==C.call(Me)?!1:ot===m?Re(we,Me,oe,He):ot===b?V(we,Me,oe,He):ot===w?B(we,Me,oe,He):ot===S?Z(we,Me,oe,He):ot===E||ot===f?u(we)||u(Me)?!1:F(we,Me,oe,He):ot===p||ot===x||ot===v?d(we.valueOf(),Me.valueOf()):!1}return Se}function T(te,ae,Re,B){var F=te.length;if(ae.length!==F)return!1;for(;F-- >0;)if(!Re(te[F],ae[F],F,F,te,ae,B))return!1;return!0}var M=i(T);function P(te,ae){return d(te.valueOf(),ae.valueOf())}function R(te,ae,Re,B){var F=te.size===ae.size;if(!F)return!1;if(!te.size)return!0;var V={},Z=0;return te.forEach(function(xe,oe){if(F){var Se=!1,we=0;ae.forEach(function(Me,He){!Se&&!V[we]&&(Se=Re(oe,He,Z,we,te,ae,B)&&Re(xe,Me,oe,He,te,ae,B))&&(V[we]=!0),we++}),Z++,F=Se}}),F}var A=i(R),L="_owner",q=Object.prototype.hasOwnProperty;function J(te,ae,Re,B){var F=Object.keys(te),V=F.length;if(Object.keys(ae).length!==V)return!1;for(var Z;V-- >0;){if(Z=F[V],Z===L){var xe=!!te.$$typeof,oe=!!ae.$$typeof;if((xe||oe)&&xe!==oe)return!1}if(!q.call(ae,Z)||!Re(te[Z],ae[Z],Z,Z,te,ae,B))return!1}return!0}var U=i(J);function ce(te,ae){return te.source===ae.source&&te.flags===ae.flags}function fe(te,ae,Re,B){var F=te.size===ae.size;if(!F)return!1;if(!te.size)return!0;var V={};return te.forEach(function(Z,xe){if(F){var oe=!1,Se=0;ae.forEach(function(we,Me){!oe&&!V[Se]&&(oe=Re(Z,we,xe,Me,te,ae,B))&&(V[Se]=!0),Se++}),F=oe}}),F}var be=i(fe),pe=Object.freeze({areArraysEqual:T,areDatesEqual:P,areMapsEqual:R,areObjectsEqual:J,areRegExpsEqual:ce,areSetsEqual:fe,createIsNestedEqual:r}),de=Object.freeze({areArraysEqual:M,areDatesEqual:P,areMapsEqual:A,areObjectsEqual:U,areRegExpsEqual:ce,areSetsEqual:be,createIsNestedEqual:r}),X=N(pe);function se(te,ae){return X(te,ae,void 0)}var re=N(o(pe,{createIsNestedEqual:function(){return d}}));function I(te,ae){return re(te,ae,void 0)}var G=N(de);function Ne(te,ae){return G(te,ae,new WeakMap)}var Oe=N(o(de,{createIsNestedEqual:function(){return d}}));function Le(te,ae){return Oe(te,ae,new WeakMap)}function _e(te){return N(o(pe,te(pe)))}function Ve(te){var ae=N(o(de,te(de)));return function(Re,B,F){return F===void 0&&(F=new WeakMap),ae(Re,B,F)}}t.circularDeepEqual=Ne,t.circularShallowEqual=Le,t.createCustomCircularEqual=Ve,t.createCustomEqual=_e,t.deepEqual=se,t.sameValueZeroEqual=d,t.shallowEqual=I,Object.defineProperty(t,"__esModule",{value:!0})})}(Ko,Ko.exports)),Ko.exports}var La={exports:{}},Ry;function Fh(){if(Ry)return La.exports;Ry=1;function n(t){var r,i,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(i=n(t[r]))&&(o&&(o+=" "),o+=i)}else for(i in t)t[i]&&(o&&(o+=" "),o+=i);return o}function e(){for(var t,r,i=0,o="",a=arguments.length;i<a;i++)(t=arguments[i])&&(r=n(t))&&(o&&(o+=" "),o+=r);return o}return La.exports=e,La.exports.clsx=e,La.exports}var Be={},pf,Py;function TE(){return Py||(Py=1,pf=function(e,t,r){return e===t?!0:e.className===t.className&&r(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&r(e.verticalCompact,t.verticalCompact)&&r(e.compactType,t.compactType)&&r(e.layout,t.layout)&&r(e.margin,t.margin)&&r(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.allowOverlap===t.allowOverlap&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&r(e.resizeHandles,t.resizeHandles)&&r(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&r(e.droppingItem,t.droppingItem)&&r(e.innerRef,t.innerRef)}),pf}var Dy;function Fs(){if(Dy)return Be;Dy=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.bottom=r,Be.childrenEqual=d,Be.cloneLayout=i,Be.cloneLayoutItem=u,Be.collides=p,Be.compact=m,Be.compactItem=x,Be.compactType=te,Be.correctBounds=E,Be.fastPositionEqual=f,Be.fastRGLPropsEqual=void 0,Be.getAllCollisions=C,Be.getFirstCollision=v,Be.getLayoutItem=S,Be.getStatics=N,Be.modifyLayout=o,Be.moveElement=T,Be.moveElementAwayFromCollision=M,Be.noop=void 0,Be.perc=P,Be.resizeItemInDirection=re,Be.setTopLeft=G,Be.setTransform=I,Be.sortLayoutItems=Ne,Be.sortLayoutItemsByColRow=Le,Be.sortLayoutItemsByRowCol=Oe,Be.synchronizeLayoutWithChildren=_e,Be.validateLayout=Ve,Be.withLayoutItem=a;var n=Bh(),e=t(tn());function t(B){return B&&B.__esModule?B:{default:B}}function r(B){let F=0,V;for(let Z=0,xe=B.length;Z<xe;Z++)V=B[Z].y+B[Z].h,V>F&&(F=V);return F}function i(B){const F=Array(B.length);for(let V=0,Z=B.length;V<Z;V++)F[V]=u(B[V]);return F}function o(B,F){const V=Array(B.length);for(let Z=0,xe=B.length;Z<xe;Z++)F.i===B[Z].i?V[Z]=F:V[Z]=B[Z];return V}function a(B,F,V){let Z=S(B,F);return Z?(Z=V(u(Z)),B=o(B,Z),[B,Z]):[B,null]}function u(B){return{w:B.w,h:B.h,x:B.x,y:B.y,i:B.i,minW:B.minW,maxW:B.maxW,minH:B.minH,maxH:B.maxH,moved:!!B.moved,static:!!B.static,isDraggable:B.isDraggable,isResizable:B.isResizable,resizeHandles:B.resizeHandles,isBounded:B.isBounded}}function d(B,F){return(0,n.deepEqual)(e.default.Children.map(B,V=>V==null?void 0:V.key),e.default.Children.map(F,V=>V==null?void 0:V.key))&&(0,n.deepEqual)(e.default.Children.map(B,V=>V==null?void 0:V.props["data-grid"]),e.default.Children.map(F,V=>V==null?void 0:V.props["data-grid"]))}Be.fastRGLPropsEqual=TE();function f(B,F){return B.left===F.left&&B.top===F.top&&B.width===F.width&&B.height===F.height}function p(B,F){return!(B.i===F.i||B.x+B.w<=F.x||B.x>=F.x+F.w||B.y+B.h<=F.y||B.y>=F.y+F.h)}function m(B,F,V,Z){const xe=N(B),oe=Ne(B,F),Se=Array(B.length);for(let we=0,Me=oe.length;we<Me;we++){let He=u(oe[we]);He.static||(He=x(xe,He,F,V,oe,Z),xe.push(He)),Se[B.indexOf(oe[we])]=He,He.moved=!1}return Se}const b={x:"w",y:"h"};function w(B,F,V,Z){const xe=b[Z];F[Z]+=1;const oe=B.map(Se=>Se.i).indexOf(F.i);for(let Se=oe+1;Se<B.length;Se++){const we=B[Se];if(!we.static){if(we.y>F.y+F.h)break;p(F,we)&&w(B,we,V+F[xe],Z)}}F[Z]=V}function x(B,F,V,Z,xe,oe){const Se=V==="vertical",we=V==="horizontal";if(Se)for(F.y=Math.min(r(B),F.y);F.y>0&&!v(B,F);)F.y--;else if(we)for(;F.x>0&&!v(B,F);)F.x--;let Me;for(;(Me=v(B,F))&&!(V===null&&oe);)if(we?w(xe,F,Me.x+Me.w,"x"):w(xe,F,Me.y+Me.h,"y"),we&&F.x+F.w>Z)for(F.x=Z-F.w,F.y++;F.x>0&&!v(B,F);)F.x--;return F.y=Math.max(F.y,0),F.x=Math.max(F.x,0),F}function E(B,F){const V=N(B);for(let Z=0,xe=B.length;Z<xe;Z++){const oe=B[Z];if(oe.x+oe.w>F.cols&&(oe.x=F.cols-oe.w),oe.x<0&&(oe.x=0,oe.w=F.cols),!oe.static)V.push(oe);else for(;v(V,oe);)oe.y++}return B}function S(B,F){for(let V=0,Z=B.length;V<Z;V++)if(B[V].i===F)return B[V]}function v(B,F){for(let V=0,Z=B.length;V<Z;V++)if(p(B[V],F))return B[V]}function C(B,F){return B.filter(V=>p(V,F))}function N(B){return B.filter(F=>F.static)}function T(B,F,V,Z,xe,oe,Se,we,Me){if(F.static&&F.isDraggable!==!0||F.y===Z&&F.x===V)return B;`${F.i}${String(V)}${String(Z)}${F.x}${F.y}`;const He=F.x,qt=F.y;typeof V=="number"&&(F.x=V),typeof Z=="number"&&(F.y=Z),F.moved=!0;let Rt=Ne(B,Se);(Se==="vertical"&&typeof Z=="number"?qt>=Z:Se==="horizontal"&&typeof V=="number"?He>=V:!1)&&(Rt=Rt.reverse());const Yn=C(Rt,F),ci=Yn.length>0;if(ci&&Me)return i(B);if(ci&&oe)return`${F.i}`,F.x=He,F.y=qt,F.moved=!1,B;for(let Vi=0,Us=Yn.length;Vi<Us;Vi++){const dn=Yn[Vi];`${F.i}${F.x}${F.y}${dn.i}${dn.x}${dn.y}`,!dn.moved&&(dn.static?B=M(B,dn,F,xe,Se):B=M(B,F,dn,xe,Se))}return B}function M(B,F,V,Z,xe,oe){const Se=xe==="horizontal",we=xe==="vertical",Me=F.static;if(Z){Z=!1;const Rt={x:Se?Math.max(F.x-V.w,0):V.x,y:we?Math.max(F.y-V.h,0):V.y,w:V.w,h:V.h,i:"-1"},ot=v(B,Rt),Yn=ot&&ot.y+ot.h>F.y,ci=ot&&F.x+F.w>ot.x;if(ot){if(Yn&&we)return T(B,V,void 0,F.y+1,Z,Me,xe);if(Yn&&xe==null)return F.y=V.y,V.y=V.y+V.h,B;if(ci&&Se)return T(B,F,V.x,void 0,Z,Me,xe)}else return`${V.i}${Rt.x}${Rt.y}`,T(B,V,Se?Rt.x:void 0,we?Rt.y:void 0,Z,Me,xe)}const He=Se?V.x+1:void 0,qt=we?V.y+1:void 0;return He==null&&qt==null?B:T(B,V,Se?V.x+1:void 0,we?V.y+1:void 0,Z,Me,xe)}function P(B){return B*100+"%"}const R=(B,F,V,Z)=>B+V>Z?F:V,A=(B,F,V)=>B<0?F:V,L=B=>Math.max(0,B),q=B=>Math.max(0,B),J=(B,F,V)=>{let{left:Z,height:xe,width:oe}=F;const Se=B.top-(xe-B.height);return{left:Z,width:oe,height:A(Se,B.height,xe),top:q(Se)}},U=(B,F,V)=>{let{top:Z,left:xe,height:oe,width:Se}=F;return{top:Z,height:oe,width:R(B.left,B.width,Se,V),left:L(xe)}},ce=(B,F,V)=>{let{top:Z,height:xe,width:oe}=F;const Se=B.left-(oe-B.width);return{height:xe,width:Se<0?B.width:R(B.left,B.width,oe,V),top:q(Z),left:L(Se)}},fe=(B,F,V)=>{let{top:Z,left:xe,height:oe,width:Se}=F;return{width:Se,left:xe,height:A(Z,B.height,oe),top:q(Z)}},se={n:J,ne:function(){return J(arguments.length<=0?void 0:arguments[0],U(...arguments))},e:U,se:function(){return fe(arguments.length<=0?void 0:arguments[0],U(...arguments))},s:fe,sw:function(){return fe(arguments.length<=0?void 0:arguments[0],ce(...arguments))},w:ce,nw:function(){return J(arguments.length<=0?void 0:arguments[0],ce(...arguments))}};function re(B,F,V,Z){const xe=se[B];return xe?xe(F,{...F,...V},Z):V}function I(B){let{top:F,left:V,width:Z,height:xe}=B;const oe=`translate(${V}px,${F}px)`;return{transform:oe,WebkitTransform:oe,MozTransform:oe,msTransform:oe,OTransform:oe,width:`${Z}px`,height:`${xe}px`,position:"absolute"}}function G(B){let{top:F,left:V,width:Z,height:xe}=B;return{top:`${F}px`,left:`${V}px`,width:`${Z}px`,height:`${xe}px`,position:"absolute"}}function Ne(B,F){return F==="horizontal"?Le(B):F==="vertical"?Oe(B):B}function Oe(B){return B.slice(0).sort(function(F,V){return F.y>V.y||F.y===V.y&&F.x>V.x?1:F.y===V.y&&F.x===V.x?0:-1})}function Le(B){return B.slice(0).sort(function(F,V){return F.x>V.x||F.x===V.x&&F.y>V.y?1:-1})}function _e(B,F,V,Z,xe){B=B||[];const oe=[];e.default.Children.forEach(F,we=>{if((we==null?void 0:we.key)==null)return;const Me=S(B,String(we.key)),He=we.props["data-grid"];Me&&He==null?oe.push(u(Me)):He?oe.push(u({...He,i:we.key})):oe.push(u({w:1,h:1,x:0,y:r(oe),i:String(we.key)}))});const Se=E(oe,{cols:V});return xe?Se:m(Se,Z,V)}function Ve(B){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const V=["x","y","w","h"];if(!Array.isArray(B))throw new Error(F+" must be an array!");for(let Z=0,xe=B.length;Z<xe;Z++){const oe=B[Z];for(let Se=0;Se<V.length;Se++){const we=V[Se],Me=oe[we];if(typeof Me!="number"||Number.isNaN(Me))throw new Error(`ReactGridLayout: ${F}[${Z}].${we} must be a number! Received: ${Me} (${typeof Me})`)}if(typeof oe.i<"u"&&typeof oe.i!="string")throw new Error(`ReactGridLayout: ${F}[${Z}].i must be a string! Received: ${oe.i} (${typeof oe.i})`)}}function te(B){const{verticalCompact:F,compactType:V}=B||{};return F===!1?null:V}function ae(){}const Re=()=>{};return Be.noop=Re,Be}var sr={},jy;function $h(){if(jy)return sr;jy=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.calcGridColWidth=n,sr.calcGridItemPosition=t,sr.calcGridItemWHPx=e,sr.calcWH=i,sr.calcXY=r,sr.clamp=o;function n(a){const{margin:u,containerPadding:d,containerWidth:f,cols:p}=a;return(f-u[0]*(p-1)-d[0]*2)/p}function e(a,u,d){return Number.isFinite(a)?Math.round(u*a+Math.max(0,a-1)*d):a}function t(a,u,d,f,p,m){const{margin:b,containerPadding:w,rowHeight:x}=a,E=n(a),S={};return m&&m.resizing?(S.width=Math.round(m.resizing.width),S.height=Math.round(m.resizing.height)):(S.width=e(f,E,b[0]),S.height=e(p,x,b[1])),m&&m.dragging?(S.top=Math.round(m.dragging.top),S.left=Math.round(m.dragging.left)):m&&m.resizing&&typeof m.resizing.top=="number"&&typeof m.resizing.left=="number"?(S.top=Math.round(m.resizing.top),S.left=Math.round(m.resizing.left)):(S.top=Math.round((x+b[1])*d+w[1]),S.left=Math.round((E+b[0])*u+w[0])),S}function r(a,u,d,f,p){const{margin:m,containerPadding:b,cols:w,rowHeight:x,maxRows:E}=a,S=n(a);let v=Math.round((d-b[0])/(S+m[0])),C=Math.round((u-b[1])/(x+m[1]));return v=o(v,0,w-f),C=o(C,0,E-p),{x:v,y:C}}function i(a,u,d,f,p,m){const{margin:b,maxRows:w,cols:x,rowHeight:E}=a,S=n(a);let v=Math.round((u+b[0])/(S+b[0])),C=Math.round((d+b[1])/(E+b[1])),N=o(v,0,x-f),T=o(C,0,w-p);return["sw","w","nw"].indexOf(m)!==-1&&(N=o(v,0,x)),["nw","n","ne"].indexOf(m)!==-1&&(T=o(C,0,w)),{w:N,h:T}}function o(a,u,d){return Math.max(Math.min(a,d),u)}return sr}var Io={},mf={exports:{}},gf,Ay;function RE(){if(Ay)return gf;Ay=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return gf=n,gf}var yf,Ly;function PE(){if(Ly)return yf;Ly=1;var n=RE();function e(){}function t(){}return t.resetWarningCache=e,yf=function(){function r(a,u,d,f,p,m){if(m!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},yf}var Iy;function oi(){return Iy||(Iy=1,mf.exports=PE()()),mf.exports}var zo={exports:{}},xf={};function ov(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=ov(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function zy(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=ov(n))&&(r&&(r+=" "),r+=e);return r}const DE=Object.freeze(Object.defineProperty({__proto__:null,clsx:zy,default:zy},Symbol.toStringTag,{value:"Module"})),jE=Lx(DE);var ut={},zr={},_y;function Qu(){if(_y)return zr;_y=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.dontSetMe=i,zr.findInArray=n,zr.int=r,zr.isFunction=e,zr.isNum=t;function n(o,a){for(let u=0,d=o.length;u<d;u++)if(a.apply(a,[o[u],u,o]))return o[u]}function e(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Function]"}function t(o){return typeof o=="number"&&!isNaN(o)}function r(o){return parseInt(o,10)}function i(o,a,u){if(o[a])return new Error("Invalid prop ".concat(a," passed to ").concat(u," - do not set this, set it on the child."))}return zr}var _r={},By;function AE(){if(By)return _r;By=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.browserPrefixToKey=t,_r.browserPrefixToStyle=r,_r.default=void 0,_r.getPrefix=e;const n=["Moz","Webkit","O","ms"];function e(){var o;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const u=(o=window.document)===null||o===void 0||(o=o.documentElement)===null||o===void 0?void 0:o.style;if(!u||a in u)return"";for(let d=0;d<n.length;d++)if(t(a,n[d])in u)return n[d];return""}function t(o,a){return a?"".concat(a).concat(i(o)):o}function r(o,a){return a?"-".concat(a.toLowerCase(),"-").concat(o):o}function i(o){let a="",u=!0;for(let d=0;d<o.length;d++)u?(a+=o[d].toUpperCase(),u=!1):o[d]==="-"?u=!0:a+=o[d];return a}return _r.default=e(),_r}var Fy;function Hh(){if(Fy)return ut;Fy=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.addClassName=M,ut.addEvent=u,ut.addUserSelectStyles=N,ut.createCSSTransform=x,ut.createSVGTransform=E,ut.getTouch=v,ut.getTouchIdentifier=C,ut.getTranslation=S,ut.innerHeight=m,ut.innerWidth=b,ut.matchesSelector=o,ut.matchesSelectorAndParentsTo=a,ut.offsetXYFromParent=w,ut.outerHeight=f,ut.outerWidth=p,ut.removeClassName=P,ut.removeEvent=d,ut.removeUserSelectStyles=T;var n=Qu(),e=r(AE());function t(R){if(typeof WeakMap!="function")return null;var A=new WeakMap,L=new WeakMap;return(t=function(q){return q?L:A})(R)}function r(R,A){if(R&&R.__esModule)return R;if(R===null||typeof R!="object"&&typeof R!="function")return{default:R};var L=t(A);if(L&&L.has(R))return L.get(R);var q={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in R)if(U!=="default"&&Object.prototype.hasOwnProperty.call(R,U)){var ce=J?Object.getOwnPropertyDescriptor(R,U):null;ce&&(ce.get||ce.set)?Object.defineProperty(q,U,ce):q[U]=R[U]}return q.default=R,L&&L.set(R,q),q}let i="";function o(R,A){return i||(i=(0,n.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(L){return(0,n.isFunction)(R[L])})),(0,n.isFunction)(R[i])?R[i](A):!1}function a(R,A,L){let q=R;do{if(o(q,A))return!0;if(q===L)return!1;q=q.parentNode}while(q);return!1}function u(R,A,L,q){if(!R)return;const J={capture:!0,...q};R.addEventListener?R.addEventListener(A,L,J):R.attachEvent?R.attachEvent("on"+A,L):R["on"+A]=L}function d(R,A,L,q){if(!R)return;const J={capture:!0,...q};R.removeEventListener?R.removeEventListener(A,L,J):R.detachEvent?R.detachEvent("on"+A,L):R["on"+A]=null}function f(R){let A=R.clientHeight;const L=R.ownerDocument.defaultView.getComputedStyle(R);return A+=(0,n.int)(L.borderTopWidth),A+=(0,n.int)(L.borderBottomWidth),A}function p(R){let A=R.clientWidth;const L=R.ownerDocument.defaultView.getComputedStyle(R);return A+=(0,n.int)(L.borderLeftWidth),A+=(0,n.int)(L.borderRightWidth),A}function m(R){let A=R.clientHeight;const L=R.ownerDocument.defaultView.getComputedStyle(R);return A-=(0,n.int)(L.paddingTop),A-=(0,n.int)(L.paddingBottom),A}function b(R){let A=R.clientWidth;const L=R.ownerDocument.defaultView.getComputedStyle(R);return A-=(0,n.int)(L.paddingLeft),A-=(0,n.int)(L.paddingRight),A}function w(R,A,L){const J=A===A.ownerDocument.body?{left:0,top:0}:A.getBoundingClientRect(),U=(R.clientX+A.scrollLeft-J.left)/L,ce=(R.clientY+A.scrollTop-J.top)/L;return{x:U,y:ce}}function x(R,A){const L=S(R,A,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:L}}function E(R,A){return S(R,A,"")}function S(R,A,L){let{x:q,y:J}=R,U="translate(".concat(q).concat(L,",").concat(J).concat(L,")");if(A){const ce="".concat(typeof A.x=="string"?A.x:A.x+L),fe="".concat(typeof A.y=="string"?A.y:A.y+L);U="translate(".concat(ce,", ").concat(fe,")")+U}return U}function v(R,A){return R.targetTouches&&(0,n.findInArray)(R.targetTouches,L=>A===L.identifier)||R.changedTouches&&(0,n.findInArray)(R.changedTouches,L=>A===L.identifier)}function C(R){if(R.targetTouches&&R.targetTouches[0])return R.targetTouches[0].identifier;if(R.changedTouches&&R.changedTouches[0])return R.changedTouches[0].identifier}function N(R){if(!R)return;let A=R.getElementById("react-draggable-style-el");A||(A=R.createElement("style"),A.type="text/css",A.id="react-draggable-style-el",A.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,A.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,R.getElementsByTagName("head")[0].appendChild(A)),R.body&&M(R.body,"react-draggable-transparent-selection")}function T(R){if(R)try{if(R.body&&P(R.body,"react-draggable-transparent-selection"),R.selection)R.selection.empty();else{const A=(R.defaultView||window).getSelection();A&&A.type!=="Caret"&&A.removeAllRanges()}}catch{}}function M(R,A){R.classList?R.classList.add(A):R.className.match(new RegExp("(?:^|\\s)".concat(A,"(?!\\S)")))||(R.className+=" ".concat(A))}function P(R,A){R.classList?R.classList.remove(A):R.className=R.className.replace(new RegExp("(?:^|\\s)".concat(A,"(?!\\S)"),"g"),"")}return ut}var Hn={},$y;function lv(){if($y)return Hn;$y=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.canDragX=i,Hn.canDragY=o,Hn.createCoreData=u,Hn.createDraggableData=d,Hn.getBoundPosition=t,Hn.getControlPosition=a,Hn.snapToGrid=r;var n=Qu(),e=Hh();function t(m,b,w){if(!m.props.bounds)return[b,w];let{bounds:x}=m.props;x=typeof x=="string"?x:f(x);const E=p(m);if(typeof x=="string"){const{ownerDocument:S}=E,v=S.defaultView;let C;if(x==="parent"?C=E.parentNode:C=S.querySelector(x),!(C instanceof v.HTMLElement))throw new Error('Bounds selector "'+x+'" could not find an element.');const N=C,T=v.getComputedStyle(E),M=v.getComputedStyle(N);x={left:-E.offsetLeft+(0,n.int)(M.paddingLeft)+(0,n.int)(T.marginLeft),top:-E.offsetTop+(0,n.int)(M.paddingTop)+(0,n.int)(T.marginTop),right:(0,e.innerWidth)(N)-(0,e.outerWidth)(E)-E.offsetLeft+(0,n.int)(M.paddingRight)-(0,n.int)(T.marginRight),bottom:(0,e.innerHeight)(N)-(0,e.outerHeight)(E)-E.offsetTop+(0,n.int)(M.paddingBottom)-(0,n.int)(T.marginBottom)}}return(0,n.isNum)(x.right)&&(b=Math.min(b,x.right)),(0,n.isNum)(x.bottom)&&(w=Math.min(w,x.bottom)),(0,n.isNum)(x.left)&&(b=Math.max(b,x.left)),(0,n.isNum)(x.top)&&(w=Math.max(w,x.top)),[b,w]}function r(m,b,w){const x=Math.round(b/m[0])*m[0],E=Math.round(w/m[1])*m[1];return[x,E]}function i(m){return m.props.axis==="both"||m.props.axis==="x"}function o(m){return m.props.axis==="both"||m.props.axis==="y"}function a(m,b,w){const x=typeof b=="number"?(0,e.getTouch)(m,b):null;if(typeof b=="number"&&!x)return null;const E=p(w),S=w.props.offsetParent||E.offsetParent||E.ownerDocument.body;return(0,e.offsetXYFromParent)(x||m,S,w.props.scale)}function u(m,b,w){const x=!(0,n.isNum)(m.lastX),E=p(m);return x?{node:E,deltaX:0,deltaY:0,lastX:b,lastY:w,x:b,y:w}:{node:E,deltaX:b-m.lastX,deltaY:w-m.lastY,lastX:m.lastX,lastY:m.lastY,x:b,y:w}}function d(m,b){const w=m.props.scale;return{node:b.node,x:m.state.x+b.deltaX/w,y:m.state.y+b.deltaY/w,deltaX:b.deltaX/w,deltaY:b.deltaY/w,lastX:m.state.x,lastY:m.state.y}}function f(m){return{left:m.left,top:m.top,right:m.right,bottom:m.bottom}}function p(m){const b=m.findDOMNode();if(!b)throw new Error("<DraggableCore>: Unmounted during event!");return b}return Hn}var _o={},Ia={},Hy;function av(){if(Hy)return Ia;Hy=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.default=n;function n(){}return Ia}var Wy;function LE(){if(Wy)return _o;Wy=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.default=void 0;var n=f(tn()),e=u(oi()),t=u(qu()),r=Hh(),i=lv(),o=Qu(),a=u(av());function u(S){return S&&S.__esModule?S:{default:S}}function d(S){if(typeof WeakMap!="function")return null;var v=new WeakMap,C=new WeakMap;return(d=function(N){return N?C:v})(S)}function f(S,v){if(S&&S.__esModule)return S;if(S===null||typeof S!="object"&&typeof S!="function")return{default:S};var C=d(v);if(C&&C.has(S))return C.get(S);var N={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in S)if(M!=="default"&&Object.prototype.hasOwnProperty.call(S,M)){var P=T?Object.getOwnPropertyDescriptor(S,M):null;P&&(P.get||P.set)?Object.defineProperty(N,M,P):N[M]=S[M]}return N.default=S,C&&C.set(S,N),N}function p(S,v,C){return v=m(v),v in S?Object.defineProperty(S,v,{value:C,enumerable:!0,configurable:!0,writable:!0}):S[v]=C,S}function m(S){var v=b(S,"string");return typeof v=="symbol"?v:String(v)}function b(S,v){if(typeof S!="object"||S===null)return S;var C=S[Symbol.toPrimitive];if(C!==void 0){var N=C.call(S,v||"default");if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(S)}const w={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let x=w.mouse,E=class extends n.Component{constructor(){super(...arguments),p(this,"dragging",!1),p(this,"lastX",NaN),p(this,"lastY",NaN),p(this,"touchIdentifier",null),p(this,"mounted",!1),p(this,"handleDragStart",v=>{if(this.props.onMouseDown(v),!this.props.allowAnyClick&&typeof v.button=="number"&&v.button!==0)return!1;const C=this.findDOMNode();if(!C||!C.ownerDocument||!C.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:N}=C;if(this.props.disabled||!(v.target instanceof N.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(v.target,this.props.handle,C)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(v.target,this.props.cancel,C))return;v.type==="touchstart"&&v.preventDefault();const T=(0,r.getTouchIdentifier)(v);this.touchIdentifier=T;const M=(0,i.getControlPosition)(v,T,this);if(M==null)return;const{x:P,y:R}=M,A=(0,i.createCoreData)(this,P,R);(0,a.default)("DraggableCore: handleDragStart: %j",A),(0,a.default)("calling",this.props.onStart),!(this.props.onStart(v,A)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(N),this.dragging=!0,this.lastX=P,this.lastY=R,(0,r.addEvent)(N,x.move,this.handleDrag),(0,r.addEvent)(N,x.stop,this.handleDragStop))}),p(this,"handleDrag",v=>{const C=(0,i.getControlPosition)(v,this.touchIdentifier,this);if(C==null)return;let{x:N,y:T}=C;if(Array.isArray(this.props.grid)){let R=N-this.lastX,A=T-this.lastY;if([R,A]=(0,i.snapToGrid)(this.props.grid,R,A),!R&&!A)return;N=this.lastX+R,T=this.lastY+A}const M=(0,i.createCoreData)(this,N,T);if((0,a.default)("DraggableCore: handleDrag: %j",M),this.props.onDrag(v,M)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const A=document.createEvent("MouseEvents");A.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(A)}return}this.lastX=N,this.lastY=T}),p(this,"handleDragStop",v=>{if(!this.dragging)return;const C=(0,i.getControlPosition)(v,this.touchIdentifier,this);if(C==null)return;let{x:N,y:T}=C;if(Array.isArray(this.props.grid)){let A=N-this.lastX||0,L=T-this.lastY||0;[A,L]=(0,i.snapToGrid)(this.props.grid,A,L),N=this.lastX+A,T=this.lastY+L}const M=(0,i.createCoreData)(this,N,T);if(this.props.onStop(v,M)===!1||this.mounted===!1)return!1;const R=this.findDOMNode();R&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(R.ownerDocument),(0,a.default)("DraggableCore: handleDragStop: %j",M),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,R&&((0,a.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(R.ownerDocument,x.move,this.handleDrag),(0,r.removeEvent)(R.ownerDocument,x.stop,this.handleDragStop))}),p(this,"onMouseDown",v=>(x=w.mouse,this.handleDragStart(v))),p(this,"onMouseUp",v=>(x=w.mouse,this.handleDragStop(v))),p(this,"onTouchStart",v=>(x=w.touch,this.handleDragStart(v))),p(this,"onTouchEnd",v=>(x=w.touch,this.handleDragStop(v)))}componentDidMount(){this.mounted=!0;const v=this.findDOMNode();v&&(0,r.addEvent)(v,w.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const v=this.findDOMNode();if(v){const{ownerDocument:C}=v;(0,r.removeEvent)(C,w.mouse.move,this.handleDrag),(0,r.removeEvent)(C,w.touch.move,this.handleDrag),(0,r.removeEvent)(C,w.mouse.stop,this.handleDragStop),(0,r.removeEvent)(C,w.touch.stop,this.handleDragStop),(0,r.removeEvent)(v,w.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(C)}}findDOMNode(){var v,C;return(v=this.props)!==null&&v!==void 0&&v.nodeRef?(C=this.props)===null||C===void 0||(C=C.nodeRef)===null||C===void 0?void 0:C.current:t.default.findDOMNode(this)}render(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return _o.default=E,p(E,"displayName","DraggableCore"),p(E,"propTypes",{allowAnyClick:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(S,v){if(S[v]&&S[v].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),p(E,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),_o}var Vy;function IE(){return Vy||(Vy=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),n.default=void 0;var e=b(tn()),t=p(oi()),r=p(qu()),i=p(jE),o=Hh(),a=lv(),u=Qu(),d=p(LE()),f=p(av());function p(C){return C&&C.__esModule?C:{default:C}}function m(C){if(typeof WeakMap!="function")return null;var N=new WeakMap,T=new WeakMap;return(m=function(M){return M?T:N})(C)}function b(C,N){if(C&&C.__esModule)return C;if(C===null||typeof C!="object"&&typeof C!="function")return{default:C};var T=m(N);if(T&&T.has(C))return T.get(C);var M={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in C)if(R!=="default"&&Object.prototype.hasOwnProperty.call(C,R)){var A=P?Object.getOwnPropertyDescriptor(C,R):null;A&&(A.get||A.set)?Object.defineProperty(M,R,A):M[R]=C[R]}return M.default=C,T&&T.set(C,M),M}function w(){return w=Object.assign?Object.assign.bind():function(C){for(var N=1;N<arguments.length;N++){var T=arguments[N];for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(C[M]=T[M])}return C},w.apply(this,arguments)}function x(C,N,T){return N=E(N),N in C?Object.defineProperty(C,N,{value:T,enumerable:!0,configurable:!0,writable:!0}):C[N]=T,C}function E(C){var N=S(C,"string");return typeof N=="symbol"?N:String(N)}function S(C,N){if(typeof C!="object"||C===null)return C;var T=C[Symbol.toPrimitive];if(T!==void 0){var M=T.call(C,N||"default");if(typeof M!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(C)}class v extends e.Component{static getDerivedStateFromProps(N,T){let{position:M}=N,{prevPropsPosition:P}=T;return M&&(!P||M.x!==P.x||M.y!==P.y)?((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:M,prevPropsPosition:P}),{x:M.x,y:M.y,prevPropsPosition:{...M}}):null}constructor(N){super(N),x(this,"onDragStart",(T,M)=>{if((0,f.default)("Draggable: onDragStart: %j",M),this.props.onStart(T,(0,a.createDraggableData)(this,M))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),x(this,"onDrag",(T,M)=>{if(!this.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",M);const P=(0,a.createDraggableData)(this,M),R={x:P.x,y:P.y,slackX:0,slackY:0};if(this.props.bounds){const{x:L,y:q}=R;R.x+=this.state.slackX,R.y+=this.state.slackY;const[J,U]=(0,a.getBoundPosition)(this,R.x,R.y);R.x=J,R.y=U,R.slackX=this.state.slackX+(L-R.x),R.slackY=this.state.slackY+(q-R.y),P.x=R.x,P.y=R.y,P.deltaX=R.x-this.state.x,P.deltaY=R.y-this.state.y}if(this.props.onDrag(T,P)===!1)return!1;this.setState(R)}),x(this,"onDragStop",(T,M)=>{if(!this.state.dragging||this.props.onStop(T,(0,a.createDraggableData)(this,M))===!1)return!1;(0,f.default)("Draggable: onDragStop: %j",M);const R={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:L,y:q}=this.props.position;R.x=L,R.y=q}this.setState(R)}),this.state={dragging:!1,dragged:!1,x:N.position?N.position.x:N.defaultPosition.x,y:N.position?N.position.y:N.defaultPosition.y,prevPropsPosition:{...N.position},slackX:0,slackY:0,isElementSVG:!1},N.position&&!(N.onDrag||N.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var N,T;return(N=(T=this.props)===null||T===void 0||(T=T.nodeRef)===null||T===void 0?void 0:T.current)!==null&&N!==void 0?N:r.default.findDOMNode(this)}render(){const{axis:N,bounds:T,children:M,defaultPosition:P,defaultClassName:R,defaultClassNameDragging:A,defaultClassNameDragged:L,position:q,positionOffset:J,scale:U,...ce}=this.props;let fe={},be=null;const de=!!!q||this.state.dragging,X=q||P,se={x:(0,a.canDragX)(this)&&de?this.state.x:X.x,y:(0,a.canDragY)(this)&&de?this.state.y:X.y};this.state.isElementSVG?be=(0,o.createSVGTransform)(se,J):fe=(0,o.createCSSTransform)(se,J);const re=(0,i.default)(M.props.className||"",R,{[A]:this.state.dragging,[L]:this.state.dragged});return e.createElement(d.default,w({},ce,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(M),{className:re,style:{...M.props.style,...fe},transform:be}))}}n.default=v,x(v,"displayName","Draggable"),x(v,"propTypes",{...d.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),x(v,"defaultProps",{...d.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(xf)),xf}var Uy;function Wh(){if(Uy)return zo.exports;Uy=1;const{default:n,DraggableCore:e}=IE();return zo.exports=n,zo.exports.default=n,zo.exports.DraggableCore=e,zo.exports}var Bo={exports:{}},Fo={},za={},qy;function zE(){if(qy)return za;qy=1,za.__esModule=!0,za.cloneElement=u;var n=e(tn());function e(d){return d&&d.__esModule?d:{default:d}}function t(d,f){var p=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);f&&(m=m.filter(function(b){return Object.getOwnPropertyDescriptor(d,b).enumerable})),p.push.apply(p,m)}return p}function r(d){for(var f=1;f<arguments.length;f++){var p=arguments[f]!=null?arguments[f]:{};f%2?t(Object(p),!0).forEach(function(m){i(d,m,p[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(p)):t(Object(p)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(p,m))})}return d}function i(d,f,p){return f=o(f),f in d?Object.defineProperty(d,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[f]=p,d}function o(d){var f=a(d,"string");return typeof f=="symbol"?f:String(f)}function a(d,f){if(typeof d!="object"||d===null)return d;var p=d[Symbol.toPrimitive];if(p!==void 0){var m=p.call(d,f||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(d)}function u(d,f){return f.style&&d.props.style&&(f.style=r(r({},d.props.style),f.style)),f.className&&d.props.className&&(f.className=d.props.className+" "+f.className),n.default.cloneElement(d,f)}return za}var $o={},Gy;function uv(){if(Gy)return $o;Gy=1,$o.__esModule=!0,$o.resizableProps=void 0;var n=e(oi());Wh();function e(r){return r&&r.__esModule?r:{default:r}}var t={axis:n.default.oneOf(["both","x","y","none"]),className:n.default.string,children:n.default.element.isRequired,draggableOpts:n.default.shape({allowAnyClick:n.default.bool,cancel:n.default.string,children:n.default.node,disabled:n.default.bool,enableUserSelectHack:n.default.bool,offsetParent:n.default.node,grid:n.default.arrayOf(n.default.number),handle:n.default.string,nodeRef:n.default.object,onStart:n.default.func,onDrag:n.default.func,onStop:n.default.func,onMouseDown:n.default.func,scale:n.default.number}),height:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var u=o[0];if(u.axis==="both"||u.axis==="y"){var d;return(d=n.default.number).isRequired.apply(d,o)}return n.default.number.apply(n.default,o)},handle:n.default.oneOfType([n.default.node,n.default.func]),handleSize:n.default.arrayOf(n.default.number),lockAspectRatio:n.default.bool,maxConstraints:n.default.arrayOf(n.default.number),minConstraints:n.default.arrayOf(n.default.number),onResizeStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,resizeHandles:n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:n.default.number,width:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var u=o[0];if(u.axis==="both"||u.axis==="x"){var d;return(d=n.default.number).isRequired.apply(d,o)}return n.default.number.apply(n.default,o)}};return $o.resizableProps=t,$o}var Ky;function cv(){if(Ky)return Fo;Ky=1,Fo.__esModule=!0,Fo.default=void 0;var n=a(tn()),e=Wh(),t=zE(),r=uv(),i=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function o(v){if(typeof WeakMap!="function")return null;var C=new WeakMap,N=new WeakMap;return(o=function(M){return M?N:C})(v)}function a(v,C){if(v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var N=o(C);if(N&&N.has(v))return N.get(v);var T={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in v)if(P!=="default"&&Object.prototype.hasOwnProperty.call(v,P)){var R=M?Object.getOwnPropertyDescriptor(v,P):null;R&&(R.get||R.set)?Object.defineProperty(T,P,R):T[P]=v[P]}return T.default=v,N&&N.set(v,T),T}function u(){return u=Object.assign?Object.assign.bind():function(v){for(var C=1;C<arguments.length;C++){var N=arguments[C];for(var T in N)Object.prototype.hasOwnProperty.call(N,T)&&(v[T]=N[T])}return v},u.apply(this,arguments)}function d(v,C){if(v==null)return{};var N={},T=Object.keys(v),M,P;for(P=0;P<T.length;P++)M=T[P],!(C.indexOf(M)>=0)&&(N[M]=v[M]);return N}function f(v,C){var N=Object.keys(v);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(v);C&&(T=T.filter(function(M){return Object.getOwnPropertyDescriptor(v,M).enumerable})),N.push.apply(N,T)}return N}function p(v){for(var C=1;C<arguments.length;C++){var N=arguments[C]!=null?arguments[C]:{};C%2?f(Object(N),!0).forEach(function(T){m(v,T,N[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(N)):f(Object(N)).forEach(function(T){Object.defineProperty(v,T,Object.getOwnPropertyDescriptor(N,T))})}return v}function m(v,C,N){return C=b(C),C in v?Object.defineProperty(v,C,{value:N,enumerable:!0,configurable:!0,writable:!0}):v[C]=N,v}function b(v){var C=w(v,"string");return typeof C=="symbol"?C:String(C)}function w(v,C){if(typeof v!="object"||v===null)return v;var N=v[Symbol.toPrimitive];if(N!==void 0){var T=N.call(v,C||"default");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(v)}function x(v,C){v.prototype=Object.create(C.prototype),v.prototype.constructor=v,E(v,C)}function E(v,C){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,M){return T.__proto__=M,T},E(v,C)}var S=function(v){x(C,v);function C(){for(var T,M=arguments.length,P=new Array(M),R=0;R<M;R++)P[R]=arguments[R];return T=v.call.apply(v,[this].concat(P))||this,T.handleRefs={},T.lastHandleRect=null,T.slack=null,T}var N=C.prototype;return N.componentWillUnmount=function(){this.resetData()},N.resetData=function(){this.lastHandleRect=this.slack=null},N.runConstraints=function(M,P){var R=this.props,A=R.minConstraints,L=R.maxConstraints,q=R.lockAspectRatio;if(!A&&!L&&!q)return[M,P];if(q){var J=this.props.width/this.props.height,U=M-this.props.width,ce=P-this.props.height;Math.abs(U)>Math.abs(ce*J)?P=M/J:M=P*J}var fe=M,be=P,pe=this.slack||[0,0],de=pe[0],X=pe[1];return M+=de,P+=X,A&&(M=Math.max(A[0],M),P=Math.max(A[1],P)),L&&(M=Math.min(L[0],M),P=Math.min(L[1],P)),this.slack=[de+(fe-M),X+(be-P)],[M,P]},N.resizeHandler=function(M,P){var R=this;return function(A,L){var q=L.node,J=L.deltaX,U=L.deltaY;M==="onResizeStart"&&R.resetData();var ce=(R.props.axis==="both"||R.props.axis==="x")&&P!=="n"&&P!=="s",fe=(R.props.axis==="both"||R.props.axis==="y")&&P!=="e"&&P!=="w";if(!(!ce&&!fe)){var be=P[0],pe=P[P.length-1],de=q.getBoundingClientRect();if(R.lastHandleRect!=null){if(pe==="w"){var X=de.left-R.lastHandleRect.left;J+=X}if(be==="n"){var se=de.top-R.lastHandleRect.top;U+=se}}R.lastHandleRect=de,pe==="w"&&(J=-J),be==="n"&&(U=-U);var re=R.props.width+(ce?J/R.props.transformScale:0),I=R.props.height+(fe?U/R.props.transformScale:0),G=R.runConstraints(re,I);re=G[0],I=G[1];var Ne=re!==R.props.width||I!==R.props.height,Oe=typeof R.props[M]=="function"?R.props[M]:null,Le=M==="onResize"&&!Ne;Oe&&!Le&&(A.persist==null||A.persist(),Oe(A,{node:q,size:{width:re,height:I},handle:P})),M==="onResizeStop"&&R.resetData()}}},N.renderResizeHandle=function(M,P){var R=this.props.handle;if(!R)return n.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+M,ref:P});if(typeof R=="function")return R(M,P);var A=typeof R.type=="string",L=p({ref:P},A?{}:{handleAxis:M});return n.cloneElement(R,L)},N.render=function(){var M=this,P=this.props,R=P.children,A=P.className,L=P.draggableOpts;P.width,P.height,P.handle,P.handleSize,P.lockAspectRatio,P.axis,P.minConstraints,P.maxConstraints,P.onResize,P.onResizeStop,P.onResizeStart;var q=P.resizeHandles;P.transformScale;var J=d(P,i);return(0,t.cloneElement)(R,p(p({},J),{},{className:(A?A+" ":"")+"react-resizable",children:[].concat(R.props.children,q.map(function(U){var ce,fe=(ce=M.handleRefs[U])!=null?ce:M.handleRefs[U]=n.createRef();return n.createElement(e.DraggableCore,u({},L,{nodeRef:fe,key:"resizableHandle-"+U,onStop:M.resizeHandler("onResizeStop",U),onStart:M.resizeHandler("onResizeStart",U),onDrag:M.resizeHandler("onResize",U)}),M.renderResizeHandle(U,fe))}))}))},C}(n.Component);return Fo.default=S,S.propTypes=r.resizableProps,S.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},Fo}var Ho={},Jy;function _E(){if(Jy)return Ho;Jy=1,Ho.__esModule=!0,Ho.default=void 0;var n=u(tn()),e=o(oi()),t=o(cv()),r=uv(),i=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function o(C){return C&&C.__esModule?C:{default:C}}function a(C){if(typeof WeakMap!="function")return null;var N=new WeakMap,T=new WeakMap;return(a=function(P){return P?T:N})(C)}function u(C,N){if(C&&C.__esModule)return C;if(C===null||typeof C!="object"&&typeof C!="function")return{default:C};var T=a(N);if(T&&T.has(C))return T.get(C);var M={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in C)if(R!=="default"&&Object.prototype.hasOwnProperty.call(C,R)){var A=P?Object.getOwnPropertyDescriptor(C,R):null;A&&(A.get||A.set)?Object.defineProperty(M,R,A):M[R]=C[R]}return M.default=C,T&&T.set(C,M),M}function d(){return d=Object.assign?Object.assign.bind():function(C){for(var N=1;N<arguments.length;N++){var T=arguments[N];for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(C[M]=T[M])}return C},d.apply(this,arguments)}function f(C,N){var T=Object.keys(C);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(C);N&&(M=M.filter(function(P){return Object.getOwnPropertyDescriptor(C,P).enumerable})),T.push.apply(T,M)}return T}function p(C){for(var N=1;N<arguments.length;N++){var T=arguments[N]!=null?arguments[N]:{};N%2?f(Object(T),!0).forEach(function(M){m(C,M,T[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(T)):f(Object(T)).forEach(function(M){Object.defineProperty(C,M,Object.getOwnPropertyDescriptor(T,M))})}return C}function m(C,N,T){return N=b(N),N in C?Object.defineProperty(C,N,{value:T,enumerable:!0,configurable:!0,writable:!0}):C[N]=T,C}function b(C){var N=w(C,"string");return typeof N=="symbol"?N:String(N)}function w(C,N){if(typeof C!="object"||C===null)return C;var T=C[Symbol.toPrimitive];if(T!==void 0){var M=T.call(C,N||"default");if(typeof M!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(C)}function x(C,N){if(C==null)return{};var T={},M=Object.keys(C),P,R;for(R=0;R<M.length;R++)P=M[R],!(N.indexOf(P)>=0)&&(T[P]=C[P]);return T}function E(C,N){C.prototype=Object.create(N.prototype),C.prototype.constructor=C,S(C,N)}function S(C,N){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,P){return M.__proto__=P,M},S(C,N)}var v=function(C){E(N,C);function N(){for(var M,P=arguments.length,R=new Array(P),A=0;A<P;A++)R[A]=arguments[A];return M=C.call.apply(C,[this].concat(R))||this,M.state={width:M.props.width,height:M.props.height,propsWidth:M.props.width,propsHeight:M.props.height},M.onResize=function(L,q){var J=q.size;M.props.onResize?(L.persist==null||L.persist(),M.setState(J,function(){return M.props.onResize&&M.props.onResize(L,q)})):M.setState(J)},M}N.getDerivedStateFromProps=function(P,R){return R.propsWidth!==P.width||R.propsHeight!==P.height?{width:P.width,height:P.height,propsWidth:P.width,propsHeight:P.height}:null};var T=N.prototype;return T.render=function(){var P=this.props,R=P.handle,A=P.handleSize;P.onResize;var L=P.onResizeStart,q=P.onResizeStop,J=P.draggableOpts,U=P.minConstraints,ce=P.maxConstraints,fe=P.lockAspectRatio,be=P.axis;P.width,P.height;var pe=P.resizeHandles,de=P.style,X=P.transformScale,se=x(P,i);return n.createElement(t.default,{axis:be,draggableOpts:J,handle:R,handleSize:A,height:this.state.height,lockAspectRatio:fe,maxConstraints:ce,minConstraints:U,onResizeStart:L,onResize:this.onResize,onResizeStop:q,resizeHandles:pe,transformScale:X,width:this.state.width},n.createElement("div",d({},se,{style:p(p({},de),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},N}(n.Component);return Ho.default=v,v.propTypes=p(p({},r.resizableProps),{},{children:e.default.element}),Ho}var Yy;function BE(){return Yy||(Yy=1,Bo.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Bo.exports.Resizable=cv().default,Bo.exports.ResizableBox=_E().default),Bo.exports}var or={},Xy;function dv(){if(Xy)return or;Xy=1,Object.defineProperty(or,"__esModule",{value:!0}),or.resizeHandleType=or.resizeHandleAxesType=or.default=void 0;var n=t(oi()),e=t(tn());function t(o){return o&&o.__esModule?o:{default:o}}const r=or.resizeHandleAxesType=n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),i=or.resizeHandleType=n.default.oneOfType([n.default.node,n.default.func]);return or.default={className:n.default.string,style:n.default.object,width:n.default.number,autoSize:n.default.bool,cols:n.default.number,draggableCancel:n.default.string,draggableHandle:n.default.string,verticalCompact:function(o){o.verticalCompact},compactType:n.default.oneOf(["vertical","horizontal"]),layout:function(o){var a=o.layout;a!==void 0&&Fs().validateLayout(a,"layout")},margin:n.default.arrayOf(n.default.number),containerPadding:n.default.arrayOf(n.default.number),rowHeight:n.default.number,maxRows:n.default.number,isBounded:n.default.bool,isDraggable:n.default.bool,isResizable:n.default.bool,allowOverlap:n.default.bool,preventCollision:n.default.bool,useCSSTransforms:n.default.bool,transformScale:n.default.number,isDroppable:n.default.bool,resizeHandles:r,resizeHandle:i,onLayoutChange:n.default.func,onDragStart:n.default.func,onDrag:n.default.func,onDragStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,onResizeStop:n.default.func,onDrop:n.default.func,droppingItem:n.default.shape({i:n.default.string.isRequired,w:n.default.number.isRequired,h:n.default.number.isRequired}),children:function(o,a){const u=o[a],d={};e.default.Children.forEach(u,function(f){if((f==null?void 0:f.key)!=null){if(d[f.key])throw new Error('Duplicate child key "'+f.key+'" found! This will cause problems in ReactGridLayout.');d[f.key]=!0}})},innerRef:n.default.any},or}var Qy;function FE(){if(Qy)return Io;Qy=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.default=void 0;var n=d(tn()),e=d(oi()),t=Wh(),r=BE(),i=Fs(),o=$h(),a=dv(),u=d(Fh());function d(w){return w&&w.__esModule?w:{default:w}}function f(w,x,E){return x=p(x),x in w?Object.defineProperty(w,x,{value:E,enumerable:!0,configurable:!0,writable:!0}):w[x]=E,w}function p(w){var x=m(w,"string");return typeof x=="symbol"?x:String(x)}function m(w,x){if(typeof w!="object"||w===null)return w;var E=w[Symbol.toPrimitive];if(E!==void 0){var S=E.call(w,x||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(w)}let b=class extends n.default.Component{constructor(){super(...arguments),f(this,"state",{resizing:null,dragging:null,className:""}),f(this,"elementRef",n.default.createRef()),f(this,"onDragStart",(x,E)=>{let{node:S}=E;const{onDragStart:v,transformScale:C}=this.props;if(!v)return;const N={top:0,left:0},{offsetParent:T}=S;if(!T)return;const M=T.getBoundingClientRect(),P=S.getBoundingClientRect(),R=P.left/C,A=M.left/C,L=P.top/C,q=M.top/C;N.left=R-A+T.scrollLeft,N.top=L-q+T.scrollTop,this.setState({dragging:N});const{x:J,y:U}=(0,o.calcXY)(this.getPositionParams(),N.top,N.left,this.props.w,this.props.h);return v.call(this,this.props.i,J,U,{e:x,node:S,newPosition:N})}),f(this,"onDrag",(x,E)=>{let{node:S,deltaX:v,deltaY:C}=E;const{onDrag:N}=this.props;if(!N)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let T=this.state.dragging.top+C,M=this.state.dragging.left+v;const{isBounded:P,i:R,w:A,h:L,containerWidth:q}=this.props,J=this.getPositionParams();if(P){const{offsetParent:be}=S;if(be){const{margin:pe,rowHeight:de,containerPadding:X}=this.props,se=be.clientHeight-(0,o.calcGridItemWHPx)(L,de,pe[1]);T=(0,o.clamp)(T-X[1],0,se);const re=(0,o.calcGridColWidth)(J),I=q-(0,o.calcGridItemWHPx)(A,re,pe[0]);M=(0,o.clamp)(M-X[0],0,I)}}const U={top:T,left:M};this.setState({dragging:U});const{x:ce,y:fe}=(0,o.calcXY)(J,T,M,A,L);return N.call(this,R,ce,fe,{e:x,node:S,newPosition:U})}),f(this,"onDragStop",(x,E)=>{let{node:S}=E;const{onDragStop:v}=this.props;if(!v)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:C,h:N,i:T}=this.props,{left:M,top:P}=this.state.dragging,R={top:P,left:M};this.setState({dragging:null});const{x:A,y:L}=(0,o.calcXY)(this.getPositionParams(),P,M,C,N);return v.call(this,T,A,L,{e:x,node:S,newPosition:R})}),f(this,"onResizeStop",(x,E,S)=>this.onResizeHandler(x,E,S,"onResizeStop")),f(this,"onResizeStart",(x,E,S)=>this.onResizeHandler(x,E,S,"onResizeStart")),f(this,"onResize",(x,E,S)=>this.onResizeHandler(x,E,S,"onResize"))}shouldComponentUpdate(x,E){if(this.props.children!==x.children||this.props.droppingPosition!==x.droppingPosition)return!0;const S=(0,o.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),v=(0,o.calcGridItemPosition)(this.getPositionParams(x),x.x,x.y,x.w,x.h,E);return!(0,i.fastPositionEqual)(S,v)||this.props.useCSSTransforms!==x.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(x){this.moveDroppingItem(x)}moveDroppingItem(x){const{droppingPosition:E}=this.props;if(!E)return;const S=this.elementRef.current;if(!S)return;const v=x.droppingPosition||{left:0,top:0},{dragging:C}=this.state,N=C&&E.left!==v.left||E.top!==v.top;if(!C)this.onDragStart(E.e,{node:S,deltaX:E.left,deltaY:E.top});else if(N){const T=E.left-C.left,M=E.top-C.top;this.onDrag(E.e,{node:S,deltaX:T,deltaY:M})}}getPositionParams(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:x.cols,containerPadding:x.containerPadding,containerWidth:x.containerWidth,margin:x.margin,maxRows:x.maxRows,rowHeight:x.rowHeight}}createStyle(x){const{usePercentages:E,containerWidth:S,useCSSTransforms:v}=this.props;let C;return v?C=(0,i.setTransform)(x):(C=(0,i.setTopLeft)(x),E&&(C.left=(0,i.perc)(x.left/S),C.width=(0,i.perc)(x.width/S))),C}mixinDraggable(x,E){return n.default.createElement(t.DraggableCore,{disabled:!E,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},x)}curryResizeHandler(x,E){return(S,v)=>E(S,v,x)}mixinResizable(x,E,S){const{cols:v,minW:C,minH:N,maxW:T,maxH:M,transformScale:P,resizeHandles:R,resizeHandle:A}=this.props,L=this.getPositionParams(),q=(0,o.calcGridItemPosition)(L,0,0,v,0).width,J=(0,o.calcGridItemPosition)(L,0,0,C,N),U=(0,o.calcGridItemPosition)(L,0,0,T,M),ce=[J.width,J.height],fe=[Math.min(U.width,q),Math.min(U.height,1/0)];return n.default.createElement(r.Resizable,{draggableOpts:{disabled:!S},className:S?void 0:"react-resizable-hide",width:E.width,height:E.height,minConstraints:ce,maxConstraints:fe,onResizeStop:this.curryResizeHandler(E,this.onResizeStop),onResizeStart:this.curryResizeHandler(E,this.onResizeStart),onResize:this.curryResizeHandler(E,this.onResize),transformScale:P,resizeHandles:R,handle:A},x)}onResizeHandler(x,E,S,v){let{node:C,size:N,handle:T}=E;const M=this.props[v];if(!M)return;const{x:P,y:R,i:A,maxH:L,minH:q,containerWidth:J}=this.props,{minW:U,maxW:ce}=this.props;let fe=N;C&&(fe=(0,i.resizeItemInDirection)(T,S,N,J),this.setState({resizing:v==="onResizeStop"?null:fe}));let{w:be,h:pe}=(0,o.calcWH)(this.getPositionParams(),fe.width,fe.height,P,R,T);be=(0,o.clamp)(be,Math.max(U,1),ce),pe=(0,o.clamp)(pe,q,L),M.call(this,A,be,pe,{e:x,node:C,size:fe,handle:T})}render(){const{x,y:E,w:S,h:v,isDraggable:C,isResizable:N,droppingPosition:T,useCSSTransforms:M}=this.props,P=(0,o.calcGridItemPosition)(this.getPositionParams(),x,E,S,v,this.state),R=n.default.Children.only(this.props.children);let A=n.default.cloneElement(R,{ref:this.elementRef,className:(0,u.default)("react-grid-item",R.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":C,"react-draggable-dragging":!!this.state.dragging,dropping:!!T,cssTransforms:M}),style:{...this.props.style,...R.props.style,...this.createStyle(P)}});return A=this.mixinResizable(A,P,N),A=this.mixinDraggable(A,C),A}};return Io.default=b,f(b,"propTypes",{children:e.default.element,cols:e.default.number.isRequired,containerWidth:e.default.number.isRequired,rowHeight:e.default.number.isRequired,margin:e.default.array.isRequired,maxRows:e.default.number.isRequired,containerPadding:e.default.array.isRequired,x:e.default.number.isRequired,y:e.default.number.isRequired,w:e.default.number.isRequired,h:e.default.number.isRequired,minW:function(w,x){const E=w[x];if(typeof E!="number")return new Error("minWidth not Number");if(E>w.w||E>w.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(w,x){const E=w[x];if(typeof E!="number")return new Error("maxWidth not Number");if(E<w.w||E<w.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(w,x){const E=w[x];if(typeof E!="number")return new Error("minHeight not Number");if(E>w.h||E>w.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(w,x){const E=w[x];if(typeof E!="number")return new Error("maxHeight not Number");if(E<w.h||E<w.minH)return new Error("maxHeight smaller than item height/minHeight")},i:e.default.string.isRequired,resizeHandles:a.resizeHandleAxesType,resizeHandle:a.resizeHandleType,onDragStop:e.default.func,onDragStart:e.default.func,onDrag:e.default.func,onResizeStop:e.default.func,onResizeStart:e.default.func,onResize:e.default.func,isDraggable:e.default.bool.isRequired,isResizable:e.default.bool.isRequired,isBounded:e.default.bool.isRequired,static:e.default.bool,useCSSTransforms:e.default.bool.isRequired,transformScale:e.default.number,className:e.default.string,handle:e.default.string,cancel:e.default.string,droppingPosition:e.default.shape({e:e.default.object.isRequired,left:e.default.number.isRequired,top:e.default.number.isRequired})}),f(b,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),Io}var Zy;function fv(){if(Zy)return Lo;Zy=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.default=void 0;var n=f(tn()),e=Bh(),t=u(Fh()),r=Fs(),i=$h(),o=u(FE()),a=u(dv());function u(S){return S&&S.__esModule?S:{default:S}}function d(S){if(typeof WeakMap!="function")return null;var v=new WeakMap,C=new WeakMap;return(d=function(N){return N?C:v})(S)}function f(S,v){if(S&&S.__esModule)return S;if(S===null||typeof S!="object"&&typeof S!="function")return{default:S};var C=d(v);if(C&&C.has(S))return C.get(S);var N={__proto__:null},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in S)if(M!=="default"&&Object.prototype.hasOwnProperty.call(S,M)){var P=T?Object.getOwnPropertyDescriptor(S,M):null;P&&(P.get||P.set)?Object.defineProperty(N,M,P):N[M]=S[M]}return N.default=S,C&&C.set(S,N),N}function p(S,v,C){return v=m(v),v in S?Object.defineProperty(S,v,{value:C,enumerable:!0,configurable:!0,writable:!0}):S[v]=C,S}function m(S){var v=b(S,"string");return typeof v=="symbol"?v:String(v)}function b(S,v){if(typeof S!="object"||S===null)return S;var C=S[Symbol.toPrimitive];if(C!==void 0){var N=C.call(S,v||"default");if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(S)}const w="react-grid-layout";let x=!1;try{x=/firefox/i.test(navigator.userAgent)}catch{}let E=class extends n.Component{constructor(){super(...arguments),p(this,"state",{activeDrag:null,layout:(0,r.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,r.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),p(this,"dragEnterCounter",0),p(this,"onDragStart",(v,C,N,T)=>{let{e:M,node:P}=T;const{layout:R}=this.state,A=(0,r.getLayoutItem)(R,v);if(!A)return;const L={w:A.w,h:A.h,x:A.x,y:A.y,placeholder:!0,i:v};return this.setState({oldDragItem:(0,r.cloneLayoutItem)(A),oldLayout:R,activeDrag:L}),this.props.onDragStart(R,A,A,null,M,P)}),p(this,"onDrag",(v,C,N,T)=>{let{e:M,node:P}=T;const{oldDragItem:R}=this.state;let{layout:A}=this.state;const{cols:L,allowOverlap:q,preventCollision:J}=this.props,U=(0,r.getLayoutItem)(A,v);if(!U)return;const ce={w:U.w,h:U.h,x:U.x,y:U.y,placeholder:!0,i:v};A=(0,r.moveElement)(A,U,C,N,!0,J,(0,r.compactType)(this.props),L,q),this.props.onDrag(A,R,U,ce,M,P),this.setState({layout:q?A:(0,r.compact)(A,(0,r.compactType)(this.props),L),activeDrag:ce})}),p(this,"onDragStop",(v,C,N,T)=>{let{e:M,node:P}=T;if(!this.state.activeDrag)return;const{oldDragItem:R}=this.state;let{layout:A}=this.state;const{cols:L,preventCollision:q,allowOverlap:J}=this.props,U=(0,r.getLayoutItem)(A,v);if(!U)return;A=(0,r.moveElement)(A,U,C,N,!0,q,(0,r.compactType)(this.props),L,J);const fe=J?A:(0,r.compact)(A,(0,r.compactType)(this.props),L);this.props.onDragStop(fe,R,U,null,M,P);const{oldLayout:be}=this.state;this.setState({activeDrag:null,layout:fe,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(fe,be)}),p(this,"onResizeStart",(v,C,N,T)=>{let{e:M,node:P}=T;const{layout:R}=this.state,A=(0,r.getLayoutItem)(R,v);A&&(this.setState({oldResizeItem:(0,r.cloneLayoutItem)(A),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(R,A,A,null,M,P))}),p(this,"onResize",(v,C,N,T)=>{let{e:M,node:P,size:R,handle:A}=T;const{oldResizeItem:L}=this.state,{layout:q}=this.state,{cols:J,preventCollision:U,allowOverlap:ce}=this.props;let fe=!1,be,pe,de;const[X,se]=(0,r.withLayoutItem)(q,v,I=>{let G;return pe=I.x,de=I.y,["sw","w","nw","n","ne"].indexOf(A)!==-1&&(["sw","nw","w"].indexOf(A)!==-1&&(pe=I.x+(I.w-C),C=I.x!==pe&&pe<0?I.w:C,pe=pe<0?0:pe),["ne","n","nw"].indexOf(A)!==-1&&(de=I.y+(I.h-N),N=I.y!==de&&de<0?I.h:N,de=de<0?0:de),fe=!0),U&&!ce&&(G=(0,r.getAllCollisions)(q,{...I,w:C,h:N,x:pe,y:de}).filter(Oe=>Oe.i!==I.i).length>0,G&&(de=I.y,N=I.h,pe=I.x,C=I.w,fe=!1)),I.w=C,I.h=N,I});if(!se)return;be=X,fe&&(be=(0,r.moveElement)(X,se,pe,de,!0,this.props.preventCollision,(0,r.compactType)(this.props),J,ce));const re={w:se.w,h:se.h,x:se.x,y:se.y,static:!0,i:v};this.props.onResize(be,L,se,re,M,P),this.setState({layout:ce?be:(0,r.compact)(be,(0,r.compactType)(this.props),J),activeDrag:re})}),p(this,"onResizeStop",(v,C,N,T)=>{let{e:M,node:P}=T;const{layout:R,oldResizeItem:A}=this.state,{cols:L,allowOverlap:q}=this.props,J=(0,r.getLayoutItem)(R,v),U=q?R:(0,r.compact)(R,(0,r.compactType)(this.props),L);this.props.onResizeStop(U,A,J,null,M,P);const{oldLayout:ce}=this.state;this.setState({activeDrag:null,layout:U,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(U,ce)}),p(this,"onDragOver",v=>{var X;if(v.preventDefault(),v.stopPropagation(),x&&!((X=v.nativeEvent.target)!=null&&X.classList.contains(w)))return!1;const{droppingItem:C,onDropDragOver:N,margin:T,cols:M,rowHeight:P,maxRows:R,width:A,containerPadding:L,transformScale:q}=this.props,J=N==null?void 0:N(v);if(J===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const U={...C,...J},{layout:ce}=this.state,fe=v.currentTarget.getBoundingClientRect(),be=v.clientX-fe.left,pe=v.clientY-fe.top,de={left:be/q,top:pe/q,e:v};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:se,top:re}=this.state.droppingPosition;(se!=be||re!=pe)&&this.setState({droppingPosition:de})}}else{const se={cols:M,margin:T,maxRows:R,rowHeight:P,containerWidth:A,containerPadding:L||T},re=(0,i.calcXY)(se,pe,be,U.w,U.h);this.setState({droppingDOMNode:n.createElement("div",{key:U.i}),droppingPosition:de,layout:[...ce,{...U,x:re.x,y:re.y,static:!1,isDraggable:!0}]})}}),p(this,"removeDroppingPlaceholder",()=>{const{droppingItem:v,cols:C}=this.props,{layout:N}=this.state,T=(0,r.compact)(N.filter(M=>M.i!==v.i),(0,r.compactType)(this.props),C,this.props.allowOverlap);this.setState({layout:T,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),p(this,"onDragLeave",v=>{v.preventDefault(),v.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),p(this,"onDragEnter",v=>{v.preventDefault(),v.stopPropagation(),this.dragEnterCounter++}),p(this,"onDrop",v=>{v.preventDefault(),v.stopPropagation();const{droppingItem:C}=this.props,{layout:N}=this.state,T=N.find(M=>M.i===C.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(N,T,v)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(v,C){let N;return C.activeDrag?null:(!(0,e.deepEqual)(v.layout,C.propsLayout)||v.compactType!==C.compactType?N=v.layout:(0,r.childrenEqual)(v.children,C.children)||(N=C.layout),N?{layout:(0,r.synchronizeLayoutWithChildren)(N,v.children,v.cols,(0,r.compactType)(v),v.allowOverlap),compactType:v.compactType,children:v.children,propsLayout:v.layout}:null)}shouldComponentUpdate(v,C){return this.props.children!==v.children||!(0,r.fastRGLPropsEqual)(this.props,v,e.deepEqual)||this.state.activeDrag!==C.activeDrag||this.state.mounted!==C.mounted||this.state.droppingPosition!==C.droppingPosition}componentDidUpdate(v,C){if(!this.state.activeDrag){const N=this.state.layout,T=C.layout;this.onLayoutMaybeChanged(N,T)}}containerHeight(){if(!this.props.autoSize)return;const v=(0,r.bottom)(this.state.layout),C=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return v*this.props.rowHeight+(v-1)*this.props.margin[1]+C*2+"px"}onLayoutMaybeChanged(v,C){C||(C=this.state.layout),(0,e.deepEqual)(C,v)||this.props.onLayoutChange(v)}placeholder(){const{activeDrag:v}=this.state;if(!v)return null;const{width:C,cols:N,margin:T,containerPadding:M,rowHeight:P,maxRows:R,useCSSTransforms:A,transformScale:L}=this.props;return n.createElement(o.default,{w:v.w,h:v.h,x:v.x,y:v.y,i:v.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:C,cols:N,margin:T,containerPadding:M||T,maxRows:R,rowHeight:P,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:A,transformScale:L},n.createElement("div",null))}processGridItem(v,C){if(!v||!v.key)return;const N=(0,r.getLayoutItem)(this.state.layout,String(v.key));if(!N)return null;const{width:T,cols:M,margin:P,containerPadding:R,rowHeight:A,maxRows:L,isDraggable:q,isResizable:J,isBounded:U,useCSSTransforms:ce,transformScale:fe,draggableCancel:be,draggableHandle:pe,resizeHandles:de,resizeHandle:X}=this.props,{mounted:se,droppingPosition:re}=this.state,I=typeof N.isDraggable=="boolean"?N.isDraggable:!N.static&&q,G=typeof N.isResizable=="boolean"?N.isResizable:!N.static&&J,Ne=N.resizeHandles||de,Oe=I&&U&&N.isBounded!==!1;return n.createElement(o.default,{containerWidth:T,cols:M,margin:P,containerPadding:R||P,maxRows:L,rowHeight:A,cancel:be,handle:pe,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:I,isResizable:G,isBounded:Oe,useCSSTransforms:ce&&se,usePercentages:!se,transformScale:fe,w:N.w,h:N.h,x:N.x,y:N.y,i:N.i,minH:N.minH,minW:N.minW,maxH:N.maxH,maxW:N.maxW,static:N.static,droppingPosition:C?re:void 0,resizeHandles:Ne,resizeHandle:X},v)}render(){const{className:v,style:C,isDroppable:N,innerRef:T}=this.props,M=(0,t.default)(w,v),P={height:this.containerHeight(),...C};return n.createElement("div",{ref:T,className:M,style:P,onDrop:N?this.onDrop:r.noop,onDragLeave:N?this.onDragLeave:r.noop,onDragEnter:N?this.onDragEnter:r.noop,onDragOver:N?this.onDragOver:r.noop},n.Children.map(this.props.children,R=>this.processGridItem(R)),N&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};return Lo.default=E,p(E,"displayName","ReactGridLayout"),p(E,"propTypes",a.default),p(E,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:r.noop,onDragStart:r.noop,onDrag:r.noop,onDragStop:r.noop,onResizeStart:r.noop,onResize:r.noop,onResizeStop:r.noop,onDrop:r.noop,onDropDragOver:r.noop}),Lo}var Wo={},Ci={},e0;function hv(){if(e0)return Ci;e0=1,Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.findOrGenerateResponsiveLayout=r,Ci.getBreakpointFromWidth=e,Ci.getColsFromBreakpoint=t,Ci.sortBreakpoints=i;var n=Fs();function e(o,a){const u=i(o);let d=u[0];for(let f=1,p=u.length;f<p;f++){const m=u[f];a>o[m]&&(d=m)}return d}function t(o,a){if(!a[o])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+o+" is missing!");return a[o]}function r(o,a,u,d,f,p){if(o[u])return(0,n.cloneLayout)(o[u]);let m=o[d];const b=i(a),w=b.slice(b.indexOf(u));for(let x=0,E=w.length;x<E;x++){const S=w[x];if(o[S]){m=o[S];break}}return m=(0,n.cloneLayout)(m||[]),(0,n.compact)((0,n.correctBounds)(m,{cols:f}),p,f)}function i(o){return Object.keys(o).sort(function(u,d){return o[u]-o[d]})}return Ci}var t0;function $E(){if(t0)return Wo;t0=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.default=void 0;var n=d(tn()),e=a(oi()),t=Bh(),r=Fs(),i=hv(),o=a(fv());function a(S){return S&&S.__esModule?S:{default:S}}function u(S){if(typeof WeakMap!="function")return null;var v=new WeakMap,C=new WeakMap;return(u=function(N){return N?C:v})(S)}function d(S,v){if(S&&S.__esModule)return S;if(S===null||typeof S!="object"&&typeof S!="function")return{default:S};var C=u(v);if(C&&C.has(S))return C.get(S);var N={__proto__:null},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in S)if(M!=="default"&&Object.prototype.hasOwnProperty.call(S,M)){var P=T?Object.getOwnPropertyDescriptor(S,M):null;P&&(P.get||P.set)?Object.defineProperty(N,M,P):N[M]=S[M]}return N.default=S,C&&C.set(S,N),N}function f(){return f=Object.assign?Object.assign.bind():function(S){for(var v=1;v<arguments.length;v++){var C=arguments[v];for(var N in C)Object.prototype.hasOwnProperty.call(C,N)&&(S[N]=C[N])}return S},f.apply(this,arguments)}function p(S,v,C){return v=m(v),v in S?Object.defineProperty(S,v,{value:C,enumerable:!0,configurable:!0,writable:!0}):S[v]=C,S}function m(S){var v=b(S,"string");return typeof v=="symbol"?v:String(v)}function b(S,v){if(typeof S!="object"||S===null)return S;var C=S[Symbol.toPrimitive];if(C!==void 0){var N=C.call(S,v||"default");if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(S)}const w=S=>Object.prototype.toString.call(S);function x(S,v){return S==null?null:Array.isArray(S)?S:S[v]}let E=class extends n.Component{constructor(){super(...arguments),p(this,"state",this.generateInitialState()),p(this,"onLayoutChange",v=>{this.props.onLayoutChange(v,{...this.props.layouts,[this.state.breakpoint]:v})})}generateInitialState(){const{width:v,breakpoints:C,layouts:N,cols:T}=this.props,M=(0,i.getBreakpointFromWidth)(C,v),P=(0,i.getColsFromBreakpoint)(M,T),R=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,i.findOrGenerateResponsiveLayout)(N,C,M,M,P,R),breakpoint:M,cols:P}}static getDerivedStateFromProps(v,C){if(!(0,t.deepEqual)(v.layouts,C.layouts)){const{breakpoint:N,cols:T}=C;return{layout:(0,i.findOrGenerateResponsiveLayout)(v.layouts,v.breakpoints,N,N,T,v.compactType),layouts:v.layouts}}return null}componentDidUpdate(v){(this.props.width!=v.width||this.props.breakpoint!==v.breakpoint||!(0,t.deepEqual)(this.props.breakpoints,v.breakpoints)||!(0,t.deepEqual)(this.props.cols,v.cols))&&this.onWidthChange(v)}onWidthChange(v){const{breakpoints:C,cols:N,layouts:T,compactType:M}=this.props,P=this.props.breakpoint||(0,i.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),R=this.state.breakpoint,A=(0,i.getColsFromBreakpoint)(P,N),L={...T};if(R!==P||v.breakpoints!==C||v.cols!==N){R in L||(L[R]=(0,r.cloneLayout)(this.state.layout));let U=(0,i.findOrGenerateResponsiveLayout)(L,C,P,R,A,M);U=(0,r.synchronizeLayoutWithChildren)(U,this.props.children,A,M,this.props.allowOverlap),L[P]=U,this.props.onBreakpointChange(P,A),this.props.onLayoutChange(U,L),this.setState({breakpoint:P,layout:U,cols:A})}const q=x(this.props.margin,P),J=x(this.props.containerPadding,P);this.props.onWidthChange(this.props.width,q,A,J)}render(){const{breakpoint:v,breakpoints:C,cols:N,layouts:T,margin:M,containerPadding:P,onBreakpointChange:R,onLayoutChange:A,onWidthChange:L,...q}=this.props;return n.createElement(o.default,f({},q,{margin:x(M,this.state.breakpoint),containerPadding:x(P,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return Wo.default=E,p(E,"propTypes",{breakpoint:e.default.string,breakpoints:e.default.object,allowOverlap:e.default.bool,cols:e.default.object,margin:e.default.oneOfType([e.default.array,e.default.object]),containerPadding:e.default.oneOfType([e.default.array,e.default.object]),layouts(S,v){if(w(S[v])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+w(S[v]));Object.keys(S[v]).forEach(C=>{if(!(C in S.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,r.validateLayout)(S.layouts[C],"layouts."+C)})},width:e.default.number.isRequired,onBreakpointChange:e.default.func,onLayoutChange:e.default.func,onWidthChange:e.default.func}),p(E,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:r.noop,onLayoutChange:r.noop,onWidthChange:r.noop}),Wo}var _a={},pv=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,o){return i[0]===t?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];t.call(r,a[1],a[0])}},e}()}(),Xf=typeof window<"u"&&typeof document<"u"&&window.document===document,iu=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),HE=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(iu):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),WE=2;function VE(n,e){var t=!1,r=!1,i=0;function o(){t&&(t=!1,n()),r&&u()}function a(){HE(o)}function u(){var d=Date.now();if(t){if(d-i<WE)return;r=!0}else t=!0,r=!1,setTimeout(a,e);i=d}return u}var UE=20,qE=["top","right","bottom","left","width","height","size","weight"],GE=typeof MutationObserver<"u",KE=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=VE(this.refresh.bind(this),UE)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!Xf||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),GE?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!Xf||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=qE.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),mv=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},Rs=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||iu},gv=Zu(0,0,0,0);function su(n){return parseFloat(n)||0}function n0(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var o=n["border-"+i+"-width"];return r+su(o)},0)}function JE(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var o=i[r],a=n["padding-"+o];t[o]=su(a)}return t}function YE(n){var e=n.getBBox();return Zu(0,0,e.width,e.height)}function XE(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return gv;var r=Rs(n).getComputedStyle(n),i=JE(r),o=i.left+i.right,a=i.top+i.bottom,u=su(r.width),d=su(r.height);if(r.boxSizing==="border-box"&&(Math.round(u+o)!==e&&(u-=n0(r,"left","right")+o),Math.round(d+a)!==t&&(d-=n0(r,"top","bottom")+a)),!ZE(n)){var f=Math.round(u+o)-e,p=Math.round(d+a)-t;Math.abs(f)!==1&&(u-=f),Math.abs(p)!==1&&(d-=p)}return Zu(i.left,i.top,u,d)}var QE=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Rs(n).SVGGraphicsElement}:function(n){return n instanceof Rs(n).SVGElement&&typeof n.getBBox=="function"}}();function ZE(n){return n===Rs(n).document.documentElement}function eN(n){return Xf?QE(n)?YE(n):XE(n):gv}function tN(n){var e=n.x,t=n.y,r=n.width,i=n.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return mv(a,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),a}function Zu(n,e,t,r){return{x:n,y:e,width:t,height:r}}var nN=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Zu(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=eN(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),rN=function(){function n(e,t){var r=tN(t);mv(this,{target:e,contentRect:r})}return n}(),iN=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new pv,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Rs(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new nN(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Rs(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new rN(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),yv=typeof WeakMap<"u"?new WeakMap:new pv,xv=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=KE.getInstance(),r=new iN(e,t,this);yv.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){xv.prototype[n]=function(){var e;return(e=yv.get(this))[n].apply(e,arguments)}});var sN=function(){return typeof iu.ResizeObserver<"u"?iu.ResizeObserver:xv}();const oN=Object.freeze(Object.defineProperty({__proto__:null,default:sN},Symbol.toStringTag,{value:"Module"})),lN=Lx(oN);var r0;function aN(){if(r0)return _a;r0=1,Object.defineProperty(_a,"__esModule",{value:!0}),_a.default=b;var n=a(tn()),e=i(oi()),t=i(lN),r=i(Fh());function i(w){return w&&w.__esModule?w:{default:w}}function o(w){if(typeof WeakMap!="function")return null;var x=new WeakMap,E=new WeakMap;return(o=function(S){return S?E:x})(w)}function a(w,x){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var E=o(x);if(E&&E.has(w))return E.get(w);var S={__proto__:null},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in w)if(C!=="default"&&Object.prototype.hasOwnProperty.call(w,C)){var N=v?Object.getOwnPropertyDescriptor(w,C):null;N&&(N.get||N.set)?Object.defineProperty(S,C,N):S[C]=w[C]}return S.default=w,E&&E.set(w,S),S}function u(){return u=Object.assign?Object.assign.bind():function(w){for(var x=1;x<arguments.length;x++){var E=arguments[x];for(var S in E)Object.prototype.hasOwnProperty.call(E,S)&&(w[S]=E[S])}return w},u.apply(this,arguments)}function d(w,x,E){return x=f(x),x in w?Object.defineProperty(w,x,{value:E,enumerable:!0,configurable:!0,writable:!0}):w[x]=E,w}function f(w){var x=p(w,"string");return typeof x=="symbol"?x:String(x)}function p(w,x){if(typeof w!="object"||w===null)return w;var E=w[Symbol.toPrimitive];if(E!==void 0){var S=E.call(w,x||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(w)}const m="react-grid-layout";function b(w){var x;return x=class extends n.Component{constructor(){super(...arguments),d(this,"state",{width:1280}),d(this,"elementRef",n.createRef()),d(this,"mounted",!1),d(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new t.default(v=>{if(this.elementRef.current instanceof HTMLElement){const N=v[0].contentRect.width;this.setState({width:N})}});const S=this.elementRef.current;S instanceof HTMLElement&&this.resizeObserver.observe(S)}componentWillUnmount(){this.mounted=!1;const S=this.elementRef.current;S instanceof HTMLElement&&this.resizeObserver.unobserve(S),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:S,...v}=this.props;return S&&!this.mounted?n.createElement("div",{className:(0,r.default)(this.props.className,m),style:this.props.style,ref:this.elementRef}):n.createElement(w,u({innerRef:this.elementRef},v,this.state))}},d(x,"defaultProps",{measureBeforeMount:!1}),d(x,"propTypes",{measureBeforeMount:e.default.bool}),x}return _a}var i0;function uN(){return i0||(i0=1,function(n){n.exports=fv().default,n.exports.utils=Fs(),n.exports.calculateUtils=$h(),n.exports.Responsive=$E().default,n.exports.Responsive.utils=hv(),n.exports.WidthProvider=aN().default}(hf)),hf.exports}var s0=uN();function vv(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=vv(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function wv(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=vv(n))&&(r&&(r+=" "),r+=e);return r}const o0=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,l0=wv,cN=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return l0(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(f=>{const p=t==null?void 0:t[f],m=o==null?void 0:o[f];if(p===null)return null;const b=o0(p)||o0(m);return i[f][b]}),u=t&&Object.entries(t).reduce((f,p)=>{let[m,b]=p;return b===void 0||(f[m]=b),f},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:m,className:b,...w}=p;return Object.entries(w).every(x=>{let[E,S]=x;return Array.isArray(S)?S.includes({...o,...u}[E]):{...o,...u}[E]===S})?[...f,m,b]:f},[]);return l0(n,a,d,t==null?void 0:t.class,t==null?void 0:t.className)},Vh="-",dN=n=>{const e=hN(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:a=>{const u=a.split(Vh);return u[0]===""&&u.length!==1&&u.shift(),Sv(u,e)||fN(a)},getConflictingClassGroupIds:(a,u)=>{const d=t[a]||[];return u&&r[a]?[...d,...r[a]]:d}}},Sv=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?Sv(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=n.join(Vh);return(a=e.validators.find(({validator:u})=>u(o)))==null?void 0:a.classGroupId},a0=/^\[(.+)\]$/,fN=n=>{if(a0.test(n)){const e=a0.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},hN=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return mN(Object.entries(n.classGroups),t).forEach(([o,a])=>{Qf(a,r,o,e)}),r},Qf=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const o=i===""?e:u0(e,i);o.classGroupId=t;return}if(typeof i=="function"){if(pN(i)){Qf(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([o,a])=>{Qf(a,u0(e,o),t,r)})})},u0=(n,e)=>{let t=n;return e.split(Vh).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},pN=n=>n.isThemeGetter,mN=(n,e)=>e?n.map(([t,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,u])=>[e+a,u])):o);return[t,i]}):n,gN=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(o,a)=>{t.set(o,a),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let a=t.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){t.has(o)?t.set(o,a):i(o,a)}}},bv="!",yN=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],o=e.length,a=u=>{const d=[];let f=0,p=0,m;for(let S=0;S<u.length;S++){let v=u[S];if(f===0){if(v===i&&(r||u.slice(S,S+o)===e)){d.push(u.slice(p,S)),p=S+o;continue}if(v==="/"){m=S;continue}}v==="["?f++:v==="]"&&f--}const b=d.length===0?u:u.substring(p),w=b.startsWith(bv),x=w?b.substring(1):b,E=m&&m>p?m-p:void 0;return{modifiers:d,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:E}};return t?u=>t({className:u,parseClassName:a}):a},xN=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},vN=n=>({cache:gN(n.cacheSize),parseClassName:yN(n),...dN(n)}),wN=/\s+/,SN=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],a=n.trim().split(wN);let u="";for(let d=a.length-1;d>=0;d-=1){const f=a[d],{modifiers:p,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:w}=t(f);let x=!!w,E=r(x?b.substring(0,w):b);if(!E){if(!x){u=f+(u.length>0?" "+u:u);continue}if(E=r(b),!E){u=f+(u.length>0?" "+u:u);continue}x=!1}const S=xN(p).join(":"),v=m?S+bv:S,C=v+E;if(o.includes(C))continue;o.push(C);const N=i(E,x);for(let T=0;T<N.length;++T){const M=N[T];o.push(v+M)}u=f+(u.length>0?" "+u:u)}return u};function bN(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=kv(e))&&(r&&(r+=" "),r+=t);return r}const kv=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=kv(n[r]))&&(t&&(t+=" "),t+=e);return t};function kN(n,...e){let t,r,i,o=a;function a(d){const f=e.reduce((p,m)=>m(p),n());return t=vN(f),r=t.cache.get,i=t.cache.set,o=u,u(d)}function u(d){const f=r(d);if(f)return f;const p=SN(d,t);return i(d,p),p}return function(){return o(bN.apply(null,arguments))}}const Xe=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Cv=/^\[(?:([a-z-]+):)?(.+)\]$/i,CN=/^\d+\/\d+$/,EN=new Set(["px","full","screen"]),NN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ON=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lr=n=>Cs(n)||EN.has(n)||CN.test(n),Br=n=>$s(n,"length",_N),Cs=n=>!!n&&!Number.isNaN(Number(n)),vf=n=>$s(n,"number",Cs),Vo=n=>!!n&&Number.isInteger(Number(n)),PN=n=>n.endsWith("%")&&Cs(n.slice(0,-1)),De=n=>Cv.test(n),Fr=n=>NN.test(n),DN=new Set(["length","size","percentage"]),jN=n=>$s(n,DN,Ev),AN=n=>$s(n,"position",Ev),LN=new Set(["image","url"]),IN=n=>$s(n,LN,FN),zN=n=>$s(n,"",BN),Uo=()=>!0,$s=(n,e,t)=>{const r=Cv.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},_N=n=>ON.test(n)&&!MN.test(n),Ev=()=>!1,BN=n=>TN.test(n),FN=n=>RN.test(n),$N=()=>{const n=Xe("colors"),e=Xe("spacing"),t=Xe("blur"),r=Xe("brightness"),i=Xe("borderColor"),o=Xe("borderRadius"),a=Xe("borderSpacing"),u=Xe("borderWidth"),d=Xe("contrast"),f=Xe("grayscale"),p=Xe("hueRotate"),m=Xe("invert"),b=Xe("gap"),w=Xe("gradientColorStops"),x=Xe("gradientColorStopPositions"),E=Xe("inset"),S=Xe("margin"),v=Xe("opacity"),C=Xe("padding"),N=Xe("saturate"),T=Xe("scale"),M=Xe("sepia"),P=Xe("skew"),R=Xe("space"),A=Xe("translate"),L=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",De,e],U=()=>[De,e],ce=()=>["",lr,Br],fe=()=>["auto",Cs,De],be=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],pe=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],se=()=>["","0",De],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[Cs,De];return{cacheSize:500,separator:":",theme:{colors:[Uo],spacing:[lr,Br],blur:["none","",Fr,De],brightness:I(),borderColor:[n],borderRadius:["none","","full",Fr,De],borderSpacing:U(),borderWidth:ce(),contrast:I(),grayscale:se(),hueRotate:I(),invert:se(),gap:U(),gradientColorStops:[n],gradientColorStopPositions:[PN,Br],inset:J(),margin:J(),opacity:I(),padding:U(),saturate:I(),scale:I(),sepia:se(),skew:I(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",De]}],container:["container"],columns:[{columns:[Fr]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...be(),De]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vo,De]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",De]}],grow:[{grow:se()}],shrink:[{shrink:se()}],order:[{order:["first","last","none",Vo,De]}],"grid-cols":[{"grid-cols":[Uo]}],"col-start-end":[{col:["auto",{span:["full",Vo,De]},De]}],"col-start":[{"col-start":fe()}],"col-end":[{"col-end":fe()}],"grid-rows":[{"grid-rows":[Uo]}],"row-start-end":[{row:["auto",{span:[Vo,De]},De]}],"row-start":[{"row-start":fe()}],"row-end":[{"row-end":fe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",De]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",De]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",De,e]}],"min-w":[{"min-w":[De,e,"min","max","fit"]}],"max-w":[{"max-w":[De,e,"none","full","min","max","fit","prose",{screen:[Fr]},Fr]}],h:[{h:[De,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[De,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Fr,Br]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vf]}],"font-family":[{font:[Uo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",De]}],"line-clamp":[{"line-clamp":["none",Cs,vf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",lr,De]}],"list-image":[{"list-image":["none",De]}],"list-style-type":[{list:["none","disc","decimal",De]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",lr,Br]}],"underline-offset":[{"underline-offset":["auto",lr,De]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...be(),AN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},IN]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...pe(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:pe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...pe()]}],"outline-offset":[{"outline-offset":[lr,De]}],"outline-w":[{outline:[lr,Br]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[lr,Br]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Fr,zN]}],"shadow-color":[{shadow:[Uo]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Fr,De]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[N]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",De]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",De]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",De]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Vo,De]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",De]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[lr,Br,vf]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},HN=kN($N);function yr(...n){return HN(wv(n))}const WN=cN("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none disabled:cursor-not-allowed",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Jo=D.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},o)=>{const a=r?D.Children.only(i.children):"button";return y.jsx(a,{className:yr(WN({variant:e,size:t,className:n})),ref:o,...i})});Jo.displayName="Button";const Nv=D.forwardRef(({className:n,...e},t)=>y.jsx("textarea",{className:yr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));Nv.displayName="Textarea";const ec=D.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:yr("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));ec.displayName="Card";const Uh=D.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:yr("flex flex-col space-y-1.5 p-6",n),...e}));Uh.displayName="CardHeader";const VN=D.forwardRef(({className:n,...e},t)=>y.jsx("h3",{ref:t,className:yr("text-2xl font-semibold leading-none tracking-tight",n),...e}));VN.displayName="CardTitle";const UN=D.forwardRef(({className:n,...e},t)=>y.jsx("p",{ref:t,className:yr("text-sm text-muted-foreground",n),...e}));UN.displayName="CardDescription";const qh=D.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:yr("p-6 pt-0",n),...e}));qh.displayName="CardContent";const qN=D.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:yr("flex items-center p-6 pt-0",n),...e}));qN.displayName="CardFooter";const Ov=D.forwardRef(({className:n,type:e,...t},r)=>y.jsx("input",{type:e,className:yr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));Ov.displayName="Input";var GN=qu();const KN=Ax(GN);function JN({onSubmit:n}){const[e,t]=D.useState(!1),[r,i]=D.useState(!1),[o,a]=D.useState(""),[u,d]=D.useState(""),[f,p]=D.useState(""),m=async b=>{if(b.preventDefault(),!!o.trim())try{i(!0),p(""),await n({content:o,currentSong:u.trim()}),a(""),d(""),t(!1)}catch(w){p(w.message||"Failed to create post")}finally{i(!1)}};return y.jsx("div",{className:"w-full mb-6",children:e?y.jsx(ec,{className:"p-4",children:y.jsxs("form",{onSubmit:m,children:[f&&y.jsx("div",{className:"mb-4 text-sm text-red-600 bg-red-50 p-2 rounded",children:f}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"relative",children:y.jsx(Nv,{value:o,onChange:b=>a(b.target.value),placeholder:"What's on your mind?",className:"min-h-[120px] resize-none",disabled:r})}),u&&y.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 p-2 rounded-lg",children:[y.jsx(Xr,{className:"h-4 w-4 text-emerald-600"}),y.jsx("span",{className:"text-sm text-emerald-800",children:u}),y.jsx(Jo,{type:"button",size:"icon",variant:"ghost",className:"ml-auto h-6 w-6",onClick:()=>d(""),disabled:r,children:y.jsx(_h,{className:"h-3 w-3"})})]}),y.jsx(Ov,{type:"text",placeholder:"What are you listening to?",value:u,onChange:b=>d(b.target.value),className:"flex-1",disabled:r}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx(Jo,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:r,children:"Cancel"}),y.jsx(Jo,{type:"submit",className:"bg-emerald-600 text-white hover:bg-emerald-700",disabled:!o.trim()||r,children:r?y.jsxs(y.Fragment,{children:[y.jsx(si,{className:"mr-2 h-4 w-4 animate-spin"}),"Posting..."]}):"Post"})]})]})]})}):y.jsx(Jo,{onClick:()=>t(!0),className:"w-full bg-white/60 text-gray-800 hover:bg-white/80",variant:"ghost",children:"Share something..."})})}const Hs="/api/posts";async function YN(n){return await Ws(Hs,"POST",n)}async function XN(){return await Ws(Hs)}async function Mv(n){return await Ws(`${Hs}/${n}`,"DELETE")}async function QN(n){return await Ws(`${Hs}/${n}/like`,"POST")}async function ZN(n,e){return await Ws(`${Hs}/${n}/comments`,"POST",{content:e})}async function eO(n,e){return await Ws(`${Hs}/${n}/comments/${e}`,"DELETE")}async function Ws(n,e="GET",t=null){const r={method:e,headers:{Authorization:Yu()}};t&&(r.headers["Content-Type"]="application/json",r.body=JSON.stringify(t));const i=await fetch(n,r);if(i.ok)return i.json();{const o=await i.json();throw new Error(o.message||"Something went wrong")}}function tO({postId:n,comments:e=[],onAddComment:t}){const[r,i]=D.useState(!1),[o,a]=D.useState(""),[u,d]=D.useState(!1),[f,p]=D.useState(""),[m,b]=D.useState(e),[w,x]=D.useState(null);D.useEffect(()=>{b(e)},[e]),D.useEffect(()=>{const v=localStorage.getItem("user");if(v)try{x(JSON.parse(v))}catch(C){console.error("Error parsing user data:",C)}},[]);const E=async v=>{if(v.preventDefault(),!!o.trim())try{d(!0),p("");const C=await t(n,o.trim());b([...m,C]),a("")}catch(C){p("Failed to add comment. Please try again."),console.error("Comment error:",C)}finally{d(!1)}},S=async v=>{try{await eO(n,v),b(C=>C.filter(N=>N._id!==v))}catch(C){p("Failed to delete comment"),console.error("Delete comment error:",C)}};return y.jsxs("div",{className:"mt-4",children:[y.jsxs("button",{onClick:()=>i(!r),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-800",children:[y.jsx(tE,{size:16}),m.length," Comments"]}),r&&y.jsxs("div",{className:"mt-4 space-y-4",children:[y.jsx("div",{className:"space-y-3",children:m.map(v=>y.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center",children:y.jsx("span",{className:"text-sm font-medium text-emerald-800",children:v.user.name.charAt(0)})}),y.jsxs("div",{children:[y.jsx("span",{className:"font-medium text-sm text-gray-800",children:v.user.name}),y.jsx("span",{className:"text-xs text-gray-500 ml-2",children:new Date(v.createdAt).toLocaleDateString()})]})]}),(w==null?void 0:w._id)===v.user._id&&y.jsx("button",{onClick:()=>S(v._id),className:"text-gray-400 hover:text-red-500 p-1 rounded-full hover:bg-gray-100",children:y.jsx(_h,{size:16})})]}),y.jsx("p",{className:"text-sm text-gray-700 ml-10",children:v.content})]},v._id))}),f&&y.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:f}),y.jsxs("form",{onSubmit:E,className:"flex gap-2",children:[y.jsx("input",{type:"text",value:o,onChange:v=>a(v.target.value),placeholder:"Add a comment...",className:"flex-1 rounded-lg border border-gray-200 px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",disabled:u}),y.jsx("button",{type:"submit",disabled:u||!o.trim(),className:"bg-emerald-600 text-white rounded-lg px-4 py-2 hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?y.jsx(si,{size:16,className:"animate-spin"}):y.jsx(fE,{size:16})})]})]})]})}function nO({post:n,onDelete:e}){const[t,r]=D.useState(!1),[i,o]=D.useState(0),[a,u]=D.useState(!1),[d,f]=D.useState(""),[p,m]=D.useState(null),[b,w]=D.useState(n.comments||[]);D.useEffect(()=>{const v=localStorage.getItem("token"),C=localStorage.getItem("user");if(v&&C)try{const N=JSON.parse(C);m(N),n.likes&&(o(n.likes.length),r(n.likes.includes(N._id)))}catch(N){console.error("Error parsing user data:",N)}},[n.likes]);const x=async()=>{try{const v=await QN(n._id);v&&(r(v.isLiked),o(v.likeCount))}catch{f("Failed to update like")}},E=async()=>{if(window.confirm("Are you sure you want to delete this post?"))try{u(!0),await Mv(n._id),e(n._id)}catch{f("Failed to delete post"),u(!1)}},S=async(v,C)=>{try{const N=await ZN(v,C);return w(T=>[...T,N]),N}catch(N){throw console.error("Error adding comment:",N),new Error("Failed to add comment")}};return y.jsxs("div",{className:"relative bg-white/60 rounded-xl p-4 shadow-sm hover:shadow-md transition-all",children:[d&&y.jsx("div",{className:"mb-3 text-sm text-red-600 bg-red-50 p-2 rounded",children:d}),y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-full flex items-center justify-center",children:y.jsx("span",{className:"text-white font-medium",children:n.user.name.charAt(0).toUpperCase()})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-medium text-gray-800",children:n.user.name}),y.jsx("time",{className:"text-sm text-gray-500",children:new Date(n.createdAt).toLocaleDateString()})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{onClick:x,className:`relative z-10 flex items-center gap-1 px-3 py-1 rounded-full transition-colors 
              ${t?"text-red-500 bg-red-50":"text-gray-500 hover:bg-gray-50"}`,children:[y.jsx(HC,{size:16,className:t?"fill-current":""}),y.jsx("span",{className:"text-sm",children:i})]}),(p==null?void 0:p._id)===n.user._id&&y.jsx("button",{onClick:E,disabled:a,className:`relative z-10 text-gray-400 hover:text-red-500 transition-colors p-2 
                rounded-full hover:bg-red-50 disabled:opacity-50`,children:a?y.jsx(si,{size:16,className:"animate-spin"}):y.jsx(xE,{size:16})})]})]}),y.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:n.content}),n.currentSong&&y.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-gray-600 bg-emerald-50 p-2 rounded-lg",children:[y.jsx(Xr,{size:16,className:"text-emerald-500"}),y.jsxs("span",{children:["Now Playing: ",n.currentSong]})]}),y.jsx(tO,{postId:n._id,comments:b,onAddComment:S})]})}function Zf(){const[n,e]=D.useState(""),[t,r]=D.useState(!1);In();const i=async()=>{try{r(!0),e("");const o=await tC();if(o!=null&&o.url)console.log("Redirecting to Spotify auth URL:",o.url),window.location.href=o.url;else throw new Error("No Spotify authorization URL received")}catch(o){console.error("Spotify connection error:",o),e(o.message||"Failed to connect to Spotify")}finally{r(!1)}};return y.jsxs("div",{className:"flex flex-col items-center gap-4 p-4",children:[n&&y.jsx("div",{className:"w-full text-red-600 text-sm bg-red-50 p-3 rounded-lg",children:n}),y.jsx("button",{onClick:i,disabled:t,className:"bg-[#1DB954] hover:bg-[#1ed760] text-white font-bold px-6 py-3 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t?y.jsxs(y.Fragment,{children:[y.jsx(si,{className:"h-5 w-5 animate-spin"}),"Connecting..."]}):"Connect with Spotify"})]})}function rO(){const[n,e]=D.useState(null),[t,r]=D.useState(!0),[i,o]=D.useState("");return D.useEffect(()=>{async function a(){try{r(!0);const u=await oC();e(u)}catch(u){o(u.message)}finally{r(!1)}}a()},[]),y.jsxs(ec,{className:"w-full bg-white/60",children:[y.jsxs(Uh,{children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Xr,{className:"h-4 w-4 text-emerald-600"}),y.jsx("h3",{className:"font-semibold text-gray-800",children:(n==null?void 0:n.title)||"Weekly Editorial Playlist"})]}),(n==null?void 0:n.description)&&y.jsx("p",{className:"text-sm text-gray-600",children:n.description})]}),y.jsx(qh,{children:t?y.jsx("div",{className:"flex justify-center p-8",children:y.jsx(si,{className:"h-8 w-8 animate-spin text-emerald-600"})}):i?y.jsx("div",{className:"text-red-500 text-center p-4",children:i}):n!=null&&n.embedUrl?y.jsx("div",{className:"aspect-square w-full",children:y.jsx("iframe",{src:n.embedUrl,width:"100%",height:"100%",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",className:"rounded-lg"})}):y.jsx("div",{className:"text-center p-4 text-gray-500",children:"No playlist selected for this week"})})]})}const _i="/api/blog";function eh(n=1,e=10,t="newest",r=""){const i=new URLSearchParams({page:n.toString(),limit:e.toString(),sortBy:t,search:r});return qe(`${_i}?${i.toString()}`)}function Tv(n){return qe(`${_i}/${n}`)}function iO(n){return qe(`${_i}/${n}`,"DELETE")}async function c0(n){var e;try{console.log("Creating blog with data:",n);const r=["title","content","category","summary"].filter(o=>!n[o]);if(r.length>0){const o=`Missing required fields: ${r.join(", ")}`;throw console.error(o),new Error(o)}if(n.tags=Array.isArray(n.tags)?n.tags.filter(o=>o):((e=n.tags)==null?void 0:e.split(",").map(o=>o.trim()).filter(o=>o))||[],n.image){const o=new FormData;return Object.entries(n).forEach(([a,u])=>{a==="tags"?o.append(a,JSON.stringify(u)):o.append(a,u)}),console.log("Sending FormData blog post"),qe(_i,"POST",o)}console.log("Sending JSON blog post");const i=await qe(_i,"POST",n);return console.log("Blog creation response:",i),i}catch(t){throw console.error("Error creating blog:",t),t}}async function Rv(n,e){var t;try{if(e.tags=Array.isArray(e.tags)?e.tags.filter(r=>r):((t=e.tags)==null?void 0:t.split(",").map(r=>r.trim()).filter(r=>r))||[],e.image){const r=new FormData;return Object.entries(e).forEach(([i,o])=>{i==="tags"?r.append(i,JSON.stringify(o)):r.append(i,o)}),qe(`${_i}/${n}`,"PUT",r)}return qe(`${_i}/${n}`,"PUT",e)}catch(r){throw console.error("Error updating blog:",r),r}}const Es={"Music News":"bg-blue-100 text-blue-800","Artist Spotlight":"bg-purple-100 text-purple-800","Industry Trends":"bg-green-100 text-green-800",Reviews:"bg-red-100 text-red-800",Tutorials:"bg-yellow-100 text-yellow-800"};function sO(){const[n,e]=D.useState([]),[t,r]=D.useState(!0),[i,o]=D.useState(""),[a,u]=D.useState("all"),[d,f]=D.useState("newest"),[p,m]=D.useState(""),[b,w]=D.useState(1),[x,E]=D.useState(!0),[S,v]=D.useState(new Set),C=D.useRef(),N=10,T=D.useCallback(L=>{t||(C.current&&C.current.disconnect(),C.current=new IntersectionObserver(q=>{q[0].isIntersecting&&x&&w(J=>J+1)}),L&&C.current.observe(L))},[t,x]);D.useEffect(()=>{let L=!0;async function q(){try{r(!0);const J=await eh(b,N,d,p);if(L){e(ce=>b===1?J.blogs:[...ce,...J.blogs]),E(J.pagination.hasMore);const U=JSON.parse(localStorage.getItem("savedPosts")||"[]");v(new Set(U))}}catch(J){console.error("Error fetching blogs:",J),L&&o("Failed to load blog posts")}finally{L&&r(!1)}}return q(),()=>{L=!1}},[b,d,p]),D.useEffect(()=>{w(1),e([])},[d,p]);const M=n.filter(L=>a==="all"?!0:a==="official"?L.isAdmin:a==="community"?!L.isAdmin:a==="saved"?S.has(L._id):!0),P=L=>{const J=L.trim().split(/\s+/).length;return Math.ceil(J/200)},R=async L=>{try{navigator.share?await navigator.share({title:L.title,text:L.summary,url:window.location.origin+`/blog/${L._id}`}):(await navigator.clipboard.writeText(window.location.origin+`/blog/${L._id}`),alert("Link copied to clipboard!"))}catch(q){console.error("Error sharing:",q)}},A=L=>{const q=new Set(S);S.has(L)?q.delete(L):q.add(L),v(q),localStorage.setItem("savedPosts",JSON.stringify([...q]))};return y.jsxs(ec,{className:"w-full bg-white/60",children:[y.jsxs(Uh,{className:"flex flex-col space-y-4 pb-2",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(sv,{className:"h-4 w-4 text-emerald-600"}),y.jsx("h3",{className:"font-semibold text-gray-800",children:"Blog Posts"})]}),y.jsx(vt,{to:"/blog",className:"text-sm text-emerald-600 hover:underline",children:"View All"})]}),y.jsxs("div",{className:"flex flex-wrap gap-3",children:[y.jsxs("div",{className:"relative flex-grow max-w-md",children:[y.jsx(cE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search posts...",value:p,onChange:L=>m(L.target.value),className:"w-full pl-10 pr-4 py-2 text-sm bg-white/60 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),y.jsxs("select",{value:a,onChange:L=>u(L.target.value),className:"text-sm bg-white/60 border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[y.jsx("option",{value:"all",children:"All Posts"}),y.jsx("option",{value:"official",children:"Official"}),y.jsx("option",{value:"community",children:"Community"}),y.jsx("option",{value:"saved",children:"Saved"})]}),y.jsxs("select",{value:d,onChange:L=>f(L.target.value),className:"text-sm bg-white/60 border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[y.jsx("option",{value:"newest",children:"Newest First"}),y.jsx("option",{value:"oldest",children:"Oldest First"}),y.jsx("option",{value:"popular",children:"Most Popular"})]})]})]}),y.jsx(qh,{children:t?y.jsx("div",{className:"flex justify-center p-4",children:y.jsx(si,{className:"h-8 w-8 animate-spin text-emerald-600"})}):i?y.jsx("div",{className:"text-red-500 text-sm p-4",children:i}):M.length>0?y.jsx("div",{className:"space-y-4",children:M.map((L,q)=>{var J;return y.jsx("div",{ref:q===M.length-1?T:null,className:"block bg-white/60 rounded-lg p-4 hover:bg-white/80 transition-colors",children:y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${Es[L.category]||"bg-gray-100"}`,children:L.category}),L.isAdmin&&y.jsxs("span",{className:"flex items-center gap-1 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:[y.jsx(rv,{className:"h-3 w-3"}),"Official"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>R(L),className:"p-1 hover:bg-gray-100 rounded-full transition-colors",title:"Share post",children:y.jsx(pE,{className:"h-4 w-4 text-gray-500"})}),y.jsx("button",{onClick:()=>A(L._id),className:"p-1 hover:bg-gray-100 rounded-full transition-colors",title:S.has(L._id)?"Remove from saved":"Save post",children:S.has(L._id)?y.jsx(bC,{className:"h-4 w-4 text-emerald-500"}):y.jsx(CC,{className:"h-4 w-4 text-gray-500"})})]})]}),L.imageUrl&&y.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-lg",children:y.jsx(vt,{to:`/blog/${L._id}`,children:y.jsx("img",{src:L.imageUrl,alt:L.title,className:"w-full h-full object-cover transform hover:scale-105 transition-transform duration-300",onError:U=>{U.target.src="/default-blog-image.jpg"},loading:"lazy"})})}),y.jsxs("div",{children:[y.jsx(vt,{to:`/blog/${L._id}`,children:y.jsx("h4",{className:"font-medium text-lg text-gray-800 hover:text-emerald-600 transition-colors",children:L.title})}),y.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:L.summary}),y.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-3",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{children:((J=L.author)==null?void 0:J.name)||"Unknown Author"}),y.jsx("span",{children:""}),y.jsx("span",{children:new Date(L.createdAt).toLocaleDateString()}),y.jsx("span",{children:""}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(jC,{className:"h-3 w-3"}),P(L.content)," min read"]})]}),y.jsx("div",{className:"flex items-center gap-2",children:L.viewCount>0&&y.jsxs("span",{children:[L.viewCount," view",L.viewCount!==1?"s":""]})})]})]})]})},L._id)})}):y.jsx("div",{className:"text-center text-gray-500 p-4",children:"No blog posts found"})})]})}function Ei({title:n,icon:e,children:t,className:r,headerActions:i}){const[o,a]=D.useState(!1);return y.jsxs("div",{className:`flex flex-col h-full ${r}`,children:[y.jsx("div",{className:"drag-handle select-none",children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[e&&y.jsx(e,{size:20}),y.jsx("h2",{className:"font-sans text-xl font-semibold text-gray-800",children:n})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[i&&y.jsx("div",{onClick:u=>u.stopPropagation(),className:"z-10",children:i}),y.jsx("button",{type:"button",onClick:u=>{u.preventDefault(),u.stopPropagation(),a(!o)},className:"p-1 hover:bg-black/5 rounded-full z-10",children:o?y.jsx(TC,{size:20,className:"text-gray-600"}):y.jsx(PC,{size:20,className:"text-gray-600"})})]})]})}),y.jsx("div",{className:`flex-1 min-h-0 overflow-auto transition-all duration-300 ease-in-out
          ${o?"max-h-0":"max-h-full"}`,children:y.jsx("div",{className:"p-4",children:t})})]})}function oO(){const[n,e]=D.useState([]),[t,r]=D.useState(!0),[i,o]=D.useState("");D.useEffect(()=>{async function u(){try{const d=await fC();e(d)}catch{o("Failed to load saved articles")}finally{r(!1)}}u()},[]);const a=async u=>{try{await hC(u),e(d=>d.filter(f=>f._id!==u))}catch{o("Failed to delete article")}};return t?y.jsx("div",{className:"flex justify-center items-center p-8",children:y.jsx(si,{className:"h-8 w-8 animate-spin text-emerald-600"})}):i?y.jsx("div",{className:"text-red-500 text-sm p-4 text-center bg-red-50 rounded-lg",children:i}):n.length===0?y.jsx("div",{className:"text-gray-500 text-sm p-4 text-center",children:"No saved articles yet"}):y.jsx("div",{className:"space-y-4",children:n.map(u=>y.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 space-y-3",children:[u.urlToImage&&y.jsx("div",{className:"aspect-video rounded-lg overflow-hidden",children:y.jsx("img",{src:u.urlToImage,alt:u.title,className:"w-full h-full object-cover transform hover:scale-105 transition-transform duration-300",onError:d=>{d.target.style.display="none"}})}),y.jsxs("div",{className:"flex justify-between items-start gap-2",children:[y.jsx("h3",{className:"font-medium text-gray-800",children:u.title}),y.jsx("button",{onClick:()=>a(u._id),className:"text-gray-400 hover:text-red-500 p-1 rounded-full hover:bg-gray-100",children:y.jsx(_h,{size:16})})]}),u.description&&y.jsx("p",{className:"text-sm text-gray-600",children:u.description}),y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-gray-500",children:new Date(u.publishedAt).toLocaleDateString()}),y.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"text-emerald-600 hover:text-emerald-700",children:"Read Article"})]})]},u._id))})}const lO=s0.WidthProvider(s0.Responsive),d0={lg:[{i:"social",x:0,y:0,w:12,h:12},{i:"music",x:0,y:12,w:6,h:12},{i:"stats",x:6,y:12,w:6,h:12},{i:"playlist",x:0,y:24,w:6,h:8},{i:"news",x:6,y:24,w:6,h:12},{i:"blogs",x:0,y:32,w:12,h:8},{i:"saved",x:0,y:40,w:6,h:12}],md:[{i:"social",x:0,y:0,w:10,h:12},{i:"music",x:0,y:12,w:5,h:12},{i:"stats",x:5,y:12,w:5,h:12},{i:"playlist",x:0,y:24,w:5,h:8},{i:"news",x:5,y:24,w:5,h:12},{i:"blogs",x:0,y:32,w:10,h:8},{i:"saved",x:0,y:40,w:5,h:12}],sm:[{i:"social",x:0,y:0,w:6,h:12},{i:"music",x:0,y:12,w:3,h:12},{i:"stats",x:3,y:12,w:3,h:12},{i:"playlist",x:0,y:24,w:3,h:8},{i:"news",x:3,y:24,w:3,h:12},{i:"blogs",x:0,y:32,w:6,h:8},{i:"saved",x:0,y:40,w:3,h:12}],xs:[{i:"social",x:0,y:0,w:4,h:12},{i:"music",x:0,y:12,w:4,h:12},{i:"stats",x:0,y:24,w:4,h:12},{i:"playlist",x:0,y:36,w:4,h:8},{i:"news",x:0,y:44,w:4,h:12},{i:"blogs",x:0,y:56,w:4,h:8},{i:"saved",x:0,y:64,w:4,h:12}],xxs:[{i:"social",x:0,y:0,w:2,h:12},{i:"music",x:0,y:12,w:2,h:12},{i:"stats",x:0,y:24,w:2,h:12},{i:"playlist",x:0,y:36,w:2,h:8},{i:"news",x:0,y:44,w:2,h:12},{i:"blogs",x:0,y:56,w:2,h:8},{i:"saved",x:0,y:64,w:2,h:12}]};function aO({spotifyStatus:n,onSpotifyUpdate:e}){const[t,r]=D.useState([]),[i,o]=D.useState(""),[a,u]=D.useState(!0),[d,f]=D.useState({topArtists:[],topAlbums:[],topGenres:[]}),[p,m]=D.useState(()=>{try{const S=localStorage.getItem("dashboardLayouts");return S?JSON.parse(S):d0}catch(S){return console.error("Error loading layouts:",S),d0}}),b=D.useCallback(async()=>{try{o("");const S=await XN();r(S)}catch(S){console.error("Error loading posts:",S),o("Failed to load posts. Please refresh the page to try again.")}finally{u(!1)}},[]);D.useEffect(()=>{b()},[b]),D.useEffect(()=>{async function S(){try{if(n!=null&&n.connected){const v=await tv();f(v)}}catch(v){console.error("Error fetching stats:",v)}}S()},[n==null?void 0:n.connected]);const w=async S=>{try{o("");const v=await YN(S);r(C=>[v,...C])}catch(v){console.error("Error creating post:",v),o("Failed to create post. Please try again.")}},x=async S=>{try{o(""),await Mv(S),r(v=>v.filter(C=>C._id!==S))}catch(v){console.error("Error deleting post:",v),o("Failed to delete post. Please try again.")}},E=(S,v)=>{try{m(v),localStorage.setItem("dashboardLayouts",JSON.stringify(v))}catch(C){console.error("Error saving layout:",C)}};return a?y.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-emerald-500 border-t-transparent"})}):y.jsx("div",{className:"dashboard-page",children:y.jsx("div",{className:"dashboard-content",children:y.jsx("div",{className:"dashboard-grid",children:y.jsxs(lO,{className:"layout",layouts:p,onLayoutChange:E,breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},rowHeight:30,autoSize:!0,isDraggable:!0,isResizable:!0,margin:[16,16],draggableHandle:".drag-handle",children:[y.jsx("div",{className:"dashboard-item social-feed",children:y.jsx(Ei,{title:"Social Feed",icon:bE,headerActions:y.jsx(vt,{to:"/blog/create",className:"text-emerald-600 hover:text-emerald-700 text-sm font-medium",children:"Write Blog Post"}),children:y.jsxs("div",{className:"flex-1 overflow-hidden",children:[i&&y.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-600 rounded-lg text-sm",children:i}),y.jsx(JN,{onSubmit:w}),y.jsx("div",{className:"space-y-4 mt-4",children:t.map(S=>y.jsx(nO,{post:S,onDelete:x},S._id))})]})})},"social"),y.jsx("div",{className:"dashboard-item music-player",children:y.jsx(Ei,{title:"Playlist Generator",icon:Xr,children:n!=null&&n.connected?y.jsx(CE,{title:"Create Daily Mix",actionButtonText:"Generate Playlist",loadingText:"Creating your mix...",onPlaylistCreated:S=>{console.log("Playlist created:",S)}}):y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Connect Spotify to create playlists"}),y.jsx(Zf,{onSuccess:e})]})})},"music"),y.jsx("div",{className:"dashboard-item stats-section",children:y.jsx(Ei,{title:"Music Stats",icon:Yf,children:n!=null&&n.connected?y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"space-y-3",children:[y.jsxs("h3",{className:"text-emerald-800 font-medium flex items-center gap-2",children:[y.jsx(Xr,{className:"h-4 w-4"}),"Top Artists"]}),y.jsx("div",{className:"space-y-2",children:d.topArtists&&d.topArtists.length>0?y.jsx("ul",{className:"space-y-2",children:d.topArtists.map((S,v)=>y.jsxs("li",{className:"text-sm text-gray-600 flex items-center justify-between border-b border-gray-100 pb-2",children:[y.jsx("span",{children:S.name}),y.jsxs("span",{className:"text-xs text-emerald-600 font-medium",children:["#",v+1]})]},v))}):y.jsx("p",{className:"text-sm text-gray-500",children:"Loading artist data..."})})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("h3",{className:"text-emerald-800 font-medium flex items-center gap-2",children:[y.jsx(iv,{className:"h-4 w-4"}),"Top Albums"]}),y.jsx("div",{className:"space-y-2",children:d.topAlbums&&d.topAlbums.length>0?y.jsx("ul",{className:"space-y-2",children:d.topAlbums.map((S,v)=>y.jsxs("li",{className:"text-sm text-gray-600 flex items-center justify-between border-b border-gray-100 pb-2",children:[y.jsx("span",{children:S.name}),y.jsxs("span",{className:"text-xs text-emerald-600 font-medium",children:["#",v+1]})]},v))}):y.jsx("p",{className:"text-sm text-gray-500",children:"Loading album data..."})})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("h3",{className:"text-emerald-800 font-medium flex items-center gap-2",children:[y.jsx(Yf,{className:"h-4 w-4"}),"Top Genres"]}),y.jsx("div",{className:"space-y-2",children:d.topGenres&&d.topGenres.length>0?y.jsx("ul",{className:"space-y-2",children:d.topGenres.map((S,v)=>y.jsxs("li",{className:"text-sm text-gray-600 flex items-center justify-between border-b border-gray-100 pb-2",children:[y.jsx("span",{children:S.name}),y.jsxs("span",{className:"text-xs text-emerald-600 font-medium",children:["#",v+1]})]},v))}):y.jsx("p",{className:"text-sm text-gray-500",children:"Loading genre data..."})})]})]}):y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Connect Spotify to view your stats"}),y.jsx(Zf,{onSuccess:e})]})})},"stats"),y.jsx("div",{className:"dashboard-item",children:y.jsx(Ei,{title:"Weekly Playlist",icon:rv,children:y.jsx(rO,{})})},"playlist"),y.jsx("div",{className:"dashboard-item music-news",children:y.jsx(Ei,{title:"Music News",icon:iE,children:y.jsx(Zx,{})})},"news"),y.jsx("div",{className:"dashboard-item",children:y.jsx(Ei,{title:"Saved Articles",icon:NC,className:"bg-indigo-50/50",children:y.jsx(oO,{})})},"saved"),y.jsx("div",{className:"dashboard-item blog-feed",children:y.jsx(Ei,{title:"Daily Dispatch",icon:sv,headerActions:y.jsx(vt,{to:"/blog",className:"text-sm text-emerald-600 hover:underline",children:"View All"}),children:y.jsx(sO,{})})},"blogs")]})})})})}const tc="/api/user";function uO(){return qe(`${tc}/profile`)}function cO(n){return qe(`${tc}/profile`,"POST",n)}function dO(n){const e=new FormData;return e.append("profilePicture",n),qe(`${tc}/profile-picture`,"POST",e)}function fO(){return qe(`${tc}/favorites`)}const hO=["Rock","Hip Hop","Electronic","Pop","Jazz","Classical","R&B","Country","Metal","Folk","Blues"],pO=["Happy","Chill","Energetic","Melancholic","Romantic","Focused"];function mO({user:n}){const[e,t]=D.useState({name:"",bio:"",location:"",socialLinks:{discogs:{url:"",verified:!1},vinylVault:{url:"",verified:!1},lastFm:{url:"",verified:!1}},preferences:{privacyLevel:"public",emailNotifications:!0}}),[r,i]=D.useState([]),[o,a]=D.useState([]),[u,d]=D.useState(!1),[f,p]=D.useState(!1),[m,b]=D.useState(""),[w,x]=D.useState("");D.useEffect(()=>{async function T(){try{const[M,P,R]=await Promise.all([uO(),fO(),Xx()]);t({name:M.name,bio:M.bio||"",location:M.location||"",socialLinks:M.socialLinks||{discogs:{url:"",verified:!1},vinylVault:{url:"",verified:!1},lastFm:{url:"",verified:!1}},preferences:M.preferences||{privacyLevel:"public",emailNotifications:!0}}),i(P.favoriteGenres||[]),a(P.favoriteMoods||[]),d(R.connected)}catch{b("Failed to load profile data")}}T()},[]);const E=async T=>{T.preventDefault();try{const M=await cO({...e,favoriteGenres:r,favoriteMoods:o});t(M),p(!1),x("Profile updated successfully"),setTimeout(()=>x(""),3e3)}catch{b("Failed to update profile")}},S=async T=>{const M=T.target.files[0];if(M)try{await dO(M),x("Profile picture updated"),setTimeout(()=>x(""),3e3)}catch{b("Failed to upload profile picture")}},v=async()=>{try{await rC(),d(!1),x("Spotify disconnected"),setTimeout(()=>x(""),3e3)}catch{b("Failed to disconnect Spotify")}},C=T=>{i(M=>M.includes(T)?M.filter(P=>P!==T):[...M,T].slice(0,5))},N=T=>{a(M=>M.includes(T)?M.filter(P=>P!==T):[...M,T].slice(0,3))};return y.jsxs("div",{className:"profile-page",children:[m&&y.jsx("div",{className:"error-message",children:m}),w&&y.jsx("div",{className:"success-message",children:w}),y.jsxs("section",{className:"profile-section",children:[y.jsx("h2",{children:"Profile Information"}),y.jsxs("div",{className:"profile-picture-container",children:[y.jsx("img",{src:e.profilePicture||"/default-profile.png",alt:"",className:"profile-picture"}),y.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden",id:"profile-picture-input"}),y.jsx("label",{htmlFor:"profile-picture-input",className:"profile-picture-overlay",children:"Change Picture"})]}),f?y.jsxs("form",{onSubmit:E,className:"profile-edit-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Name"}),y.jsx("input",{type:"text",value:e.name,onChange:T=>t({...e,name:T.target.value}),required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Bio"}),y.jsx("textarea",{value:e.bio,onChange:T=>t({...e,bio:T.target.value}),rows:"4"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Location"}),y.jsx("input",{type:"text",value:e.location,onChange:T=>t({...e,location:T.target.value})})]}),y.jsxs("div",{className:"music-preferences",children:[y.jsx("h3",{children:"Favorite Genres (Max 5)"}),y.jsx("div",{className:"genre-grid",children:hO.map(T=>y.jsxs("label",{className:"checkbox-label",children:[y.jsx("input",{type:"checkbox",checked:r.includes(T),onChange:()=>C(T)}),T]},T))}),y.jsx("h3",{children:"Favorite Moods (Max 3)"}),y.jsx("div",{className:"mood-grid",children:pO.map(T=>y.jsxs("label",{className:"checkbox-label",children:[y.jsx("input",{type:"checkbox",checked:o.includes(T),onChange:()=>N(T)}),T]},T))})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Privacy Level"}),y.jsxs("select",{value:e.preferences.privacyLevel,onChange:T=>t({...e,preferences:{...e.preferences,privacyLevel:T.target.value}}),children:[y.jsx("option",{value:"public",children:"Public"}),y.jsx("option",{value:"private",children:"Private"}),y.jsx("option",{value:"friends",children:"Friends Only"})]})]}),y.jsx("div",{className:"form-group",children:y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",checked:e.preferences.emailNotifications,onChange:T=>t({...e,preferences:{...e.preferences,emailNotifications:T.target.checked}})}),"Receive Email Notifications"]})}),y.jsxs("div",{className:"profile-actions",children:[y.jsx("button",{type:"submit",className:"save-btn",children:"Save Changes"}),y.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>p(!1),children:"Cancel"})]})]}):y.jsxs("div",{className:"profile-preview",children:[y.jsx("button",{onClick:()=>p(!0),className:"edit-profile-btn",children:"Edit Profile"}),y.jsx("h3",{children:e.name}),e.location&&y.jsxs("p",{className:"location",children:[" ",e.location]}),e.bio&&y.jsx("p",{className:"bio",children:e.bio})]})]}),y.jsxs("section",{className:"profile-section",children:[y.jsx("h2",{children:"Connected Services"}),y.jsx("div",{className:"spotify-connection",children:u?y.jsxs("div",{className:"spotify-status connected",children:[y.jsx("span",{children:" Spotify Connected"}),y.jsx("button",{onClick:v,className:"disconnect-btn",children:"Disconnect Spotify"})]}):y.jsx(Zf,{})})]})]})}function gO(){var E;const[n,e]=D.useState([]),[t,r]=D.useState(!0),[i,o]=D.useState(""),[a,u]=D.useState("all"),[d,f]=D.useState({currentPage:1,totalPages:1,totalItems:0,hasMore:!1}),p=["All","Music News","Artist Spotlight","Industry Trends","Reviews","Tutorials"];D.useEffect(()=>{async function S(){try{r(!0);const v=await eh();e(v.blogs),f(v.pagination),o("")}catch(v){console.error("Error fetching blogs:",v),o("Failed to load blog posts")}finally{r(!1)}}S()},[]);const m=(n||[]).filter(S=>a.toLowerCase()==="all"||S.category===a),b=m.sort((S,v)=>new Date(v.createdAt)-new Date(S.createdAt)),w=b[0],x=b.slice(1);return y.jsx("div",{className:"min-h-screen bg-[#98e4d3]/10 p-6",children:y.jsxs("div",{className:"max-w-screen-xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h1",{className:"text-4xl font-bold text-emerald-900",children:"Dashboard Dispatch"}),y.jsx(vt,{to:"/blog/create",className:"bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors",children:"Write New Post"})]}),y.jsx("div",{className:"mb-8 flex flex-wrap gap-2",children:p.map(S=>y.jsx("button",{onClick:()=>u(S),className:`px-4 py-2 rounded-lg transition-colors
                ${a===S?"bg-emerald-600 text-white":"bg-white/60 text-emerald-800 hover:bg-emerald-50"}`,children:S},S))}),t?y.jsx("div",{className:"flex justify-center items-center py-12",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):i?y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:i}):y.jsxs(y.Fragment,{children:[w&&y.jsx("div",{className:"bg-white rounded-lg overflow-hidden shadow-lg mb-8",children:y.jsxs("div",{className:"grid md:grid-cols-2",children:[y.jsx("div",{className:"aspect-video overflow-hidden",children:w.imageUrl?y.jsx("img",{src:w.imageUrl,alt:w.title,className:"w-full h-full object-cover",onError:S=>{S.target.src="/placeholder-image.jpg"}}):y.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:y.jsx("span",{className:"text-gray-400",children:"No image available"})})}),y.jsxs("div",{className:"p-6 flex flex-col justify-center",children:[y.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm mb-2 ${Es[w.category]||"bg-gray-100"}`,children:w.category}),y.jsx(vt,{to:`/blog/${w._id}`,className:"block",children:y.jsx("h2",{className:"text-3xl font-bold text-emerald-900 mb-4 hover:text-emerald-700",children:w.title})}),y.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:w.summary}),y.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[y.jsx("span",{children:new Date(w.createdAt).toLocaleDateString()}),y.jsx("span",{className:"mx-2",children:""}),y.jsx("span",{children:((E=w.author)==null?void 0:E.name)||"Anonymous"})]})]})]})}),y.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:x.map(S=>{var v;return y.jsxs(vt,{to:`/blog/${S._id}`,className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow",children:[y.jsx("div",{className:"aspect-video overflow-hidden",children:S.imageUrl?y.jsx("img",{src:S.imageUrl,alt:S.title,className:"w-full h-full object-cover",onError:C=>{C.target.src="/placeholder-image.jpg"}}):y.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:y.jsx("span",{className:"text-gray-400",children:"No image available"})})}),y.jsxs("div",{className:"p-4",children:[y.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs mb-2 ${Es[S.category]||"bg-gray-100"}`,children:S.category}),y.jsx("h3",{className:"font-bold text-lg text-emerald-800 mb-2 line-clamp-2 hover:text-emerald-600",children:S.title}),y.jsx("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2",children:S.summary}),y.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[y.jsx("span",{children:new Date(S.createdAt).toLocaleDateString()}),y.jsx("span",{className:"mx-2",children:""}),y.jsx("span",{children:((v=S.author)==null?void 0:v.name)||"Anonymous"})]})]})]},S._id)})}),m.length===0?y.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[y.jsx("p",{className:"text-gray-600 text-xl",children:"No articles found in this category."}),y.jsx(vt,{to:"/blog/create",className:"mt-4 inline-block bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700",children:"Be the First to Write"})]}):d.hasMore&&y.jsx("div",{className:"text-center mt-8",children:y.jsx("button",{onClick:async()=>{try{r(!0);const S=await eh(d.currentPage+1);e([...n,...S.blogs]),f(S.pagination)}catch(S){console.error("Error loading more posts:",S),o("Failed to load more posts")}finally{r(!1)}},className:"bg-white text-emerald-600 px-6 py-3 rounded-lg shadow hover:shadow-md transition-shadow",disabled:t,children:t?y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-emerald-600"}),y.jsx("span",{children:"Loading..."})]}):"Load More Posts"})})]})]})})}function yO(){const[n,e]=D.useState(null),[t,r]=D.useState(!0),[i,o]=D.useState(""),[a,u]=D.useState(!1),[d,f]=D.useState(!1),[p,m]=D.useState(null),{id:b}=Wx(),w=In(),x=localStorage.getItem("user");console.log(typeof x),D.useEffect(()=>{async function N(){try{const T=await Tv(b);e(T),m(T),o("")}catch(T){console.error("Error fetching blog:",T),o("Failed to load blog post")}finally{r(!1)}}N()},[b]);const E=()=>{f(!0)},S=async()=>{try{await Rv(b,p),f(!1),e(p)}catch(N){console.error("Error updating blog:",N),o("Failed to update blog post")}},v=()=>{f(!1),m(n)},C=async()=>{if(!a){u(!0);return}try{await iO(b),w("/blog")}catch(N){console.error("Error deleting blog:",N),o("Failed to delete blog post")}};return t?y.jsx("div",{className:"min-h-screen bg-white p-6 flex justify-center items-center",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#6c0957]"})}):i?y.jsx("div",{className:"min-h-screen bg-white p-6",children:y.jsxs("div",{className:"max-w-3xl mx-auto",children:[y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:i}),y.jsx(vt,{to:"/blog",className:"text-[#6c0957] hover:underline mt-4 inline-block",children:"Back to Blog List"})]})}):n?y.jsx("div",{className:"min-h-screen bg-white p-6",children:y.jsxs("div",{className:"max-w-3xl mx-auto",children:[y.jsx("div",{className:"bg-white rounded-lg shadow-sm p-8",children:d?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-start mb-6",children:[y.jsxs("div",{children:[y.jsx("input",{type:"text",value:p.title,onChange:N=>m({...p,title:N.target.value}),className:"text-3xl font-bold text-[#6c0957] mb-2 w-full"}),y.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[y.jsxs("select",{value:p.category,onChange:N=>m({...p,category:N.target.value}),className:`
                        inline-block px-3 py-1 rounded-full text-sm
                        ${Es[p.category]||"bg-gray-100 text-[#4a5568]"}
                      `,children:[y.jsx("option",{value:"Music News",children:"Music News"}),y.jsx("option",{value:"Artist Spotlight",children:"Artist Spotlight"}),y.jsx("option",{value:"Industry Trends",children:"Industry Trends"}),y.jsx("option",{value:"Reviews",children:"Reviews"}),y.jsx("option",{value:"Tutorials",children:"Tutorials"})]}),y.jsx("span",{className:"text-[#718096] text-sm",children:new Date(p.createdAt).toLocaleDateString()})]}),p.author&&y.jsxs("p",{className:"text-[#4a5568]",children:["Written by ",p.author.name]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:S,className:"px-4 py-2 bg-[#d4e7aa] text-[#6c0957] rounded-lg hover:bg-[#c3d69b] transition-colors",children:"Save"}),y.jsx("button",{onClick:v,className:"px-4 py-2 bg-gray-200 text-[#4a5568] rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}),y.jsx("textarea",{value:p.content,onChange:N=>m({...p,content:N.target.value}),className:"w-full min-h-[400px] resize-none text-[#4a5568] focus:outline-none"})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-start mb-6",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[y.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm ${Es[n.category]||"bg-gray-100"}`,children:n.category}),y.jsx("span",{className:"text-[#718096] text-sm",children:new Date(n.createdAt).toLocaleDateString()})]}),y.jsx("h1",{className:"text-3xl font-bold text-[#6c0957] mb-2",children:n.title}),n.author&&y.jsxs("p",{className:"text-[#4a5568]",children:["Written by ",n.author.name]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:E,className:"px-4 py-2 bg-[#d4e7aa] text-[#6c0957] rounded-lg hover:bg-[#c3d69b] transition-colors",children:"Edit"}),y.jsx("button",{onClick:C,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:a?"Confirm Delete":"Delete"})]})]}),n.summary&&y.jsx("div",{className:"mb-8 text-lg text-[#4a5568] italic",children:n.summary}),y.jsx("div",{className:"prose max-w-none",children:y.jsx("div",{dangerouslySetInnerHTML:{__html:n.content}})}),n.tags&&n.tags.length>0&&y.jsxs("div",{className:"mt-8 pt-6 border-t",children:[y.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Tags"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map(N=>y.jsx("span",{className:`
                          px-3 py-1 rounded-full text-sm
                          ${Es[N]||"bg-gray-100 text-[#4a5568]"}
                        `,children:N},N))})]}),n.viewCount>0&&y.jsxs("div",{className:"mt-4 text-[#718096] text-sm",children:[" ",n.viewCount," views"]})]})}),y.jsx("div",{className:"mt-6",children:y.jsx(vt,{to:"/blog",className:"text-[#6c0957] hover:underline",children:" Back to Blog List"})})]})}):y.jsx("div",{className:"min-h-screen bg-white p-6",children:y.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Blog Post Not Found"}),y.jsx(vt,{to:"/blog",className:"text-[#6c0957] hover:underline",children:"Back to Blog List"})]})})}function Ot(n){this.content=n}Ot.prototype={constructor:Ot,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),o=r.content.slice();return i==-1?o.push(t||n,e):(o[i+1]=e,t&&(o[i]=t)),new Ot(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Ot(t)},addToStart:function(n,e){return new Ot([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Ot(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),o=r.find(n);return i.splice(o==-1?i.length:o,0,e,t),new Ot(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Ot.from(n),n.size?new Ot(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Ot.from(n),n.size?new Ot(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Ot.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Ot.from=function(n){if(n instanceof Ot)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Ot(e)};function Pv(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),o=e.child(r);if(i==o){t+=i.nodeSize;continue}if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)t++;return t}if(i.content.size||o.content.size){let a=Pv(i.content,o.content,t+1);if(a!=null)return a}t+=i.nodeSize}}function Dv(n,e,t,r){for(let i=n.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:t,b:r};let a=n.child(--i),u=e.child(--o),d=a.nodeSize;if(a==u){t-=d,r-=d;continue}if(!a.sameMarkup(u))return{a:t,b:r};if(a.isText&&a.text!=u.text){let f=0,p=Math.min(a.text.length,u.text.length);for(;f<p&&a.text[a.text.length-f-1]==u.text[u.text.length-f-1];)f++,t--,r--;return{a:t,b:r}}if(a.content.size||u.content.size){let f=Dv(a.content,u.content,t-1,r-1);if(f)return f}t-=d,r-=d}}class Q{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,o){for(let a=0,u=0;u<t;a++){let d=this.content[a],f=u+d.nodeSize;if(f>e&&r(d,i+u,o||null,a)!==!1&&d.content.size){let p=u+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,t-p),r,i+p)}u=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let o="",a=!0;return this.nodesBetween(e,t,(u,d)=>{let f=u.isText?u.text.slice(Math.max(e,d)-d,t-d):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&f||u.isTextblock)&&r&&(a?a=!1:o+=r),o+=f},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new Q(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let o=0,a=0;a<t;o++){let u=this.content[o],d=a+u.nodeSize;d>e&&((a<e||d>t)&&(u.isText?u=u.cut(Math.max(0,e-a),Math.min(u.text.length,t-a)):u=u.cut(Math.max(0,e-a-1),Math.min(u.content.size,t-a-1))),r.push(u),i+=u.nodeSize),a=d}return new Q(r,i)}cutByIndex(e,t){return e==t?Q.empty:e==0&&t==this.content.length?this:new Q(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new Q(i,o)}addToStart(e){return new Q([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Q(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return Pv(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return Dv(this,e,t,r)}findIndex(e,t=-1){if(e==0)return Ba(0,e);if(e==this.size)return Ba(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),a=i+o.nodeSize;if(a>=e)return a==e||t>0?Ba(r+1,a):Ba(r,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return Q.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Q(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Q.empty;let t,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new Q(t||e,r)}static from(e){if(!e)return Q.empty;if(e instanceof Q)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Q([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Q.empty=new Q([],0);const wf={index:0,offset:0};function Ba(n,e){return wf.index=n,wf.offset=e,wf}function ou(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!ou(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!ou(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Ge=class th{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ou(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return th.none;if(e instanceof th)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};Ge.none=[];class lu extends Error{}class le{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=Av(this.content,e+this.openStart,t);return r&&new le(r,this.openStart,this.openEnd)}removeBetween(e,t){return new le(jv(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return le.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new le(Q.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new le(e,r,i)}}le.empty=new le(Q.empty,0,0);function jv(n,e,t){let{index:r,offset:i}=n.findIndex(e),o=n.maybeChild(r),{index:a,offset:u}=n.findIndex(t);if(i==e||o.isText){if(u!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(jv(o.content,e-i-1,t-i-1)))}function Av(n,e,t,r){let{index:i,offset:o}=n.findIndex(e),a=n.maybeChild(i);if(o==e||a.isText)return n.cut(0,e).append(t).append(n.cut(e));let u=Av(a.content,e-o-1,t);return u&&n.replaceChild(i,a.copy(u))}function xO(n,e,t){if(t.openStart>n.depth)throw new lu("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new lu("Inconsistent open depths");return Lv(n,e,t,0)}function Lv(n,e,t,r){let i=n.index(r),o=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let a=Lv(n,e,t,r+1);return o.copy(o.content.replaceChild(i,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let a=n.parent,u=a.content;return Ai(a,u.cut(0,n.parentOffset).append(t.content).append(u.cut(e.parentOffset)))}else{let{start:a,end:u}=vO(t,n);return Ai(o,zv(n,a,u,e,r))}else return Ai(o,au(n,e,r))}function Iv(n,e){if(!e.type.compatibleContent(n.type))throw new lu("Cannot join "+e.type.name+" onto "+n.type.name)}function nh(n,e,t){let r=n.node(t);return Iv(r,e.node(t)),r}function ji(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function el(n,e,t,r){let i=(e||n).node(t),o=0,a=e?e.index(t):i.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(ji(n.nodeAfter,r),o++));for(let u=o;u<a;u++)ji(i.child(u),r);e&&e.depth==t&&e.textOffset&&ji(e.nodeBefore,r)}function Ai(n,e){return n.type.checkContent(e),n.copy(e)}function zv(n,e,t,r,i){let o=n.depth>i&&nh(n,e,i+1),a=r.depth>i&&nh(t,r,i+1),u=[];return el(null,n,i,u),o&&a&&e.index(i)==t.index(i)?(Iv(o,a),ji(Ai(o,zv(n,e,t,r,i+1)),u)):(o&&ji(Ai(o,au(n,e,i+1)),u),el(e,t,i,u),a&&ji(Ai(a,au(t,r,i+1)),u)),el(r,null,i,u),new Q(u)}function au(n,e,t){let r=[];if(el(null,n,t,r),n.depth>t){let i=nh(n,e,t+1);ji(Ai(i,au(n,e,t+1)),r)}return el(e,null,t,r),new Q(r)}function vO(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)i=e.node(o).copy(Q.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class cl{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Ge.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let u=r;r=i,i=u}let o=r.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new uu(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,o=t;for(let a=e;;){let{index:u,offset:d}=a.content.findIndex(o),f=o-d;if(r.push(a,u,i+d),!f||(a=a.child(u),a.isText))break;o=f-1,i+=d+1}return new cl(t,r,o)}static resolveCached(e,t){let r=f0.get(e);if(r)for(let o=0;o<r.elts.length;o++){let a=r.elts[o];if(a.pos==t)return a}else f0.set(e,r=new wO);let i=r.elts[r.i]=cl.resolve(e,t);return r.i=(r.i+1)%SO,i}}class wO{constructor(){this.elts=[],this.i=0}}const SO=12,f0=new WeakMap;class uu{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const bO=Object.create(null);let Qr=class rh{constructor(e,t,r,i=Ge.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||Q.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&ou(this.attrs,t||e.defaultAttrs||bO)&&Ge.sameSet(this.marks,r||Ge.none)}copy(e=null){return e==this.content?this:new rh(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new rh(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return le.empty;let i=this.resolve(e),o=this.resolve(t),a=r?0:i.sharedDepth(t),u=i.start(a),f=i.node(a).content.cut(i.pos-u,o.pos-u);return new le(f,i.depth-a,o.depth-a)}replace(e,t,r){return xO(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return cl.resolveCached(this,e)}resolveNoCache(e){return cl.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),_v(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=Q.empty,i=0,o=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,o),u=a&&a.matchFragment(this.content,t);if(!u||!u.validEnd)return!1;for(let d=i;d<o;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),a=o&&o.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ge.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ge.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=Q.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};Qr.prototype.text=void 0;class cu extends Qr{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):_v(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new cu(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new cu(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function _v(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Bi{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new kO(e,t);if(r.next==null)return Bi.empty;let i=Bv(r);r.next&&r.err("Unexpected trailing text");let o=RO(TO(i));return PO(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let o=t;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function o(a,u){let d=a.matchFragment(e,r);if(d&&(!t||d.validEnd))return Q.from(u.map(f=>f.createAndFill()));for(let f=0;f<a.next.length;f++){let{type:p,next:m}=a.next[f];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let b=o(m,u.concat(p));if(b)return b}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let a=[];for(let u=i;u.type;u=u.via)a.push(u.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:u,next:d}=o.next[a];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in t)&&(!i.type||d.validEnd)&&(r.push({match:u.contentMatch,type:u,via:i}),t[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)o+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return o}).join(`
`)}}Bi.empty=new Bi(!0);class kO{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Bv(n){let e=[];do e.push(CO(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function CO(n){let e=[];do e.push(EO(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function EO(n){let e=MO(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=NO(n,e);else break;return e}function h0(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function NO(n,e){let t=h0(n),r=t;return n.eat(",")&&(n.next!="}"?r=h0(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function OO(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let o in t){let a=t[o];a.isInGroup(e)&&i.push(a)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function MO(n){if(n.eat("(")){let e=Bv(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=OO(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function TO(n){let e=[[]];return i(o(n,0),t()),e;function t(){return e.push([])-1}function r(a,u,d){let f={term:d,to:u};return e[a].push(f),f}function i(a,u){a.forEach(d=>d.to=u)}function o(a,u){if(a.type=="choice")return a.exprs.reduce((d,f)=>d.concat(o(f,u)),[]);if(a.type=="seq")for(let d=0;;d++){let f=o(a.exprs[d],u);if(d==a.exprs.length-1)return f;i(f,u=t())}else if(a.type=="star"){let d=t();return r(u,d),i(o(a.expr,d),d),[r(d)]}else if(a.type=="plus"){let d=t();return i(o(a.expr,u),d),i(o(a.expr,d),d),[r(d)]}else{if(a.type=="opt")return[r(u)].concat(o(a.expr,u));if(a.type=="range"){let d=u;for(let f=0;f<a.min;f++){let p=t();i(o(a.expr,d),p),d=p}if(a.max==-1)i(o(a.expr,d),d);else for(let f=a.min;f<a.max;f++){let p=t();r(d,p),i(o(a.expr,d),p),d=p}return[r(d)]}else{if(a.type=="name")return[r(u,void 0,a.value)];throw new Error("Unknown expr type")}}}}function Fv(n,e){return e-n}function p0(n,e){let t=[];return r(e),t.sort(Fv);function r(i){let o=n[i];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(i);for(let a=0;a<o.length;a++){let{term:u,to:d}=o[a];!u&&t.indexOf(d)==-1&&r(d)}}}function RO(n){let e=Object.create(null);return t(p0(n,0));function t(r){let i=[];r.forEach(a=>{n[a].forEach(({term:u,to:d})=>{if(!u)return;let f;for(let p=0;p<i.length;p++)i[p][0]==u&&(f=i[p][1]);p0(n,d).forEach(p=>{f||i.push([u,f=[]]),f.indexOf(p)==-1&&f.push(p)})})});let o=e[r.join(",")]=new Bi(r.indexOf(n.length-1)>-1);for(let a=0;a<i.length;a++){let u=i[a][1].sort(Fv);o.next.push({type:i[a][0],next:e[u.join(",")]||t(u)})}return o}}function PO(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],o=!i.validEnd,a=[];for(let u=0;u<i.next.length;u++){let{type:d,next:f}=i.next[u];a.push(d.name),o&&!(d.isText||d.hasRequiredAttrs())&&(o=!1),r.indexOf(f)==-1&&r.push(f)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function $v(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function Hv(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let o=n[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function Wv(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let o=n[i];o.validate&&o.validate(e[i])}}function Vv(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new jO(n,r,e[r]);return t}let m0=class Uv{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Vv(e,r.attrs),this.defaultAttrs=$v(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Bi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Hv(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Qr(this,this.computeAttrs(e),Q.from(t),Ge.setFrom(r))}createChecked(e=null,t,r){return t=Q.from(t),this.checkContent(t),new Qr(this,this.computeAttrs(e),t,Ge.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=Q.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let i=this.contentMatch.matchFragment(t),o=i&&i.fillBefore(Q.empty,!0);return o?new Qr(this,e,t.append(o),Ge.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Wv(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Ge.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,a)=>r[o]=new Uv(o,t,a));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function DO(n,e,t){let r=t.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${o}`)}}class jO{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?DO(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class nc{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=Vv(e,i.attrs),this.excluded=null;let o=$v(this.attrs);this.instance=o?new Ge(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Ge(this,Hv(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((o,a)=>r[o]=new nc(o,i++,t,a)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Wv(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class qv{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=Ot.from(e.nodes),t.marks=Ot.from(e.marks||{}),this.nodes=m0.compile(this.spec.nodes,this),this.marks=nc.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],a=o.spec.content||"",u=o.spec.marks;if(o.contentMatch=r[a]||(r[a]=Bi.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=u=="_"?null:u?g0(this,u.split(" ")):u==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:g0(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof m0){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new cu(r,r.defaultAttrs,e,Ge.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Qr.fromJSON(this,e)}markFromJSON(e){return Ge.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function g0(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],o=n.marks[i],a=o;if(o)t.push(o);else for(let u in n.marks){let d=n.marks[u];(i=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(i)>-1)&&t.push(a=d)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function AO(n){return n.tag!=null}function LO(n){return n.style!=null}class Zr{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(AO(i))this.tags.push(i);else if(LO(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new x0(this,t,!1);return r.addAll(e,Ge.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new x0(this,t,!0);return r.addAll(e,Ge.none,t.from,t.to),le.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(_O(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(e);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(e,t,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],u=a.style;if(!(u.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=t))){if(a.getAttrs){let d=a.getAttrs(t);if(d===!1)continue;a.attrs=d||void 0}return a}}}static schemaRules(e){let t=[];function r(i){let o=i.priority==null?50:i.priority,a=0;for(;a<t.length;a++){let u=t[a];if((u.priority==null?50:u.priority)<o)break}t.splice(a,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(a=>{r(a=v0(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(a=>{r(a=v0(a)),a.node||a.ignore||a.mark||(a.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Zr(e,Zr.schemaRules(e)))}}const Gv={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},IO={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Kv={ol:!0,ul:!0},dl=1,ih=2,Xa=4;function y0(n,e,t){return e!=null?(e?dl:0)|(e==="full"?ih:0):n&&n.whitespace=="pre"?dl|ih:t&-5}class Fa{constructor(e,t,r,i,o,a){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=Ge.none,this.match=o||(a&Xa?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Q.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&dl)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let t=Q.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Q.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Gv.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class x0{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,o,a=y0(null,t.preserveWhitespace,0)|(r?Xa:0);i?o=new Fa(i.type,i.attrs,Ge.none,!0,t.topMatch||i.type.contentMatch,a):r?o=new Fa(null,null,Ge.none,!0,null,a):o=new Fa(e.schema.topNodeType,null,Ge.none,!0,null,a),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,o=i.options&ih?"full":this.localPreserveWS||(i.options&dl)>0;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],u=e.previousSibling;(!a||u&&u.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),u;Kv.hasOwnProperty(a)&&this.parser.normalizeLists&&zO(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(d?d.ignore:IO.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let f,p=this.needsBlock;if(Gv.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),f=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let m=d&&d.skip?t:this.readStyles(e,t);m&&this.addAll(e,m),f&&this.sync(o),this.needsBlock=p}else{let f=this.readStyles(e,t);f&&this.addElementByRule(e,d,f,d.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],a=r.getPropertyValue(o);if(a)for(let u=void 0;;){let d=this.parser.matchStyle(o,a,this,u);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(f=>!d.clearMark(f)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)u=d;else break}}return t}addElementByRule(e,t,r,i){let o,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),r)||this.leafFallback(e,r);else{let d=this.enter(a,t.attrs||null,r,t.preserveWhitespace);d&&(o=!0,r=d)}else{let d=this.parser.schema.marks[t.mark];r=r.concat(d.create(t.attrs))}let u=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}o&&this.sync(u)&&this.open--}addAll(e,t,r,i){let o=r||0;for(let a=r?e.childNodes[r]:e.firstChild,u=i==null?null:e.childNodes[i];a!=u;a=a.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(a,t);this.findAtPoint(e,o)}findPlace(e,t){let r,i;for(let o=this.open;o>=0;o--){let a=this.nodes[o],u=a.findWrapping(e);if(u&&(!r||r.length>u.length)&&(r=u,i=a,!u.length)||a.solid)break}if(!r)return null;this.sync(i);for(let o=0;o<r.length;o++)t=this.enterInner(r[o],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(t=this.enterInner(i,null,t))}let r=this.findPlace(e,t);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=Ge.none;for(let a of r.concat(e.marks))(i.type?i.type.allowsMarkType(a.type):w0(a.type,e.type))&&(o=a.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,t,r,i){let o=this.findPlace(e.create(t),r);return o&&(o=this.enterInner(e,t,r,!0,i)),o}enterInner(e,t,r,i=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let u=y0(e,o,a.options);a.options&Xa&&a.content.length==0&&(u|=Xa);let d=Ge.none;return r=r.filter(f=>(a.type?a.type.allowsMarkType(f.type):w0(f.type,e))?(d=f.addToSet(d),!1):!0),this.nodes.push(new Fa(e,t,d,i,null,u)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=dl)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),a=(u,d)=>{for(;u>=0;u--){let f=t[u];if(f==""){if(u==t.length-1||u==0)continue;for(;d>=o;d--)if(a(u-1,d))return!0;return!1}else{let p=d>0||d==0&&i?this.nodes[d].type:r&&d>=o?r.node(d-o).type:null;if(!p||p.name!=f&&!p.isInGroup(f))return!1;d--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function zO(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Kv.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function _O(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function v0(n){let e={};for(let t in n)e[t]=n[t];return e}function w0(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let o=[],a=u=>{o.push(u);for(let d=0;d<u.edgeCount;d++){let{type:f,next:p}=u.edge(d);if(f==e||o.indexOf(p)<0&&a(p))return!0}};if(a(i.contentMatch))return!0}}class Wi{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Sf(t).createDocumentFragment());let i=r,o=[];return e.forEach(a=>{if(o.length||a.marks.length){let u=0,d=0;for(;u<o.length&&d<a.marks.length;){let f=a.marks[d];if(!this.marks[f.type.name]){d++;continue}if(!f.eq(o[u][0])||f.type.spec.spanning===!1)break;u++,d++}for(;u<o.length;)i=o.pop()[1];for(;d<a.marks.length;){let f=a.marks[d++],p=this.serializeMark(f,a.isInline,t);p&&(o.push([f,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(a,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=Qa(Sf(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&Qa(Sf(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return Qa(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Wi(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=S0(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return S0(e.marks)}}function S0(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Sf(n){return n.document||window.document}const b0=new WeakMap;function BO(n){let e=b0.get(n);return e===void 0&&b0.set(n,e=FO(n)),e}function FO(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function Qa(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=BO(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(t=i.slice(0,a),i=i.slice(a+1));let u,d=t?n.createElementNS(t,i):n.createElement(i),f=e[1],p=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){p=2;for(let m in f)if(f[m]!=null){let b=m.indexOf(" ");b>0?d.setAttributeNS(m.slice(0,b),m.slice(b+1),f[m]):d.setAttribute(m,f[m])}}for(let m=p;m<e.length;m++){let b=e[m];if(b===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:w,contentDOM:x}=Qa(n,b,t,r);if(d.appendChild(w),x){if(u)throw new RangeError("Multiple content holes");u=x}}}return{dom:d,contentDOM:u}}const Jv=65535,Yv=Math.pow(2,16);function $O(n,e){return n+e*Yv}function k0(n){return n&Jv}function HO(n){return(n-(n&Jv))/Yv}const Xv=1,Qv=2,Za=4,Zv=8;class sh{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&Zv)>0}get deletedBefore(){return(this.delInfo&(Xv|Za))>0}get deletedAfter(){return(this.delInfo&(Qv|Za))>0}get deletedAcross(){return(this.delInfo&Za)>0}}class un{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&un.empty)return un.empty}recover(e){let t=0,r=k0(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+HO(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?i:0);if(d>e)break;let f=this.ranges[u+o],p=this.ranges[u+a],m=d+f;if(e<=m){let b=f?e==d?-1:e==m?1:t:t,w=d+i+(b<0?0:p);if(r)return w;let x=e==(t<0?d:m)?null:$O(u/3,e-d),E=e==d?Qv:e==m?Xv:Za;return(t<0?e!=d:e!=m)&&(E|=Zv),new sh(w,E,x)}i+=p-f}return r?e+i:new sh(e+i,0,null)}touches(e,t){let r=0,i=k0(t),o=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?r:0);if(d>e)break;let f=this.ranges[u+o],p=d+f;if(e<=p&&u==i*3)return!0;r+=this.ranges[u+a]-f}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],u=a-(this.inverted?o:0),d=a+(this.inverted?0:o),f=this.ranges[i+t],p=this.ranges[i+r];e(u,u+f,d,d+p),o+=p-f}}invert(){return new un(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?un.empty:new un(e<0?[0,-e,0]:[0,0,e])}}un.empty=new un([]);class Ns{constructor(e=[],t,r=0,i=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=i}slice(e=0,t=this.maps.length){return new Ns(this.maps,this.mirror,e,t)}copy(){return new Ns(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new Ns;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let o=this.from;o<this.to;o++){let a=this.maps[o],u=a.mapResult(e,t);if(u.recover!=null){let d=this.getMirror(o);if(d!=null&&d>o&&d<this.to){o=d,e=this.maps[d].recover(u.recover);continue}}i|=u.delInfo,e=u.pos}return r?e:new sh(e,i,null)}}const bf=Object.create(null);class _t{getMap(){return un.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=bf[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in bf)throw new RangeError("Duplicate use of step JSON ID "+e);return bf[e]=t,t.prototype.jsonID=e,t}}class ft{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new ft(e,null)}static fail(e){return new ft(null,e)}static fromReplace(e,t,r,i){try{return ft.ok(e.replace(t,r,i))}catch(o){if(o instanceof lu)return ft.fail(o.message);throw o}}}function Gh(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(Gh(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return Q.fromArray(r)}class Kr extends _t{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new le(Gh(t.content,(a,u)=>!a.isAtom||!u.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),t.openStart,t.openEnd);return ft.fromReplace(e,this.from,this.to,o)}invert(){return new qn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Kr(t.pos,r.pos,this.mark)}merge(e){return e instanceof Kr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Kr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Kr(t.from,t.to,e.markFromJSON(t.mark))}}_t.jsonID("addMark",Kr);class qn extends _t{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new le(Gh(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return ft.fromReplace(e,this.from,this.to,r)}invert(){return new Kr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new qn(t.pos,r.pos,this.mark)}merge(e){return e instanceof qn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new qn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new qn(t.from,t.to,e.markFromJSON(t.mark))}}_t.jsonID("removeMark",qn);class Jr extends _t{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ft.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return ft.fromReplace(e,this.pos,this.pos+1,new le(Q.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Jr(this.pos,t.marks[i]);return new Jr(this.pos,this.mark)}}return new Ps(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Jr(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Jr(t.pos,e.markFromJSON(t.mark))}}_t.jsonID("addNodeMark",Jr);class Ps extends _t{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ft.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return ft.fromReplace(e,this.pos,this.pos+1,new le(Q.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Jr(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ps(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ps(t.pos,e.markFromJSON(t.mark))}}_t.jsonID("removeNodeMark",Ps);class xt extends _t{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&oh(e,this.from,this.to)?ft.fail("Structure replace would overwrite content"):ft.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new un([this.from,this.to-this.from,this.slice.size])}invert(e){return new xt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new xt(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof xt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?le.empty:new le(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new xt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?le.empty:new le(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new xt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new xt(t.from,t.to,le.fromJSON(e,t.slice),!!t.structure)}}_t.jsonID("replace",xt);class wt extends _t{constructor(e,t,r,i,o,a,u=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=a,this.structure=u}apply(e){if(this.structure&&(oh(e,this.from,this.gapFrom)||oh(e,this.gapTo,this.to)))return ft.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return ft.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?ft.fromReplace(e,this.from,this.to,r):ft.fail("Content does not fit in gap")}getMap(){return new un([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new wt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new wt(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new wt(t.from,t.to,t.gapFrom,t.gapTo,le.fromJSON(e,t.slice),t.insert,!!t.structure)}}_t.jsonID("replaceAround",wt);function oh(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let a=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function WO(n,e,t,r){let i=[],o=[],a,u;n.doc.nodesBetween(e,t,(d,f,p)=>{if(!d.isInline)return;let m=d.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let b=Math.max(f,e),w=Math.min(f+d.nodeSize,t),x=r.addToSet(m);for(let E=0;E<m.length;E++)m[E].isInSet(x)||(a&&a.to==b&&a.mark.eq(m[E])?a.to=w:i.push(a=new qn(b,w,m[E])));u&&u.to==b?u.to=w:o.push(u=new Kr(b,w,r))}}),i.forEach(d=>n.step(d)),o.forEach(d=>n.step(d))}function VO(n,e,t,r){let i=[],o=0;n.doc.nodesBetween(e,t,(a,u)=>{if(!a.isInline)return;o++;let d=null;if(r instanceof nc){let f=a.marks,p;for(;p=r.isInSet(f);)(d||(d=[])).push(p),f=p.removeFromSet(f)}else r?r.isInSet(a.marks)&&(d=[r]):d=a.marks;if(d&&d.length){let f=Math.min(u+a.nodeSize,t);for(let p=0;p<d.length;p++){let m=d[p],b;for(let w=0;w<i.length;w++){let x=i[w];x.step==o-1&&m.eq(i[w].style)&&(b=x)}b?(b.to=f,b.step=o):i.push({style:m,from:Math.max(u,e),to:f,step:o})}}}),i.forEach(a=>n.step(new qn(a.from,a.to,a.style)))}function Kh(n,e,t,r=t.contentMatch,i=!0){let o=n.doc.nodeAt(e),a=[],u=e+1;for(let d=0;d<o.childCount;d++){let f=o.child(d),p=u+f.nodeSize,m=r.matchType(f.type);if(!m)a.push(new xt(u,p,le.empty));else{r=m;for(let b=0;b<f.marks.length;b++)t.allowsMarkType(f.marks[b].type)||n.step(new qn(u,p,f.marks[b]));if(i&&f.isText&&t.whitespace!="pre"){let b,w=/\r?\n|\r/g,x;for(;b=w.exec(f.text);)x||(x=new le(Q.from(t.schema.text(" ",t.allowedMarks(f.marks))),0,0)),a.push(new xt(u+b.index,u+b.index+b[0].length,x))}}u=p}if(!r.validEnd){let d=r.fillBefore(Q.empty,!0);n.replace(u,u,new le(d,0,0))}for(let d=a.length-1;d>=0;d--)n.step(a[d])}function UO(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Vs(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),o=n.$from.index(r),a=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(o,a,t))return r;if(r==0||i.type.spec.isolating||!UO(i,o,a))break}return null}function qO(n,e,t){let{$from:r,$to:i,depth:o}=e,a=r.before(o+1),u=i.after(o+1),d=a,f=u,p=Q.empty,m=0;for(let x=o,E=!1;x>t;x--)E||r.index(x)>0?(E=!0,p=Q.from(r.node(x).copy(p)),m++):d--;let b=Q.empty,w=0;for(let x=o,E=!1;x>t;x--)E||i.after(x+1)<i.end(x)?(E=!0,b=Q.from(i.node(x).copy(b)),w++):f++;n.step(new wt(d,f,a,u,new le(p.append(b),m,w),p.size-m,!0))}function Jh(n,e,t=null,r=n){let i=GO(n,e),o=i&&KO(r,e);return o?i.map(C0).concat({type:e,attrs:t}).concat(o.map(C0)):null}function C0(n){return{type:n,attrs:null}}function GO(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return t.canReplaceWith(r,i,a)?o:null}function KO(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let d=(a.length?a[a.length-1]:e).contentMatch;for(let f=r;d&&f<i;f++)d=d.matchType(t.child(f).type);return!d||!d.validEnd?null:a}function JO(n,e,t){let r=Q.empty;for(let a=t.length-1;a>=0;a--){if(r.size){let u=t[a].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Q.from(t[a].type.create(t[a].attrs,r))}let i=e.start,o=e.end;n.step(new wt(i,o,i,o,new le(r,0,0),t.length,!0))}function YO(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(a,u)=>{let d=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,d)&&XO(n.doc,n.mapping.slice(o).map(u),r)){let f=null;if(r.schema.linebreakReplacement){let w=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);w&&!x?f=!1:!w&&x&&(f=!0)}f===!1&&t1(n,a,u,o),Kh(n,n.mapping.slice(o).map(u,1),r,void 0,f===null);let p=n.mapping.slice(o),m=p.map(u,1),b=p.map(u+a.nodeSize,1);return n.step(new wt(m,b,m+1,b-1,new le(Q.from(r.create(d,null,a.marks)),0,0),1,!0)),f===!0&&e1(n,a,u,o),!1}})}function e1(n,e,t,r){e.forEach((i,o)=>{if(i.isText){let a,u=/\r?\n|\r/g;for(;a=u.exec(i.text);){let d=n.mapping.slice(r).map(t+1+o+a.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function t1(n,e,t,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let a=n.mapping.slice(r).map(t+1+o);n.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function XO(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function QO(n,e,t,r,i){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let a=t.create(r,null,i||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,a);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new wt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new le(Q.from(a),0,0),1,!0))}function Os(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,p=t-2;f>o;f--,p--){let m=i.node(f),b=i.index(f);if(m.type.spec.isolating)return!1;let w=m.content.cutByIndex(b,m.childCount),x=r&&r[p+1];x&&(w=w.replaceChild(0,x.type.create(x.attrs)));let E=r&&r[p]||m;if(!m.canReplace(b+1,m.childCount)||!E.type.validContent(w))return!1}let u=i.indexAfter(o),d=r&&r[0];return i.node(o).canReplaceWith(u,u,d?d.type:i.node(o+1).type)}function ZO(n,e,t=1,r){let i=n.doc.resolve(e),o=Q.empty,a=Q.empty;for(let u=i.depth,d=i.depth-t,f=t-1;u>d;u--,f--){o=Q.from(i.node(u).copy(o));let p=r&&r[f];a=Q.from(p?p.type.create(p.attrs,a):i.node(u).copy(a))}n.step(new xt(e,e,new le(o.append(a),t,t),!0))}function li(n,e){let t=n.resolve(e),r=t.index();return n1(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function eM(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),a=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(a),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function n1(n,e){return!!(n&&e&&!n.isLeaf&&eM(n,e))}function rc(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let o,a,u=r.index(i);if(i==r.depth?(o=r.nodeBefore,a=r.nodeAfter):t>0?(o=r.node(i+1),u++,a=r.node(i).maybeChild(u)):(o=r.node(i).maybeChild(u-1),a=r.node(i+1)),o&&!o.isTextblock&&n1(o,a)&&r.node(i).canReplace(u,u+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function tM(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,o=n.doc.resolve(e-t),a=o.node().type;if(i&&a.inlineContent){let p=a.whitespace=="pre",m=!!a.contentMatch.matchType(i);p&&!m?r=!1:!p&&m&&(r=!0)}let u=n.steps.length;if(r===!1){let p=n.doc.resolve(e+t);t1(n,p.node(),p.before(),u)}a.inlineContent&&Kh(n,e+t-1,a,o.node().contentMatchAt(o.index()),r==null);let d=n.mapping.slice(u),f=d.map(e-t);if(n.step(new xt(f,d.map(e+t,-1),le.empty,!0)),r===!0){let p=n.doc.resolve(f);e1(n,p.node(),p.before(),n.steps.length)}return n}function nM(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,t))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,t))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function r1(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let o=0;o<t.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let a=r.depth;a>=0;a--){let u=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,d=r.index(a)+(u>0?1:0),f=r.node(a),p=!1;if(o==1)p=f.canReplace(d,d,i);else{let m=f.contentMatchAt(d).findWrapping(i.firstChild.type);p=m&&f.canReplaceWith(d,d,m[0])}if(p)return u==0?r.pos:u<0?r.before(a+1):r.after(a+1)}return null}function ic(n,e,t=e,r=le.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return i1(i,o,r)?new xt(e,t,r):new rM(i,o,r).fit()}function i1(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class rM{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=Q.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Q.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,a=r.depth,u=i.depth;for(;a&&u&&o.childCount==1;)o=o.firstChild.content,a--,u--;let d=new le(o,a,u);return e>-1?new wt(r.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||r.pos!=this.$to.pos?new xt(r.pos,i.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=kf(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let a=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:f}=this.frontier[u],p,m=null;if(t==1&&(a?f.matchType(a.type)||(m=f.fillBefore(Q.from(a),!1)):o&&d.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:u,parent:o,inject:m};if(t==2&&a&&(p=f.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:u,parent:o,wrap:p};if(o&&f.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=kf(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new le(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=kf(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new le(Yo(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new le(Yo(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let E=0;E<o.length;E++)this.openFrontierNode(o[E]);let a=this.unplaced,u=r?r.content:a.content,d=a.openStart-e,f=0,p=[],{match:m,type:b}=this.frontier[t];if(i){for(let E=0;E<i.childCount;E++)p.push(i.child(E));m=m.matchFragment(i)}let w=u.size+e-(a.content.size-a.openEnd);for(;f<u.childCount;){let E=u.child(f),S=m.matchType(E.type);if(!S)break;f++,(f>1||d==0||E.content.size)&&(m=S,p.push(s1(E.mark(b.allowedMarks(E.marks)),f==1?d:0,f==u.childCount?w:-1)))}let x=f==u.childCount;x||(w=-1),this.placed=Xo(this.placed,t,Q.from(p)),this.frontier[t].match=m,x&&w<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,S=u;E<w;E++){let v=S.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),S=v.content}this.unplaced=x?e==0?le.empty:new le(Yo(a.content,e-1,1),e-1,w<0?a.openEnd:e-1):new le(Yo(a.content,e,f),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Cf(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=Cf(e,t,i,r,o);if(a){for(let u=t-1;u>=0;u--){let{match:d,type:f}=this.frontier[u],p=Cf(e,u,f,d,!0);if(!p||p.childCount)continue e}return{depth:t,fit:a,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Xo(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Xo(this.placed,this.depth,Q.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(Q.empty,!0);t.childCount&&(this.placed=Xo(this.placed,this.frontier.length,t))}}function Yo(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Yo(n.firstChild.content,e-1,t)))}function Xo(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Xo(n.lastChild.content,e-1,t)))}function kf(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function s1(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,s1(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(Q.empty,!0)))),n.copy(r)}function Cf(n,e,t,r,i){let o=n.node(e),a=i?n.indexAfter(e):n.index(e);if(a==o.childCount&&!t.compatibleContent(o.type))return null;let u=r.fillBefore(o.content,!0,a);return u&&!iM(t,o.content,a)?u:null}function iM(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function sM(n){return n.spec.defining||n.spec.definingForContent}function oM(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),o=n.doc.resolve(t);if(i1(i,o,r))return n.step(new xt(e,t,r));let a=l1(i,n.doc.resolve(t));a[a.length-1]==0&&a.pop();let u=-(i.depth+1);a.unshift(u);for(let b=i.depth,w=i.pos-1;b>0;b--,w--){let x=i.node(b).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;a.indexOf(b)>-1?u=b:i.before(b)==w&&a.splice(1,0,-b)}let d=a.indexOf(u),f=[],p=r.openStart;for(let b=r.content,w=0;;w++){let x=b.firstChild;if(f.push(x),w==r.openStart)break;b=x.content}for(let b=p-1;b>=0;b--){let w=f[b],x=sM(w.type);if(x&&!w.sameMarkup(i.node(Math.abs(u)-1)))p=b;else if(x||!w.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let w=(b+p+1)%(r.openStart+1),x=f[w];if(x)for(let E=0;E<a.length;E++){let S=a[(E+d)%a.length],v=!0;S<0&&(v=!1,S=-S);let C=i.node(S-1),N=i.index(S-1);if(C.canReplaceWith(N,N,x.type,x.marks))return n.replace(i.before(S),v?o.after(S):t,new le(o1(r.content,0,r.openStart,w),w,r.openEnd))}}let m=n.steps.length;for(let b=a.length-1;b>=0&&(n.replace(e,t,r),!(n.steps.length>m));b--){let w=a[b];w<0||(e=i.before(w),t=o.after(w))}}function o1(n,e,t,r,i){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(o1(o.content,e+1,t,r,o)))}if(e>r){let o=i.contentMatchAt(0),a=o.fillBefore(n).append(n);n=a.append(o.matchFragment(a).fillBefore(Q.empty,!0))}return n}function lM(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=nM(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new le(Q.from(r),0,0))}function aM(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),o=l1(r,i);for(let a=0;a<o.length;a++){let u=o[a],d=a==o.length-1;if(d&&u==0||r.node(u).type.contentMatch.validEnd)return n.delete(r.start(u),i.end(u));if(u>0&&(d||r.node(u-1).canReplace(r.index(u-1),i.indexAfter(u-1))))return n.delete(r.before(u),i.after(u))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&t>r.end(a)&&i.end(a)-t!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return n.delete(r.before(a),t);n.delete(e,t)}function l1(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let o=n.start(i);if(o<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}class Ms extends _t{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return ft.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return ft.fromReplace(e,this.pos,this.pos+1,new le(Q.from(i),0,t.isLeaf?0:1))}getMap(){return un.empty}invert(e){return new Ms(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ms(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ms(t.pos,t.attr,t.value)}}_t.jsonID("attr",Ms);class fl extends _t{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return ft.ok(r)}getMap(){return un.empty}invert(e){return new fl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new fl(t.attr,t.value)}}_t.jsonID("docAttr",fl);let Ds=class extends Error{};Ds=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Ds.prototype=Object.create(Error.prototype);Ds.prototype.constructor=Ds;Ds.prototype.name="TransformError";class a1{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ns}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Ds(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=le.empty){let i=ic(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new le(Q.from(r),0,0))}delete(e,t){return this.replace(e,t,le.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return oM(this,e,t,r),this}replaceRangeWith(e,t,r){return lM(this,e,t,r),this}deleteRange(e,t){return aM(this,e,t),this}lift(e,t){return qO(this,e,t),this}join(e,t=1){return tM(this,e,t),this}wrap(e,t){return JO(this,e,t),this}setBlockType(e,t=e,r,i=null){return YO(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return QO(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new Ms(e,t,r)),this}setDocAttribute(e,t){return this.step(new fl(e,t)),this}addNodeMark(e,t){return this.step(new Jr(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Ge)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new Ps(e,t)),this}split(e,t=1,r){return ZO(this,e,t,r),this}addMark(e,t,r){return WO(this,e,t,r),this}removeMark(e,t,r){return VO(this,e,t,r),this}clearIncompatible(e,t,r){return Kh(this,e,t,r),this}}const Ef=Object.create(null);class je{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new uM(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=le.empty){let r=t.content.lastChild,i=null;for(let u=0;u<t.openEnd;u++)i=r,r=r.lastChild;let o=e.steps.length,a=this.ranges;for(let u=0;u<a.length;u++){let{$from:d,$to:f}=a[u],p=e.mapping.slice(o);e.replaceRange(p.map(d.pos),p.map(f.pos),u?le.empty:t),u==0&&O0(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:u}=i[o],d=e.mapping.slice(r),f=d.map(a.pos),p=d.map(u.pos);o?e.deleteRange(f,p):(e.replaceRangeWith(f,p,t),O0(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new Pe(e):vs(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let a=t<0?vs(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):vs(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new bn(e.node(0))}static atStart(e){return vs(e,e,0,0,1)||new bn(e)}static atEnd(e){return vs(e,e,e.content.size,e.childCount,-1)||new bn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Ef[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Ef)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ef[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Pe.between(this.$anchor,this.$head).getBookmark()}}je.prototype.visible=!0;class uM{constructor(e,t){this.$from=e,this.$to=t}}let E0=!1;function N0(n){!E0&&!n.parent.inlineContent&&(E0=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Pe extends je{constructor(e,t=e){N0(e),N0(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return je.near(r);let i=e.resolve(t.map(this.anchor));return new Pe(i.parent.inlineContent?i:r,r)}replace(e,t=le.empty){if(super.replace(e,t),t==le.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Pe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new sc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Pe(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let o=je.findFrom(t,r,!0)||je.findFrom(t,-r,!0);if(o)t=o.$head;else return je.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(je.findFrom(e,-r,!0)||je.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new Pe(e,t)}}je.jsonID("text",Pe);class sc{constructor(e,t){this.anchor=e,this.head=t}map(e){return new sc(e.map(this.anchor),e.map(this.head))}resolve(e){return Pe.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ee extends je{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),o=e.resolve(i);return r?je.near(o):new Ee(o)}content(){return new le(Q.from(this.node),0,0)}eq(e){return e instanceof Ee&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Yh(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ee(e.resolve(t.anchor))}static create(e,t){return new Ee(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ee.prototype.visible=!1;je.jsonID("node",Ee);class Yh{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new sc(r,r):new Yh(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Ee.isSelectable(r)?new Ee(t):je.near(t)}}class bn extends je{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=le.empty){if(t==le.empty){e.delete(0,e.doc.content.size);let r=je.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new bn(e)}map(e){return new bn(e)}eq(e){return e instanceof bn}getBookmark(){return cM}}je.jsonID("all",bn);const cM={map(){return this},resolve(n){return new bn(n)}};function vs(n,e,t,r,i,o=!1){if(e.inlineContent)return Pe.create(n,t);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let u=e.child(a);if(u.isAtom){if(!o&&Ee.isSelectable(u))return Ee.create(n,t-(i<0?u.nodeSize:0))}else{let d=vs(n,u,t+i,i<0?u.childCount:0,i,o);if(d)return d}t+=u.nodeSize*i}return null}function O0(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof xt||i instanceof wt))return;let o=n.mapping.maps[r],a;o.forEach((u,d,f,p)=>{a==null&&(a=p)}),n.setSelection(je.near(n.doc.resolve(a),t))}const M0=1,T0=2,R0=4;class dM extends a1{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|M0)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&M0)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=T0,this}ensureMarks(e){return Ge.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&T0)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ge.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let a=this.doc.resolve(t);o=r==t?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,o)),this.selection.empty||this.setSelection(je.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=R0,this}get scrolledIntoView(){return(this.updated&R0)>0}}function P0(n,e){return!e||!n?n:n.bind(e)}class Qo{constructor(e,t,r){this.name=e,this.init=P0(t.init,r),this.apply=P0(t.apply,r)}}const fM=[new Qo("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Qo("selection",{init(n,e){return n.selection||je.atStart(e.doc)},apply(n){return n.selection}}),new Qo("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Qo("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Nf{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=fM.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Qo(r.key,r.spec.state,r))})}}class bs{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let u=this.config.plugins[a];if(u.spec.appendTransaction){let d=i?i[a].n:0,f=i?i[a].state:this,p=d<t.length&&u.spec.appendTransaction.call(u,d?t.slice(d):t,f,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<a?{state:r,n:t.length}:{state:this,n:0})}t.push(p),r=r.applyInner(p),o=!0}i&&(i[a]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new bs(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new dM(this)}static create(e){let t=new Nf(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new bs(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new Nf(this.schema,e.plugins),r=t.fields,i=new bs(t);for(let o=0;o<r.length;o++){let a=r[o].name;i[a]=this.hasOwnProperty(a)?this[a]:r[o].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Nf(e.schema,e.plugins),o=new bs(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=Qr.fromJSON(e.schema,t.doc);else if(a.name=="selection")o.selection=je.fromJSON(o.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let d=r[u],f=d.spec.state;if(d.key==a.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(t,u)){o[a.name]=f.fromJSON.call(d,e,t[u],o);return}}o[a.name]=a.init(e,o)}}),o}}function u1(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=u1(i,e,{})),t[r]=i}return t}class Ct{constructor(e){this.spec=e,this.props={},e.props&&u1(e.props,this,this.props),this.key=e.key?e.key.key:c1("plugin")}getState(e){return e[this.key]}}const Of=Object.create(null);function c1(n){return n in Of?n+"$"+ ++Of[n]:(Of[n]=0,n+"$")}class nn{constructor(e="key"){this.key=c1(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Mt=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},hl=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let lh=null;const fr=function(n,e,t){let r=lh||(lh=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},hM=function(){lh=null},Fi=function(n,e,t,r){return t&&(D0(n,e,t,r,-1)||D0(n,e,t,r,1))},pM=/^(img|br|input|textarea|hr)$/i;function D0(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Sn(n))){let o=n.parentNode;if(!o||o.nodeType!=1||kl(n)||pM.test(n.nodeName)||n.contentEditable=="false")return!1;e=Mt(n)+(i<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.contentEditable=="false")return!1;e=i<0?Sn(n):0}else return!1}}function Sn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function mM(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Sn(n)}else if(n.parentNode&&!kl(n))e=Mt(n),n=n.parentNode;else return null}}function gM(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!kl(n))e=Mt(n)+1,n=n.parentNode;else return null}}function yM(n,e,t){for(let r=e==0,i=e==Sn(n);r||i;){if(n==t)return!0;let o=Mt(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,i=i&&o==Sn(n)}}function kl(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const oc=function(n){return n.focusNode&&Fi(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Oi(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function xM(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function vM(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Sn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Sn(r.startContainer),r.startOffset)}}}const Gn=typeof navigator<"u"?navigator:null,j0=typeof document<"u"?document:null,ai=Gn&&Gn.userAgent||"",ah=/Edge\/(\d+)/.exec(ai),d1=/MSIE \d/.exec(ai),uh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ai),en=!!(d1||uh||ah),ei=d1?document.documentMode:uh?+uh[1]:ah?+ah[1]:0,jn=!en&&/gecko\/(\d+)/i.test(ai);jn&&+(/Firefox\/(\d+)/.exec(ai)||[0,0])[1];const ch=!en&&/Chrome\/(\d+)/.exec(ai),It=!!ch,f1=ch?+ch[1]:0,Ht=!en&&!!Gn&&/Apple Computer/.test(Gn.vendor),js=Ht&&(/Mobile\/\w+/.test(ai)||!!Gn&&Gn.maxTouchPoints>2),wn=js||(Gn?/Mac/.test(Gn.platform):!1),wM=Gn?/Win/.test(Gn.platform):!1,hr=/Android \d/.test(ai),Cl=!!j0&&"webkitFontSmoothing"in j0.documentElement.style,SM=Cl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function bM(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function ar(n,e){return typeof n=="number"?n:n[e]}function kM(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function A0(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let a=t||n.dom;a;a=hl(a)){if(a.nodeType!=1)continue;let u=a,d=u==o.body,f=d?bM(o):kM(u),p=0,m=0;if(e.top<f.top+ar(r,"top")?m=-(f.top-e.top+ar(i,"top")):e.bottom>f.bottom-ar(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+ar(i,"top")-f.top:e.bottom-f.bottom+ar(i,"bottom")),e.left<f.left+ar(r,"left")?p=-(f.left-e.left+ar(i,"left")):e.right>f.right-ar(r,"right")&&(p=e.right-f.right+ar(i,"right")),p||m)if(d)o.defaultView.scrollBy(p,m);else{let b=u.scrollLeft,w=u.scrollTop;m&&(u.scrollTop+=m),p&&(u.scrollLeft+=p);let x=u.scrollLeft-b,E=u.scrollTop-w;e={left:e.left-x,top:e.top-E,right:e.right-x,bottom:e.bottom-E}}if(d||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}function CM(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let u=n.root.elementFromPoint(o,a);if(!u||u==n.dom||!n.dom.contains(u))continue;let d=u.getBoundingClientRect();if(d.top>=t-20){r=u,i=d.top;break}}return{refDOM:r,refTop:i,stack:h1(n.dom)}}function h1(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=hl(r));return e}function EM({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;p1(t,r==0?0:r-e)}function p1(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:o}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let gs=null;function NM(n){if(n.setActive)return n.setActive();if(gs)return n.focus(gs);let e=h1(n);n.focus(gs==null?{get preventScroll(){return gs={preventScroll:!0},!0}}:void 0),gs||(gs=!1,p1(e,0))}function m1(n,e){let t,r=2e8,i,o=0,a=e.top,u=e.top,d,f;for(let p=n.firstChild,m=0;p;p=p.nextSibling,m++){let b;if(p.nodeType==1)b=p.getClientRects();else if(p.nodeType==3)b=fr(p).getClientRects();else continue;for(let w=0;w<b.length;w++){let x=b[w];if(x.top<=a&&x.bottom>=u){a=Math.max(x.bottom,a),u=Math.min(x.top,u);let E=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(E<r){t=p,r=E,i=E&&t.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,p.nodeType==1&&E&&(o=m+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!d&&x.left<=e.left&&x.right>=e.left&&(d=p,f={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!t&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(o=m+1)}}return!t&&d&&(t=d,i=f,r=0),t&&t.nodeType==3?OM(t,i):!t||r&&t.nodeType==1?{node:n,offset:o}:m1(t,i)}function OM(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let o=Hr(r,1);if(o.top!=o.bottom&&Xh(e,o))return{node:n,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function Xh(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function MM(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function TM(n,e,t){let{node:r,offset:i}=m1(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();o=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(r,i,o)}function RM(n,e,t,r){let i=-1;for(let o=e,a=!1;o!=n.dom;){let u=n.docView.nearestDesc(o,!0),d;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((d=u.dom.getBoundingClientRect()).width||d.height)&&(u.node.isBlock&&u.parent&&(!a&&d.left>r.left||d.top>r.top?i=u.posBefore:(!a&&d.right<r.left||d.bottom<r.top)&&(i=u.posAfter),a=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?u.posBefore:u.posAfter;o=u.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function g1(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=i;;){let a=n.childNodes[o];if(a.nodeType==1){let u=a.getClientRects();for(let d=0;d<u.length;d++){let f=u[d];if(Xh(e,f))return g1(a,e,f)}}if((o=(o+1)%r)==i)break}return n}function PM(n,e){let t=n.dom.ownerDocument,r,i=0,o=vM(t,e.left,e.top);o&&({node:r,offset:i}=o);let a=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),u;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let f=n.dom.getBoundingClientRect();if(!Xh(e,f)||(a=g1(n.dom,e,f),!a))return null}if(Ht)for(let f=a;r&&f;f=hl(f))f.draggable&&(r=void 0);if(a=MM(a,e),r){if(jn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&i++}let f;Cl&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(u=RM(n,r,i,e))}u==null&&(u=TM(n,a,e));let d=n.docView.nearestDesc(a,!0);return{pos:u,inside:d?d.posAtStart-d.border:-1}}function L0(n){return n.top<n.bottom||n.left<n.right}function Hr(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(L0(r))return r}return Array.prototype.find.call(t,L0)||n.getBoundingClientRect()}const DM=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function y1(n,e,t){let{node:r,offset:i,atom:o}=n.docView.domFromPos(e,t<0?-1:1),a=Cl||jn;if(r.nodeType==3)if(a&&(DM.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let d=Hr(fr(r,i,i),t);if(jn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=Hr(fr(r,i-1,i-1),-1);if(f.top==d.top){let p=Hr(fr(r,i,i+1),-1);if(p.top!=d.top)return qo(p,p.left<f.left)}}return d}else{let d=i,f=i,p=t<0?1:-1;return t<0&&!i?(f++,p=-1):t>=0&&i==r.nodeValue.length?(d--,p=1):t<0?d--:f++,qo(Hr(fr(r,d,f),p),p<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(t<0||i==Sn(r))){let d=r.childNodes[i-1];if(d.nodeType==1)return Mf(d.getBoundingClientRect(),!1)}if(o==null&&i<Sn(r)){let d=r.childNodes[i];if(d.nodeType==1)return Mf(d.getBoundingClientRect(),!0)}return Mf(r.getBoundingClientRect(),t>=0)}if(o==null&&i&&(t<0||i==Sn(r))){let d=r.childNodes[i-1],f=d.nodeType==3?fr(d,Sn(d)-(a?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(f)return qo(Hr(f,1),!1)}if(o==null&&i<Sn(r)){let d=r.childNodes[i];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let f=d?d.nodeType==3?fr(d,0,a?0:1):d.nodeType==1?d:null:null;if(f)return qo(Hr(f,-1),!0)}return qo(Hr(r.nodeType==3?fr(r):r,-t),t>=0)}function qo(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Mf(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function x1(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function jM(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return x1(n,e,()=>{let{node:o}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let u=n.docView.nearestDesc(o,!0);if(!u)break;if(u.node.isBlock){o=u.contentDOM||u.dom;break}o=u.dom.parentNode}let a=y1(n,i.pos,1);for(let u=o.firstChild;u;u=u.nextSibling){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=fr(u,0,u.nodeValue.length).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.bottom>p.top+1&&(t=="up"?a.top-p.top>(p.bottom-a.top)*2:p.bottom-a.bottom>(a.bottom-p.top)*2))return!1}}return!0})}const AM=/[\u0590-\u08ac]/;function LM(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,a=i==r.parent.content.size,u=n.domSelection();return u?!AM.test(r.parent.textContent)||!u.modify?t=="left"||t=="backward"?o:a:x1(n,e,()=>{let{focusNode:d,focusOffset:f,anchorNode:p,anchorOffset:m}=n.domSelectionRange(),b=u.caretBidiLevel;u.modify("move",t,"character");let w=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:x,focusOffset:E}=n.domSelectionRange(),S=x&&!w.contains(x.nodeType==1?x:x.parentNode)||d==x&&f==E;try{u.collapse(p,m),d&&(d!=p||f!=m)&&u.extend&&u.extend(d,f)}catch{}return b!=null&&(u.caretBidiLevel=b),S}):r.pos==r.start()||r.pos==r.end()}let I0=null,z0=null,_0=!1;function IM(n,e,t){return I0==e&&z0==t?_0:(I0=e,z0=t,_0=t=="up"||t=="down"?jM(n,e,t):LM(n,e,t))}const kn=0,B0=1,Ti=2,Kn=3;class El{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=kn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,a;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Mt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!t||o.node))if(r&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let u=i.children[a];if(u.size){i=u;break}}return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],u=o+a.size;if(u>e||a instanceof w1){i=e-o;break}o=u}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof v1&&o.side>=0;r--);if(t<=0){let o,a=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,a=!1);return o&&t&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?Mt(o.dom)+1:0}}else{let o,a=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?Mt(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=r,u=0;;u++){let d=this.children[u],f=a+d.size;if(i==-1&&e<=f){let p=a+d.border;if(e>=p&&t<=f-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,p);e=a;for(let m=u;m>0;m--){let b=this.children[m-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){i=Mt(b.dom)+1;break}e-=b.size}i==-1&&(i=0)}if(i>-1&&(f>t||u==this.children.length-1)){t=f;for(let p=u+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){o=Mt(m.dom);break}t+=m.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=f}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let o=Math.min(e,t),a=Math.max(e,t);for(let w=0,x=0;w<this.children.length;w++){let E=this.children[w],S=x+E.size;if(o>x&&a<S)return E.setSelection(e-x-E.border,t-x-E.border,r,i);x=S}let u=this.domFromPos(e,e?-1:1),d=t==e?u:this.domFromPos(t,t?-1:1),f=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((jn||Ht)&&e==t){let{node:w,offset:x}=u;if(w.nodeType==3){if(m=!!(x&&w.nodeValue[x-1]==`
`),m&&x==w.nodeValue.length)for(let E=w,S;E;E=E.parentNode){if(S=E.nextSibling){S.nodeName=="BR"&&(u=d={node:S.parentNode,offset:Mt(S)+1});break}let v=E.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let E=w.childNodes[x-1];m=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(jn&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let w=p.focusNode.childNodes[p.focusOffset];w&&w.contentEditable=="false"&&(i=!0)}if(!(i||m&&Ht)&&Fi(u.node,u.offset,p.anchorNode,p.anchorOffset)&&Fi(d.node,d.offset,p.focusNode,p.focusOffset))return;let b=!1;if((f.extend||e==t)&&!m){f.collapse(u.node,u.offset);try{e!=t&&f.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>t){let x=u;u=d,d=x}let w=document.createRange();w.setEnd(d.node,d.offset),w.setStart(u.node,u.offset),f.removeAllRanges(),f.addRange(w)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],a=r+o.size;if(r==a?e<=a&&t>=r:e<a&&t>r){let u=r+o.border,d=a-o.border;if(e>=u&&t<=d){this.dirty=e==r||t==a?Ti:B0,e==u&&t==d&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Kn:o.markDirty(e-u,t-u);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Ti:Kn}r=a}this.dirty=Ti}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Ti:B0;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class v1 extends El{constructor(e,t,r,i){let o,a=t.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(a.nodeType!=1){let u=document.createElement("span");u.appendChild(a),a=u}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==kn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class zM extends El{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class $i extends El{constructor(e,t,r,i,o){super(e,[],r,i),this.mark=t,this.spec=o}static create(e,t,r,i){let o=i.nodeViews[t.type.name],a=o&&o(t,i,r);return(!a||!a.dom)&&(a=Wi.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new $i(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Kn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Kn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=kn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=kn}}slice(e,t,r){let i=$i.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;t<a&&(o=fh(o,t,a,r)),e>0&&(o=fh(o,0,e,r));for(let u=0;u<o.length;u++)o[u].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ti extends El{constructor(e,t,r,i,o,a,u,d,f){super(e,[],o,a),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=u}static create(e,t,r,i,o,a){let u=o.nodeViews[t.type.name],d,f=u&&u(t,o,()=>{if(!d)return a;if(d.parent)return d.parent.posBeforeChild(d)},r,i),p=f&&f.dom,m=f&&f.contentDOM;if(t.isText){if(!p)p=document.createTextNode(t.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=Wi.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!m&&!t.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),t.type.spec.draggable&&(p.draggable=!0));let b=p;return p=k1(p,r,t),f?d=new _M(e,t,r,i,p,m||null,b,f,o,a+1):t.isText?new lc(e,t,r,i,p,b,o):new ti(e,t,r,i,p,m||null,b,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Q.empty)}return e}matchesNode(e,t,r){return this.dirty==kn&&e.eq(this.node)&&du(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,o=e.composing?this.localCompositionInfo(e,t):null,a=o&&o.pos>-1?o:null,u=o&&o.pos<0,d=new FM(this,a&&a.node,e);WM(this.node,this.innerDeco,(f,p,m)=>{f.spec.marks?d.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&d.syncToMarks(p==this.node.childCount?Ge.none:this.node.child(p).marks,r,e),d.placeWidget(f,e,i)},(f,p,m,b)=>{d.syncToMarks(f.marks,r,e);let w;d.findNodeMatch(f,p,m,b)||u&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(w=d.findIndexWithChild(o.node))>-1&&d.updateNodeAt(f,p,m,w,e)||d.updateNextNode(f,p,m,e,b,i)||d.addNode(f,p,m,e,i),i+=f.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Ti)&&(a&&this.protectLocalComposition(e,a),S1(this.contentDOM,this.children,e),js&&VM(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Pe)||r<t||i>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,u=UM(this.node.content,a,r-t,i-t);return u<0?null:{node:o,pos:u,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new zM(this,o,t,i);e.input.compositionNodes.push(a),this.children=fh(this.children,r,r+i.length,e,a)}update(e,t,r,i){return this.dirty==Kn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=kn}updateOuterDeco(e){if(du(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=b1(this.dom,this.nodeDOM,dh(this.outerDeco,this.node,t),dh(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function F0(n,e,t,r,i){k1(r,e,n);let o=new ti(void 0,n,e,t,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class lc extends ti{constructor(e,t,r,i,o,a,u){super(e,t,r,i,o,null,a,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==Kn||this.dirty!=kn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=kn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=kn,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),o=document.createTextNode(i.text);return new lc(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Kn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class w1 extends El{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==kn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class _M extends ti{constructor(e,t,r,i,o,a,u,d,f,p){super(e,t,r,i,o,a,u,f,p),this.spec=d}update(e,t,r,i){if(this.dirty==Kn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function S1(n,e,t){let r=n.firstChild,i=!1;for(let o=0;o<e.length;o++){let a=e[o],u=a.dom;if(u.parentNode==n){for(;u!=r;)r=$0(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(u,r);if(a instanceof $i){let d=r?r.previousSibling:n.lastChild;S1(a.contentDOM,a.children,t),r=d?d.nextSibling:n.firstChild}}for(;r;)r=$0(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const tl=function(n){n&&(this.nodeName=n)};tl.prototype=Object.create(null);const Ri=[new tl];function dh(n,e,t){if(n.length==0)return Ri;let r=t?Ri[0]:new tl,i=[r];for(let o=0;o<n.length;o++){let a=n[o].type.attrs;if(a){a.nodeName&&i.push(r=new tl(a.nodeName));for(let u in a){let d=a[u];d!=null&&(t&&i.length==1&&i.push(r=new tl(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+d:u=="style"?r.style=(r.style?r.style+";":"")+d:u!="nodeName"&&(r[u]=d))}}}return i}function b1(n,e,t,r){if(t==Ri&&r==Ri)return e;let i=e;for(let o=0;o<r.length;o++){let a=r[o],u=t[o];if(o){let d;u&&u.nodeName==a.nodeName&&i!=n&&(d=i.parentNode)&&d.nodeName.toLowerCase()==a.nodeName||(d=document.createElement(a.nodeName),d.pmIsDeco=!0,d.appendChild(i),u=Ri[0]),i=d}BM(i,u||Ri[0],a)}return i}function BM(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.add(i[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function k1(n,e,t){return b1(n,n,Ri,dh(e,t,n.nodeType!=1))}function du(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function $0(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class FM{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=$M(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=kn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let f=this.top.children[d];if(f.matchesMark(e[o])&&!this.isLocked(f.dom)){u=d;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let d=$i.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,r))o=this.top.children.indexOf(a,this.index);else for(let u=this.index,d=Math.min(this.top.children.length,u+5);u<d;u++){let f=this.top.children[u];if(f.matchesNode(e,t,r)&&!this.preMatch.matched.has(f)){o=u;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,i,o){let a=this.top.children[i];return a.dirty==Kn&&a.dom==a.contentDOM&&(a.dirty=Ti),a.update(e,t,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,o,a){for(let u=this.index;u<this.top.children.length;u++){let d=this.top.children[u];if(d instanceof ti){let f=this.preMatch.matched.get(d);if(f!=null&&f!=o)return!1;let p=d.dom,m,b=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Kn&&du(t,d.outerDeco));if(!b&&d.update(e,t,r,i))return this.destroyBetween(this.index,u),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!b&&(m=this.recreateWrapper(d,e,t,r,i,a)))return this.destroyBetween(this.index,u),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Ti,m.updateChildren(i,a+1),m.dirty=kn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,o,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!du(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let u=ti.create(this.top,t,r,i,o,a);if(u.contentDOM){u.children=e.children,e.children=[];for(let d of u.children)d.parent=u}return e.destroy(),u}addNode(e,t,r,i,o){let a=ti.create(this.top,e,t,r,i,o);a.contentDOM&&a.updateChildren(i,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new v1(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof $i;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof lc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ht||It)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new w1(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function $M(n,e){let t=e,r=t.children.length,i=n.childCount,o=new Map,a=[];e:for(;i>0;){let u;for(;;)if(r){let f=t.children[r-1];if(f instanceof $i)t=f,r=f.children.length;else{u=f,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let d=u.node;if(d){if(d!=n.child(i-1))break;--i,o.set(u,i),a.push(u)}}return{index:i,matched:o,matches:a.reverse()}}function HM(n,e){return n.type.side-e.type.side}function WM(n,e,t,r){let i=e.locals(n),o=0;if(i.length==0){for(let f=0;f<n.childCount;f++){let p=n.child(f);r(p,i,e.forChild(o,p),f),o+=p.nodeSize}return}let a=0,u=[],d=null;for(let f=0;;){let p,m;for(;a<i.length&&i[a].to==o;){let S=i[a++];S.widget&&(p?(m||(m=[p])).push(S):p=S)}if(p)if(m){m.sort(HM);for(let S=0;S<m.length;S++)t(m[S],f,!!d)}else t(p,f,!!d);let b,w;if(d)w=-1,b=d,d=null;else if(f<n.childCount)w=f,b=n.child(f++);else break;for(let S=0;S<u.length;S++)u[S].to<=o&&u.splice(S--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)u.push(i[a++]);let x=o+b.nodeSize;if(b.isText){let S=x;a<i.length&&i[a].from<S&&(S=i[a].from);for(let v=0;v<u.length;v++)u[v].to<S&&(S=u[v].to);S<x&&(d=b.cut(S-o),b=b.cut(0,S-o),x=S,w=-1)}else for(;a<i.length&&i[a].to<x;)a++;let E=b.isInline&&!b.isLeaf?u.filter(S=>!S.inline):u.slice();r(b,E,e.forChild(o,b),w),o=x}}function VM(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function UM(n,e,t,r){for(let i=0,o=0;i<n.childCount&&o<=r;){let a=n.child(i++),u=o;if(o+=a.nodeSize,!a.isText)continue;let d=a.text;for(;i<n.childCount;){let f=n.child(i++);if(o+=f.nodeSize,!f.isText)break;d+=f.text}if(o>=t){if(o>=r&&d.slice(r-e.length-u,r-u)==e)return r-e.length;let f=u<r?d.lastIndexOf(e,r-u-1):-1;if(f>=0&&f+e.length+u>=t)return u+f;if(t==r&&d.length>=r+e.length-u&&d.slice(r-u,r-u+e.length)==e)return r}}return-1}function fh(n,e,t,r,i){let o=[];for(let a=0,u=0;a<n.length;a++){let d=n[a],f=u,p=u+=d.size;f>=t||p<=e?o.push(d):(f<e&&o.push(d.slice(0,e-f,r)),i&&(o.push(i),i=void 0),p>t&&o.push(d.slice(t-f,d.size,r)))}return o}function Qh(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),o=i&&i.size==0,a=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let u=r.resolve(a),d,f;if(oc(t)){for(d=a;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&Ee.isSelectable(m)&&i.parent&&!(m.isInline&&yM(t.focusNode,t.focusOffset,i.dom))){let b=i.posBefore;f=new Ee(a==b?u:r.resolve(b))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let m=a,b=a;for(let w=0;w<t.rangeCount;w++){let x=t.getRangeAt(w);m=Math.min(m,n.docView.posFromDOM(x.startContainer,x.startOffset,1)),b=Math.max(b,n.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(m<0)return null;[d,a]=b==n.state.selection.anchor?[b,m]:[m,b],u=r.resolve(a)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let p=r.resolve(d);if(!f){let m=e=="pointer"||n.state.selection.head<u.pos&&!o?1:-1;f=Zh(n,p,u,m)}return f}function C1(n){return n.editable?n.hasFocus():N1(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function mr(n,e=!1){let t=n.state.selection;if(E1(n,t),!!C1(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&It){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Fi(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)GM(n);else{let{anchor:r,head:i}=t,o,a;H0&&!(t instanceof Pe)&&(t.$from.parent.inlineContent||(o=W0(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=W0(n,t.to))),n.docView.setSelection(r,i,n,e),H0&&(o&&V0(o),a&&V0(a)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&qM(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const H0=Ht||It&&f1<63;function W0(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(Ht&&i&&i.contentEditable=="false")return Tf(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Tf(i);if(o)return Tf(o)}}function Tf(n){return n.contentEditable="true",Ht&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function V0(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function qM(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!C1(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function GM(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,Mt(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&en&&ei<=11&&(r.disabled=!0,r.disabled=!1)}function E1(n,e){if(e instanceof Ee){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(U0(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else U0(n)}function U0(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Zh(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||Pe.between(e,t,r)}function q0(n){return n.editable&&!n.hasFocus()?!1:N1(n)}function N1(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function KM(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Fi(e.node,e.offset,t.anchorNode,t.anchorOffset)}function hh(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),o=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return o&&je.findFrom(o,e)}function Wr(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function G0(n,e,t){let r=n.state.selection;if(r instanceof Pe)if(t.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=n.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Wr(n,new Pe(r.$anchor,a))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=hh(n.state,e);return i&&i instanceof Ee?Wr(n,i):!1}else if(!(wn&&t.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let u=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=n.docView.descAt(u))&&!a.contentDOM?Ee.isSelectable(o)?Wr(n,new Ee(e<0?n.state.doc.resolve(i.pos-o.nodeSize):i)):Cl?Wr(n,new Pe(n.state.doc.resolve(e<0?u:u+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ee&&r.node.isInline)return Wr(n,new Pe(e>0?r.$to:r.$from));{let i=hh(n.state,e);return i?Wr(n,i):!1}}}function fu(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function nl(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function ys(n,e){return e<0?JM(n):YM(n)}function JM(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,o,a=!1;for(jn&&t.nodeType==1&&r<fu(t)&&nl(t.childNodes[r],-1)&&(a=!0);;)if(r>0){if(t.nodeType!=1)break;{let u=t.childNodes[r-1];if(nl(u,-1))i=t,o=--r;else if(u.nodeType==3)t=u,r=t.nodeValue.length;else break}}else{if(O1(t))break;{let u=t.previousSibling;for(;u&&nl(u,-1);)i=t.parentNode,o=Mt(u),u=u.previousSibling;if(u)t=u,r=fu(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}a?ph(n,t,r):i&&ph(n,i,o)}function YM(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=fu(t),o,a;for(;;)if(r<i){if(t.nodeType!=1)break;let u=t.childNodes[r];if(nl(u,1))o=t,a=++r;else break}else{if(O1(t))break;{let u=t.nextSibling;for(;u&&nl(u,1);)o=u.parentNode,a=Mt(u)+1,u=u.nextSibling;if(u)t=u,r=0,i=fu(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}o&&ph(n,o,a)}function O1(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function XM(n,e){for(;n&&e==n.childNodes.length&&!kl(n);)e=Mt(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function QM(n,e){for(;n&&!e&&!kl(n);)e=Mt(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function ph(n,e,t){if(e.nodeType!=3){let o,a;(a=XM(e,t))?(e=a,t=0):(o=QM(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if(oc(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&mr(n)},50)}function K0(n,e){let t=n.state.doc.resolve(e);if(!(It||wM)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function J0(n,e,t){let r=n.state.selection;if(r instanceof Pe&&!r.empty||t.indexOf("s")>-1||wn&&t.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let a=hh(n.state,e);if(a&&a instanceof Ee)return Wr(n,a)}if(!i.parent.inlineContent){let a=e<0?i:o,u=r instanceof bn?je.near(a,e):je.findFrom(a,e);return u?Wr(n,u):!1}return!1}function Y0(n,e){if(!(n.state.selection instanceof Pe))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let a=n.state.tr;return e<0?a.delete(t.pos-o.nodeSize,t.pos):a.delete(t.pos,t.pos+o.nodeSize),n.dispatch(a),!0}return!1}function X0(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function ZM(n){if(!Ht||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;X0(n,r,"true"),setTimeout(()=>X0(n,r,"false"),20)}return!1}function eT(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function tT(n,e){let t=e.keyCode,r=eT(e);if(t==8||wn&&t==72&&r=="c")return Y0(n,-1)||ys(n,-1);if(t==46&&!e.shiftKey||wn&&t==68&&r=="c")return Y0(n,1)||ys(n,1);if(t==13||t==27)return!0;if(t==37||wn&&t==66&&r=="c"){let i=t==37?K0(n,n.state.selection.from)=="ltr"?-1:1:-1;return G0(n,i,r)||ys(n,i)}else if(t==39||wn&&t==70&&r=="c"){let i=t==39?K0(n,n.state.selection.from)=="ltr"?1:-1:1;return G0(n,i,r)||ys(n,i)}else{if(t==38||wn&&t==80&&r=="c")return J0(n,-1,r)||ys(n,-1);if(t==40||wn&&t==78&&r=="c")return ZM(n)||J0(n,1,r)||ys(n,1);if(r==(wn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function M1(n,e){n.someProp("transformCopied",w=>{e=w(e,n)});let t=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let w=r.firstChild;t.push(w.type.name,w.attrs!=w.type.defaultAttrs?w.attrs:null),r=w.content}let a=n.someProp("clipboardSerializer")||Wi.fromSchema(n.state.schema),u=A1(),d=u.createElement("div");d.appendChild(a.serializeFragment(r,{document:u}));let f=d.firstChild,p,m=0;for(;f&&f.nodeType==1&&(p=j1[f.nodeName.toLowerCase()]);){for(let w=p.length-1;w>=0;w--){let x=u.createElement(p[w]);for(;d.firstChild;)x.appendChild(d.firstChild);d.appendChild(x),m++}f=d.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${o}${m?` -${m}`:""} ${JSON.stringify(t)}`);let b=n.someProp("clipboardTextSerializer",w=>w(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function T1(n,e,t,r,i){let o=i.parent.type.spec.code,a,u;if(!t&&!e)return null;let d=e&&(r||o||!t);if(d){if(n.someProp("transformPastedText",b=>{e=b(e,o||r,n)}),o)return e?new le(Q.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):le.empty;let m=n.someProp("clipboardTextParser",b=>b(e,i,r,n));if(m)u=m;else{let b=i.marks(),{schema:w}=n.state,x=Wi.fromSchema(w);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let S=a.appendChild(document.createElement("p"));E&&S.appendChild(x.serializeNode(w.text(E,b)))})}}else n.someProp("transformPastedHTML",m=>{t=m(t,n)}),a=sT(t),Cl&&oT(a);let f=a&&a.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let b=a.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;a=b}if(u||(u=(n.someProp("clipboardParser")||n.someProp("domParser")||Zr.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(d||p),context:i,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!nT.test(b.parentNode.nodeName)?{ignore:!0}:null}})),p)u=lT(Q0(u,+p[1],+p[2]),p[4]);else if(u=le.maxOpen(rT(u.content,i),!0),u.openStart||u.openEnd){let m=0,b=0;for(let w=u.content.firstChild;m<u.openStart&&!w.type.spec.isolating;m++,w=w.firstChild);for(let w=u.content.lastChild;b<u.openEnd&&!w.type.spec.isolating;b++,w=w.lastChild);u=Q0(u,m,b)}return n.someProp("transformPasted",m=>{u=m(u,n)}),u}const nT=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function rT(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),o,a=[];if(n.forEach(u=>{if(!a)return;let d=i.findWrapping(u.type),f;if(!d)return a=null;if(f=a.length&&o.length&&P1(d,o,u,a[a.length-1],0))a[a.length-1]=f;else{a.length&&(a[a.length-1]=D1(a[a.length-1],o.length));let p=R1(u,d);a.push(p),i=i.matchType(p.type),o=d}}),a)return Q.from(a)}return n}function R1(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,Q.from(n));return n}function P1(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let o=P1(n,e,t,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(Q.from(R1(t,n,i+1))))}}function D1(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,D1(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(Q.empty,!0);return n.copy(t.append(r))}function mh(n,e,t,r,i,o){let a=e<0?n.firstChild:n.lastChild,u=a.content;return n.childCount>1&&(o=0),i<r-1&&(u=mh(u,e,t,r,i+1,o)),i>=t&&(u=e<0?a.contentMatchAt(0).fillBefore(u,o<=i).append(u):u.append(a.contentMatchAt(a.childCount).fillBefore(Q.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(u))}function Q0(n,e,t){return e<n.openStart&&(n=new le(mh(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new le(mh(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const j1={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Z0=null;function A1(){return Z0||(Z0=document.implementation.createHTMLDocument("title"))}let Rf=null;function iT(n){let e=window.trustedTypes;return e?(Rf||(Rf=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Rf.createHTML(n)):n}function sT(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=A1().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&j1[r[1].toLowerCase()])&&(n=i.map(o=>"<"+o+">").join("")+n+i.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=iT(n),i)for(let o=0;o<i.length;o++)t=t.querySelector(i[o])||t;return t}function oT(n){let e=n.querySelectorAll(It?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function lT(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:o,openEnd:a}=n;for(let u=r.length-2;u>=0;u-=2){let d=t.nodes[r[u]];if(!d||d.hasRequiredAttrs())break;i=Q.from(d.create(r[u+1],i)),o++,a++}return new le(i,o,a)}const Wt={},Vt={},aT={touchstart:!0,touchmove:!0};class uT{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function cT(n){for(let e in Wt){let t=Wt[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{fT(n,r)&&!ep(n,r)&&(n.editable||!(r.type in Vt))&&t(n,r)},aT[e]?{passive:!0}:void 0)}Ht&&n.dom.addEventListener("input",()=>null),gh(n)}function Yr(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function dT(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function gh(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>ep(n,r))})}function ep(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function fT(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function hT(n,e){!ep(n,e)&&Wt[e.type]&&(n.editable||!(e.type in Vt))&&Wt[e.type](n,e)}Vt.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!I1(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(hr&&It&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),js&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Oi(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||tT(n,t)?t.preventDefault():Yr(n,"key")};Vt.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Vt.keypress=(n,e)=>{let t=e;if(I1(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||wn&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Pe)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i))&&n.dispatch(n.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function ac(n){return{left:n.clientX,top:n.clientY}}function pT(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function tp(n,e,t,r,i){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(n.someProp(e,u=>a>o.depth?u(n,t,o.nodeAfter,o.before(a),i,!0):u(n,t,o.node(a),o.before(a),i,!1)))return!0;return!1}function Ts(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function mT(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Ee.isSelectable(r)?(Ts(n,new Ee(t)),!0):!1}function gT(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof Ee&&(r=t.node);let o=n.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let u=a>o.depth?o.nodeAfter:o.node(a);if(Ee.isSelectable(u)){r&&t.$from.depth>0&&a>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?i=o.before(t.$from.depth):i=o.before(a);break}}return i!=null?(Ts(n,Ee.create(n.state.doc,i)),!0):!1}function yT(n,e,t,r,i){return tp(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(i?gT(n,t):mT(n,t))}function xT(n,e,t,r){return tp(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function vT(n,e,t,r){return tp(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||wT(n,t,r)}function wT(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Ts(n,Pe.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),u=i.before(o);if(a.inlineContent)Ts(n,Pe.create(r,u+1,u+1+a.content.size));else if(Ee.isSelectable(a))Ts(n,Ee.create(r,u));else continue;return!0}}function np(n){return hu(n)}const L1=wn?"metaKey":"ctrlKey";Wt.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=np(n),i=Date.now(),o="singleClick";i-n.input.lastClick.time<500&&pT(t,n.input.lastClick)&&!t[L1]&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:o};let a=n.posAtCoords(ac(t));a&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new ST(n,a,t,!!r)):(o=="doubleClick"?xT:vT)(n,a.pos,a.inside,t)?t.preventDefault():Yr(n,"pointer"))};class ST{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[L1],this.allowDefault=r.shiftKey;let o,a;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),a=t.inside;else{let p=e.state.doc.resolve(t.pos);o=p.parent,a=p.depth?p.before():0}const u=i?null:r.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:f}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||f instanceof Ee&&f.from<=a&&f.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&jn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Yr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>mr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(ac(e))),this.updateAllowDefault(e),this.allowDefault||!t?Yr(this.view,"pointer"):yT(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ht&&this.mightDrag&&!this.mightDrag.node.isAtom||It&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ts(this.view,je.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Yr(this.view,"pointer")}move(e){this.updateAllowDefault(e),Yr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Wt.touchstart=n=>{n.input.lastTouch=Date.now(),np(n),Yr(n,"pointer")};Wt.touchmove=n=>{n.input.lastTouch=Date.now(),Yr(n,"pointer")};Wt.contextmenu=n=>np(n);function I1(n,e){return n.composing?!0:Ht&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const bT=hr?5e3:-1;Vt.compositionstart=Vt.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof Pe&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),hu(n,!0),n.markCursor=null;else if(hu(n,!e.selection.empty),jn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){let u=n.domSelection();u&&u.collapse(a,a.nodeValue.length);break}else i=a,o=-1}}n.input.composing=!0}z1(n,bT)};Vt.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,z1(n,20))};function z1(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>hu(n),e))}function _1(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=CT());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function kT(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=mM(e.focusNode,e.focusOffset),r=gM(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let a=t.pmViewDesc;if(!(!a||!a.isText(t.nodeValue)))return r}}return t||r}function CT(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function hu(n,e=!1){if(!(hr&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),_1(n),e||n.docView&&n.docView.dirty){let t=Qh(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function ET(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const pl=en&&ei<15||js&&SM<604;Wt.copy=Vt.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let o=pl?null:t.clipboardData,a=r.content(),{dom:u,text:d}=M1(n,a);o?(t.preventDefault(),o.clearData(),o.setData("text/html",u.innerHTML),o.setData("text/plain",d)):ET(n,u),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function NT(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function OT(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?ml(n,r.value,null,i,e):ml(n,r.textContent,r.innerHTML,i,e)},50)}function ml(n,e,t,r,i){let o=T1(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,i,o||le.empty)))return!0;if(!o)return!1;let a=NT(o),u=a?n.state.tr.replaceSelectionWith(a,r):n.state.tr.replaceSelection(o);return n.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function B1(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Vt.paste=(n,e)=>{let t=e;if(n.composing&&!hr)return;let r=pl?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&ml(n,B1(r),r.getData("text/html"),i,t)?t.preventDefault():OT(n,t)};class F1{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const $1=wn?"altKey":"ctrlKey";Wt.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,o=i.empty?null:n.posAtCoords(ac(t)),a;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Ee?i.to-1:i.to))){if(r&&r.mightDrag)a=Ee.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let m=n.docView.nearestDesc(t.target,!0);m&&m.node.type.spec.draggable&&m!=n.docView&&(a=Ee.create(n.state.doc,m.posBefore))}}let u=(a||n.state.selection).content(),{dom:d,text:f,slice:p}=M1(n,u);(!t.dataTransfer.files.length||!It||f1>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(pl?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",pl||t.dataTransfer.setData("text/plain",f),n.dragging=new F1(p,!t[$1],a)};Wt.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Vt.dragover=Vt.dragenter=(n,e)=>e.preventDefault();Vt.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(ac(t));if(!i)return;let o=n.state.doc.resolve(i.pos),a=r&&r.slice;a?n.someProp("transformPasted",x=>{a=x(a,n)}):a=T1(n,B1(t.dataTransfer),pl?null:t.dataTransfer.getData("text/html"),!1,o);let u=!!(r&&!t[$1]);if(n.someProp("handleDrop",x=>x(n,t,a||le.empty,u))){t.preventDefault();return}if(!a)return;t.preventDefault();let d=a?r1(n.state.doc,o.pos,a):o.pos;d==null&&(d=o.pos);let f=n.state.tr;if(u){let{node:x}=r;x?x.replace(f):f.deleteSelection()}let p=f.mapping.map(d),m=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,b=f.doc;if(m?f.replaceRangeWith(p,p,a.content.firstChild):f.replaceRange(p,p,a),f.doc.eq(b))return;let w=f.doc.resolve(p);if(m&&Ee.isSelectable(a.content.firstChild)&&w.nodeAfter&&w.nodeAfter.sameMarkup(a.content.firstChild))f.setSelection(new Ee(w));else{let x=f.mapping.map(d);f.mapping.maps[f.mapping.maps.length-1].forEach((E,S,v,C)=>x=C),f.setSelection(Zh(n,w,f.doc.resolve(x)))}n.focus(),n.dispatch(f.setMeta("uiEvent","drop"))};Wt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&mr(n)},20))};Wt.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Wt.beforeinput=(n,e)=>{if(It&&hr&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,Oi(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Vt)Wt[n]=Vt[n];function gl(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class pu{constructor(e,t){this.toDOM=e,this.spec=t||Li,this.side=this.spec.side||0}map(e,t,r,i){let{pos:o,deleted:a}=e.mapResult(t.from+i,this.side<0?-1:1);return a?null:new cn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof pu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&gl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ni{constructor(e,t){this.attrs=e,this.spec=t||Li}map(e,t,r,i){let o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new cn(o,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof ni&&gl(this.attrs,e.attrs)&&gl(this.spec,e.spec)}static is(e){return e.type instanceof ni}destroy(){}}class rp{constructor(e,t){this.attrs=e,this.spec=t||Li}map(e,t,r,i){let o=e.mapResult(t.from+i,1);if(o.deleted)return null;let a=e.mapResult(t.to+i,-1);return a.deleted||a.pos<=o.pos?null:new cn(o.pos-r,a.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),o;return i==t.from&&!(o=e.child(r)).isText&&i+o.nodeSize==t.to}eq(e){return this==e||e instanceof rp&&gl(this.attrs,e.attrs)&&gl(this.spec,e.spec)}destroy(){}}class cn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new cn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new cn(e,e,new pu(t,r))}static inline(e,t,r,i){return new cn(e,t,new ni(r,i))}static node(e,t,r,i){return new cn(e,t,new rp(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof ni}get widget(){return this.type instanceof pu}}const ws=[],Li={};class dt{constructor(e,t){this.local=e.length?e:ws,this.children=t.length?t:ws}static create(e,t){return t.length?mu(t,e,0,Li):Lt}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,o){for(let a=0;a<this.local.length;a++){let u=this.local[a];u.from<=t&&u.to>=e&&(!o||o(u.spec))&&r.push(u.copy(u.from+i,u.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let u=this.children[a]+1;this.children[a+2].findInner(e-u,t-u,r,i+u,o)}}map(e,t,r){return this==Lt||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Li)}mapInner(e,t,r,i,o){let a;for(let u=0;u<this.local.length;u++){let d=this.local[u].map(e,r,i);d&&d.type.valid(t,d)?(a||(a=[])).push(d):o.onRemove&&o.onRemove(this.local[u].spec)}return this.children.length?MT(this.children,a||[],e,t,r,i,o):a?new dt(a.sort(Ii),ws):Lt}add(e,t){return t.length?this==Lt?dt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,o=0;e.forEach((u,d)=>{let f=d+r,p;if(p=W1(t,u,f)){for(i||(i=this.children.slice());o<i.length&&i[o]<d;)o+=3;i[o]==d?i[o+2]=i[o+2].addInner(u,p,f+1):i.splice(o,0,d,d+u.nodeSize,mu(p,u,f+1,Li)),o+=3}});let a=H1(o?V1(t):t,-r);for(let u=0;u<a.length;u++)a[u].type.valid(e,a[u])||a.splice(u--,1);return new dt(a.length?this.local.concat(a).sort(Ii):this.local,i||this.children)}remove(e){return e.length==0||this==Lt?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let a,u=r[o]+t,d=r[o+1]+t;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>u&&m.to<d&&(e[p]=null,(a||(a=[])).push(m));if(!a)continue;r==this.children&&(r=this.children.slice());let f=r[o+2].removeInner(a,u+1);f!=Lt?r[o+2]=f:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<e.length;o++)if(a=e[o])for(let u=0;u<i.length;u++)i[u].eq(a,t)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new dt(i,r):Lt}forChild(e,t){if(this==Lt)return this;if(t.isLeaf)return dt.empty;let r,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let o=e+1,a=o+t.content.size;for(let u=0;u<this.local.length;u++){let d=this.local[u];if(d.from<a&&d.to>o&&d.type instanceof ni){let f=Math.max(o,d.from)-o,p=Math.min(a,d.to)-o;f<p&&(i||(i=[])).push(d.copy(f,p))}}if(i){let u=new dt(i.sort(Ii),ws);return r?new qr([u,r]):u}return r||Lt}eq(e){if(this==e)return!0;if(!(e instanceof dt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return ip(this.localsInner(e))}localsInner(e){if(this==Lt)return ws;if(e.inlineContent||!this.local.some(ni.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ni||t.push(this.local[r]);return t}forEachSet(e){e(this)}}dt.empty=new dt([],[]);dt.removeOverlap=ip;const Lt=dt.empty;class qr{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,Li));return qr.from(r)}forChild(e,t){if(t.isLeaf)return dt.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,t);o!=Lt&&(o instanceof qr?r=r.concat(o.members):r.push(o))}return qr.from(r)}eq(e){if(!(e instanceof qr)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let a=0;a<o.length;a++)t.push(o[a])}}return t?ip(r?t:t.sort(Ii)):ws}static from(e){switch(e.length){case 0:return Lt;case 1:return e[0];default:return new qr(e.every(t=>t instanceof dt)?e:e.reduce((t,r)=>t.concat(r instanceof dt?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function MT(n,e,t,r,i,o,a){let u=n.slice();for(let f=0,p=o;f<t.maps.length;f++){let m=0;t.maps[f].forEach((b,w,x,E)=>{let S=E-x-(w-b);for(let v=0;v<u.length;v+=3){let C=u[v+1];if(C<0||b>C+p-m)continue;let N=u[v]+p-m;w>=N?u[v+1]=b<=N?-2:-1:b>=p&&S&&(u[v]+=S,u[v+1]+=S)}m+=S}),p=t.maps[f].map(p,-1)}let d=!1;for(let f=0;f<u.length;f+=3)if(u[f+1]<0){if(u[f+1]==-2){d=!0,u[f+1]=-1;continue}let p=t.map(n[f]+o),m=p-i;if(m<0||m>=r.content.size){d=!0;continue}let b=t.map(n[f+1]+o,-1),w=b-i,{index:x,offset:E}=r.content.findIndex(m),S=r.maybeChild(x);if(S&&E==m&&E+S.nodeSize==w){let v=u[f+2].mapInner(t,S,p+1,n[f]+o+1,a);v!=Lt?(u[f]=m,u[f+1]=w,u[f+2]=v):(u[f+1]=-2,d=!0)}else d=!0}if(d){let f=TT(u,n,e,t,i,o,a),p=mu(f,r,0,a);e=p.local;for(let m=0;m<u.length;m+=3)u[m+1]<0&&(u.splice(m,3),m-=3);for(let m=0,b=0;m<p.children.length;m+=3){let w=p.children[m];for(;b<u.length&&u[b]<w;)b+=3;u.splice(b,0,p.children[m],p.children[m+1],p.children[m+2])}}return new dt(e.sort(Ii),u)}function H1(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new cn(i.from+e,i.to+e,i.type))}return t}function TT(n,e,t,r,i,o,a){function u(d,f){for(let p=0;p<d.local.length;p++){let m=d.local[p].map(r,i,f);m?t.push(m):a.onRemove&&a.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)u(d.children[p+2],d.children[p]+f+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&u(n[d+2],e[d]+o+1);return t}function W1(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let o=0,a;o<n.length;o++)(a=n[o])&&a.from>t&&a.to<r&&((i||(i=[])).push(a),n[o]=null);return i}function V1(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function mu(n,e,t,r){let i=[],o=!1;e.forEach((u,d)=>{let f=W1(n,u,d+t);if(f){o=!0;let p=mu(f,u,t+d+1,r);p!=Lt&&i.push(d,d+u.nodeSize,p)}});let a=H1(o?V1(n):n,-t).sort(Ii);for(let u=0;u<a.length;u++)a[u].type.valid(e,a[u])||(r.onRemove&&r.onRemove(a[u].spec),a.splice(u--,1));return a.length||i.length?new dt(a,i):Lt}function Ii(n,e){return n.from-e.from||n.to-e.to}function ip(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[i]=o.copy(o.from,r.to),ex(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),ex(e,i,r.copy(o.from,r.to)));break}}}return e}function ex(n,e,t){for(;e<n.length&&Ii(t,n[e])>0;)e++;n.splice(e,0,t)}function Pf(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Lt&&e.push(r)}),n.cursorWrapper&&e.push(dt.create(n.state.doc,[n.cursorWrapper.deco])),qr.from(e)}const RT={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},PT=en&&ei<=11;class DT{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class jT{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new DT,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);en&&ei<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),PT&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,RT)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(q0(this.view)){if(this.suppressingSelectionUpdates)return mr(this.view);if(en&&ei<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Fi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=hl(o))t.add(o);for(let o=e.anchorNode;o;o=hl(o))if(t.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&q0(e)&&!this.ignoreSelectionChange(r),o=-1,a=-1,u=!1,d=[];if(e.editable)for(let p=0;p<t.length;p++){let m=this.registerMutation(t[p],d);m&&(o=o<0?m.from:Math.min(m.from,o),a=a<0?m.to:Math.max(m.to,a),m.typeOver&&(u=!0))}if(jn&&d.length){let p=d.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,b]=p;m.parentNode&&m.parentNode.parentNode==b.parentNode?b.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let b of p){let w=b.parentNode;w&&w.nodeName=="LI"&&(!m||IT(e,m)!=w)&&b.remove()}}}let f=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&oc(r)&&(f=Qh(e))&&f.eq(je.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,mr(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,a),AT(e)),this.handleDOMChange(o,a,u,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||mr(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];t.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(en&&ei<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:b}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(o=b)}let a=i&&i.parentNode==e.target?Mt(i)+1:0,u=r.localPosFromDOM(e.target,a,-1),d=o&&o.parentNode==e.target?Mt(o):e.target.childNodes.length,f=r.localPosFromDOM(e.target,d,1);return{from:u,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let tx=new WeakMap,nx=!1;function AT(n){if(!tx.has(n)&&(tx.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=jn,nx)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),nx=!0}}function rx(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=n.domAtPos(n.state.selection.anchor);return Fi(a.node,a.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function LT(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return rx(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?rx(n,t):null}function IT(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function zT(n,e,t){let{node:r,fromOffset:i,toOffset:o,from:a,to:u}=n.docView.parseRange(e,t),d=n.domSelectionRange(),f,p=d.anchorNode;if(p&&n.dom.contains(p.nodeType==1?p:p.parentNode)&&(f=[{node:p,offset:d.anchorOffset}],oc(d)||f.push({node:d.focusNode,offset:d.focusOffset})),It&&n.input.lastKeyCode===8)for(let S=o;S>i;S--){let v=r.childNodes[S-1],C=v.pmViewDesc;if(v.nodeName=="BR"&&!C){o=S;break}if(!C||C.size)break}let m=n.state.doc,b=n.someProp("domParser")||Zr.fromSchema(n.state.schema),w=m.resolve(a),x=null,E=b.parse(r,{topNode:w.parent,topMatch:w.parent.contentMatchAt(w.index()),topOpen:!0,from:i,to:o,preserveWhitespace:w.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:_T,context:w});if(f&&f[0].pos!=null){let S=f[0].pos,v=f[1]&&f[1].pos;v==null&&(v=S),x={anchor:S+a,head:v+a}}return{doc:E,sel:x,from:a,to:u}}function _T(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Ht&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Ht&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const BT=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function FT(n,e,t,r,i){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let L=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,q=Qh(n,L);if(q&&!n.state.selection.eq(q)){if(It&&hr&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",U=>U(n,Oi(13,"Enter"))))return;let J=n.state.tr.setSelection(q);L=="pointer"?J.setMeta("pointer",!0):L=="key"&&J.scrollIntoView(),o&&J.setMeta("composition",o),n.dispatch(J)}return}let a=n.state.doc.resolve(e),u=a.sharedDepth(t);e=a.before(u+1),t=n.state.doc.resolve(t).after(u+1);let d=n.state.selection,f=zT(n,e,t),p=n.state.doc,m=p.slice(f.from,f.to),b,w;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(b=n.state.selection.to,w="end"):(b=n.state.selection.from,w="start"),n.input.lastKeyCode=null;let x=WT(m.content,f.doc.content,f.from,b,w);if(x&&n.input.domChangeCount++,(js&&n.input.lastIOSEnter>Date.now()-225||hr)&&i.some(L=>L.nodeType==1&&!BT.test(L.nodeName))&&(!x||x.endA>=x.endB)&&n.someProp("handleKeyDown",L=>L(n,Oi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!x)if(r&&d instanceof Pe&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))x={start:d.from,endA:d.to,endB:d.to};else{if(f.sel){let L=ix(n,n.state.doc,f.sel);if(L&&!L.eq(n.state.selection)){let q=n.state.tr.setSelection(L);o&&q.setMeta("composition",o),n.dispatch(q)}}return}n.state.selection.from<n.state.selection.to&&x.start==x.endB&&n.state.selection instanceof Pe&&(x.start>n.state.selection.from&&x.start<=n.state.selection.from+2&&n.state.selection.from>=f.from?x.start=n.state.selection.from:x.endA<n.state.selection.to&&x.endA>=n.state.selection.to-2&&n.state.selection.to<=f.to&&(x.endB+=n.state.selection.to-x.endA,x.endA=n.state.selection.to)),en&&ei<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>f.from&&f.doc.textBetween(x.start-f.from-1,x.start-f.from+1)==" "&&(x.start--,x.endA--,x.endB--);let E=f.doc.resolveNoCache(x.start-f.from),S=f.doc.resolveNoCache(x.endB-f.from),v=p.resolve(x.start),C=E.sameParent(S)&&E.parent.inlineContent&&v.end()>=x.endA,N;if((js&&n.input.lastIOSEnter>Date.now()-225&&(!C||i.some(L=>L.nodeName=="DIV"||L.nodeName=="P"))||!C&&E.pos<f.doc.content.size&&!E.sameParent(S)&&(N=je.findFrom(f.doc.resolve(E.pos+1),1,!0))&&N.head==S.pos)&&n.someProp("handleKeyDown",L=>L(n,Oi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>x.start&&HT(p,x.start,x.endA,E,S)&&n.someProp("handleKeyDown",L=>L(n,Oi(8,"Backspace")))){hr&&It&&n.domObserver.suppressSelectionUpdates();return}It&&x.endB==x.start&&(n.input.lastChromeDelete=Date.now()),hr&&!C&&E.start()!=S.start()&&S.parentOffset==0&&E.depth==S.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==x.endA&&(x.endB-=2,S=f.doc.resolveNoCache(x.endB-f.from),setTimeout(()=>{n.someProp("handleKeyDown",function(L){return L(n,Oi(13,"Enter"))})},20));let T=x.start,M=x.endA,P,R,A;if(C){if(E.pos==S.pos)en&&ei<=11&&E.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>mr(n),20)),P=n.state.tr.delete(T,M),R=p.resolve(x.start).marksAcross(p.resolve(x.endA));else if(x.endA==x.endB&&(A=$T(E.parent.content.cut(E.parentOffset,S.parentOffset),v.parent.content.cut(v.parentOffset,x.endA-v.start()))))P=n.state.tr,A.type=="add"?P.addMark(T,M,A.mark):P.removeMark(T,M,A.mark);else if(E.parent.child(E.index()).isText&&E.index()==S.index()-(S.textOffset?0:1)){let L=E.parent.textBetween(E.parentOffset,S.parentOffset);if(n.someProp("handleTextInput",q=>q(n,T,M,L)))return;P=n.state.tr.insertText(L,T,M)}}if(P||(P=n.state.tr.replace(T,M,f.doc.slice(x.start-f.from,x.endB-f.from))),f.sel){let L=ix(n,P.doc,f.sel);L&&!(It&&n.composing&&L.empty&&(x.start!=x.endB||n.input.lastChromeDelete<Date.now()-100)&&(L.head==T||L.head==P.mapping.map(M)-1)||en&&L.empty&&L.head==T)&&P.setSelection(L)}R&&P.ensureMarks(R),o&&P.setMeta("composition",o),n.dispatch(P.scrollIntoView())}function ix(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Zh(n,e.resolve(t.anchor),e.resolve(t.head))}function $T(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,o=r,a,u,d;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<t.length;p++)o=t[p].removeFromSet(o);if(i.length==1&&o.length==0)u=i[0],a="add",d=p=>p.mark(u.addToSet(p.marks));else if(i.length==0&&o.length==1)u=o[0],a="remove",d=p=>p.mark(u.removeFromSet(p.marks));else return null;let f=[];for(let p=0;p<e.childCount;p++)f.push(d(e.child(p)));if(Q.from(f).eq(n))return{mark:u,type:a}}function HT(n,e,t,r,i){if(t-e<=i.pos-r.pos||Df(r,!0,!1)<i.pos)return!1;let o=n.resolve(e);if(!r.parent.isTextblock){let u=o.nodeAfter;return u!=null&&t==e+u.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=n.resolve(Df(o,!0,!0));return!a.parent.isTextblock||a.pos>t||Df(a,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function Df(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function WT(n,e,t,r,i){let o=n.findDiffStart(e,t);if(o==null)return null;let{a,b:u}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let d=Math.max(0,o-Math.min(a,u));r-=a+d-o}if(a<o&&n.size<e.size){let d=r<=o&&r>=a?o-r:0;o-=d,o&&o<e.size&&sx(e.textBetween(o-1,o+1))&&(o+=d?1:-1),u=o+(u-a),a=o}else if(u<o){let d=r<=o&&r>=u?o-r:0;o-=d,o&&o<n.size&&sx(n.textBetween(o-1,o+1))&&(o+=d?1:-1),a=o+(a-u),u=o}return{start:o,endA:a,endB:u}}function sx(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class VT{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new uT,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(cx),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=ax(this),lx(this),this.nodeViews=ux(this),this.docView=F0(this.state.doc,ox(this),Pf(this),this.dom,this),this.domObserver=new jT(this,(r,i,o,a)=>FT(this,r,i,o,a)),this.domObserver.start(),cT(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&gh(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(cx),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,o=!1,a=!1;e.storedMarks&&this.composing&&(_1(this),a=!0),this.state=e;let u=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(u||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let w=ux(this);qT(w,this.nodeViews)&&(this.nodeViews=w,o=!0)}(u||t.handleDOMEvents!=this._props.handleDOMEvents)&&gh(this),this.editable=ax(this),lx(this);let d=Pf(this),f=ox(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=o||!this.docView.matchesNode(e.doc,f,d);(m||!e.selection.eq(i.selection))&&(a=!0);let b=p=="preserve"&&a&&this.dom.style.overflowAnchor==null&&CM(this);if(a){this.domObserver.stop();let w=m&&(en||It)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&UT(i.selection,e.selection);if(m){let x=It?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=kT(this)),(o||!this.docView.update(e.doc,f,d,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=F0(e.doc,f,d,this.dom,this)),x&&!this.trackWrites&&(w=!0)}w||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&KM(this))?mr(this,w):(E1(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():b&&EM(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Ee){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&A0(this,t.getBoundingClientRect(),e)}else A0(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new F1(e.slice,e.move,i<0?void 0:Ee.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let u=this.directPlugins[a].props[e];if(u!=null&&(i=t?t(u):u))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let u=o[a].props[e];if(u!=null&&(i=t?t(u):u))return i}}hasFocus(){if(en){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&NM(this.dom),mr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return PM(this,e)}coordsAtPos(e,t=1){return y1(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return IM(this,t||this.state,e)}pasteHTML(e,t){return ml(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return ml(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(dT(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Pf(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,hM())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return hT(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Ht&&this.root.nodeType===11&&xM(this.dom.ownerDocument)==this.dom&&LT(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function ox(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[cn.node(0,n.state.doc.content.size,e)]}function lx(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:cn.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function ax(n){return!n.someProp("editable",e=>e(n.state)===!1)}function UT(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function ux(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function qT(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function cx(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ii={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},gu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},GT=typeof navigator<"u"&&/Mac/.test(navigator.platform),KT=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Tt=0;Tt<10;Tt++)ii[48+Tt]=ii[96+Tt]=String(Tt);for(var Tt=1;Tt<=24;Tt++)ii[Tt+111]="F"+Tt;for(var Tt=65;Tt<=90;Tt++)ii[Tt]=String.fromCharCode(Tt+32),gu[Tt]=String.fromCharCode(Tt);for(var jf in ii)gu.hasOwnProperty(jf)||(gu[jf]=ii[jf]);function JT(n){var e=GT&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||KT&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?gu:ii)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const YT=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function XT(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,o,a;for(let u=0;u<e.length-1;u++){let d=e[u];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))YT?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),a&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function QT(n){let e=Object.create(null);for(let t in n)e[XT(t)]=n[t];return e}function Af(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function ZT(n){return new Ct({props:{handleKeyDown:U1(n)}})}function U1(n){let e=QT(n);return function(t,r){let i=JT(r),o,a=e[Af(i,r)];if(a&&a(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let u=e[Af(i,r,!1)];if(u&&u(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=ii[r.keyCode])&&o!=i){let u=e[Af(o,r)];if(u&&u(t.state,t.dispatch,t))return!0}}return!1}}const e2=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function q1(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const t2=(n,e,t)=>{let r=q1(n,t);if(!r)return!1;let i=sp(r);if(!i){let a=r.blockRange(),u=a&&Vs(a);return u==null?!1:(e&&e(n.tr.lift(a,u).scrollIntoView()),!0)}let o=i.nodeBefore;if(Y1(n,i,e,-1))return!0;if(r.parent.content.size==0&&(As(o,"end")||Ee.isSelectable(o)))for(let a=r.depth;;a--){let u=ic(n.doc,r.before(a),r.after(a),le.empty);if(u&&u.slice.size<u.to-u.from){if(e){let d=n.tr.step(u);d.setSelection(As(o,"end")?je.findFrom(d.doc.resolve(d.mapping.map(i.pos,-1)),-1):Ee.create(d.doc,i.pos-o.nodeSize)),e(d.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},n2=(n,e,t)=>{let r=q1(n,t);if(!r)return!1;let i=sp(r);return i?G1(n,i,e):!1},r2=(n,e,t)=>{let r=K1(n,t);if(!r)return!1;let i=op(r);return i?G1(n,i,e):!1};function G1(n,e,t){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let a=e.nodeAfter,u=a,d=e.pos+1;for(;!u.isTextblock;d++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let f=ic(n.doc,o,d,le.empty);if(!f||f.from!=o||f instanceof xt&&f.slice.size>=d-o)return!1;if(t){let p=n.tr.step(f);p.setSelection(Pe.create(p.doc,o)),t(p.scrollIntoView())}return!0}function As(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const i2=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=sp(r)}let a=o&&o.nodeBefore;return!a||!Ee.isSelectable(a)?!1:(e&&e(n.tr.setSelection(Ee.create(n.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function sp(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function K1(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const s2=(n,e,t)=>{let r=K1(n,t);if(!r)return!1;let i=op(r);if(!i)return!1;let o=i.nodeAfter;if(Y1(n,i,e,1))return!0;if(r.parent.content.size==0&&(As(o,"start")||Ee.isSelectable(o))){let a=ic(n.doc,r.before(),r.after(),le.empty);if(a&&a.slice.size<a.to-a.from){if(e){let u=n.tr.step(a);u.setSelection(As(o,"start")?je.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):Ee.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},o2=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=op(r)}let a=o&&o.nodeAfter;return!a||!Ee.isSelectable(a)?!1:(e&&e(n.tr.setSelection(Ee.create(n.doc,o.pos)).scrollIntoView()),!0)};function op(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const l2=(n,e)=>{let t=n.selection,r=t instanceof Ee,i;if(r){if(t.node.isTextblock||!li(n.doc,t.from))return!1;i=t.from}else if(i=rc(n.doc,t.from,-1),i==null)return!1;if(e){let o=n.tr.join(i);r&&o.setSelection(Ee.create(o.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},a2=(n,e)=>{let t=n.selection,r;if(t instanceof Ee){if(t.node.isTextblock||!li(n.doc,t.to))return!1;r=t.to}else if(r=rc(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},u2=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),o=i&&Vs(i);return o==null?!1:(e&&e(n.tr.lift(i,o).scrollIntoView()),!0)},c2=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function J1(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const d2=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),o=t.indexAfter(-1),a=J1(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(e){let u=t.after(),d=n.tr.replaceWith(u,u,a.createAndFill());d.setSelection(je.near(d.doc.resolve(u),1)),e(d.scrollIntoView())}return!0},f2=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof bn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=J1(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,u=n.tr.insert(a,o.createAndFill());u.setSelection(Pe.create(u.doc,a+1)),e(u.scrollIntoView())}return!0},h2=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(Os(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),i=r&&Vs(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)},p2=(n,e)=>{let{$from:t,to:r}=n.selection,i,o=t.sharedDepth(r);return o==0?!1:(i=t.before(o),e&&e(n.tr.setSelection(Ee.create(n.doc,i))),!0)};function m2(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||li(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function Y1(n,e,t,r){let i=e.nodeBefore,o=e.nodeAfter,a,u,d=i.type.spec.isolating||o.type.spec.isolating;if(!d&&m2(n,e,t))return!0;let f=!d&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(a=(u=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&u.matchType(a[0]||o.type).validEnd){if(t){let w=e.pos+o.nodeSize,x=Q.empty;for(let v=a.length-1;v>=0;v--)x=Q.from(a[v].create(null,x));x=Q.from(i.copy(x));let E=n.tr.step(new wt(e.pos-1,w,e.pos,w,new le(x,1,0),a.length,!0)),S=E.doc.resolve(w+2*a.length);S.nodeAfter&&S.nodeAfter.type==i.type&&li(E.doc,S.pos)&&E.join(S.pos),t(E.scrollIntoView())}return!0}let p=o.type.spec.isolating||r>0&&d?null:je.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),b=m&&Vs(m);if(b!=null&&b>=e.depth)return t&&t(n.tr.lift(m,b).scrollIntoView()),!0;if(f&&As(o,"start",!0)&&As(i,"end")){let w=i,x=[];for(;x.push(w),!w.isTextblock;)w=w.lastChild;let E=o,S=1;for(;!E.isTextblock;E=E.firstChild)S++;if(w.canReplace(w.childCount,w.childCount,E.content)){if(t){let v=Q.empty;for(let N=x.length-1;N>=0;N--)v=Q.from(x[N].copy(v));let C=n.tr.step(new wt(e.pos-x.length,e.pos+o.nodeSize,e.pos+S,e.pos+o.nodeSize-S,new le(v,x.length,0),0,!0));t(C.scrollIntoView())}return!0}}return!1}function X1(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(t&&t(e.tr.setSelection(Pe.create(e.doc,n<0?i.start(o):i.end(o)))),!0):!1}}const g2=X1(-1),y2=X1(1);function x2(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,a=i.blockRange(o),u=a&&Jh(a,n,e);return u?(r&&r(t.tr.wrap(a,u).scrollIntoView()),!0):!1}}function dx(n,e=null){return function(t,r){let i=!1;for(let o=0;o<t.selection.ranges.length&&!i;o++){let{$from:{pos:a},$to:{pos:u}}=t.selection.ranges[o];t.doc.nodesBetween(a,u,(d,f)=>{if(i)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)i=!0;else{let p=t.doc.resolve(f),m=p.index();i=p.parent.canReplaceWith(m,m+1,n)}})}if(!i)return!1;if(r){let o=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:u},$to:{pos:d}}=t.selection.ranges[a];o.setBlockType(u,d,n,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function v2(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,a=i.blockRange(o);if(!a)return!1;let u=r?t.tr:null;return w2(u,a,n,e)?(r&&r(u.scrollIntoView()),!0):!1}}function w2(n,e,t,r=null){let i=!1,o=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=a.resolve(e.start-2);o=new uu(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new uu(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let u=Jh(o,t,r,e);return u?(n&&S2(n,e,u,i,t),!0):!1}function S2(n,e,t,r,i){let o=Q.empty;for(let p=t.length-1;p>=0;p--)o=Q.from(t[p].type.create(t[p].attrs,o));n.step(new wt(e.start-(r?2:0),e.end,e.start,e.end,new le(o,0,0),t.length,!0));let a=0;for(let p=0;p<t.length;p++)t[p].type==i&&(a=p+1);let u=t.length-a,d=e.start+t.length-(r?2:0),f=e.parent;for(let p=e.startIndex,m=e.endIndex,b=!0;p<m;p++,b=!1)!b&&Os(n.doc,d,u)&&(n.split(d,u),d+=2*u),d+=f.child(p).nodeSize;return n}function b2(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==n);return o?t?r.node(o.depth-1).type==n?k2(e,t,n,o):C2(e,t,o):!0:!1}}function k2(n,e,t,r){let i=n.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(i.step(new wt(o-1,a,o,a,new le(Q.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new uu(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const u=Vs(r);if(u==null)return!1;i.lift(r,u);let d=i.mapping.map(o,-1)-1;return li(i.doc,d)&&i.join(d),e(i.scrollIntoView()),!0}function C2(n,e,t){let r=n.tr,i=t.parent;for(let w=t.end,x=t.endIndex-1,E=t.startIndex;x>E;x--)w-=i.child(x).nodeSize,r.delete(w-1,w+1);let o=r.doc.resolve(t.start),a=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let u=t.startIndex==0,d=t.endIndex==i.childCount,f=o.node(-1),p=o.index(-1);if(!f.canReplace(p+(u?0:1),p+1,a.content.append(d?Q.empty:Q.from(i))))return!1;let m=o.pos,b=m+a.nodeSize;return r.step(new wt(m-(u?1:0),b+(d?1:0),m+1,b-1,new le((u?Q.empty:Q.from(i.copy(Q.empty))).append(d?Q.empty:Q.from(i.copy(Q.empty))),u?0:1,d?0:1),u?0:1)),e(r.scrollIntoView()),!0}function E2(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==n);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let u=o.parent,d=u.child(a-1);if(d.type!=n)return!1;if(t){let f=d.lastChild&&d.lastChild.type==u.type,p=Q.from(f?n.create():null),m=new le(Q.from(n.create(null,Q.from(u.type.create(null,p)))),f?3:1,0),b=o.start,w=o.end;t(e.tr.step(new wt(b-(f?3:1),w,b,w,m,1,!0)).scrollIntoView())}return!0}}function uc(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,o=t.storedMarks,t}}}class cc{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:o}=r,a=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([u,d])=>[u,(...p)=>{const m=d(...p)(a);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:o}=this,{view:a}=i,u=[],d=!!e,f=e||o.tr,p=()=>(!d&&t&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(f),u.every(b=>b===!0)),m={...Object.fromEntries(Object.entries(r).map(([b,w])=>[b,(...E)=>{const S=this.buildProps(f,t),v=w(...E)(S);return u.push(v),m}])),run:p};return m}createCan(e){const{rawCommands:t,state:r}=this,i=!1,o=e||r.tr,a=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(t).map(([d,f])=>[d,(...p)=>f(...p)({...a,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:o}=this,{view:a}=i,u={tr:e,editor:i,view:a,state:uc({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,f])=>[d,(...p)=>f(...p)(u)]))}};return u}}class N2{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function ge(n,e,t){return n.config[e]===void 0&&n.parent?ge(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?ge(n.parent,e,t):null}):n.config[e]}function dc(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function Q1(n){const e=[],{nodeExtensions:t,markExtensions:r}=dc(n),i=[...t,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage,extensions:i},d=ge(a,"addGlobalAttributes",u);if(!d)return;d().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([b,w])=>{e.push({type:m,name:b,attribute:{...o,...w}})})})})}),i.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage},d=ge(a,"addAttributes",u);if(!d)return;const f=d();Object.entries(f).forEach(([p,m])=>{const b={...o,...m};typeof(b==null?void 0:b.default)=="function"&&(b.default=b.default()),b!=null&&b.isRequired&&(b==null?void 0:b.default)===void 0&&delete b.default,e.push({type:a.name,name:p,attribute:b})})}),e}function bt(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function kt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const u=o?String(o).split(" "):[],d=r[i]?r[i].split(" "):[],f=u.filter(p=>!d.includes(p));r[i]=[...d,...f].join(" ")}else if(i==="style"){const u=o?o.split(";").map(p=>p.trim()).filter(Boolean):[],d=r[i]?r[i].split(";").map(p=>p.trim()).filter(Boolean):[],f=new Map;d.forEach(p=>{const[m,b]=p.split(":").map(w=>w.trim());f.set(m,b)}),u.forEach(p=>{const[m,b]=p.split(":").map(w=>w.trim());f.set(m,b)}),r[i]=Array.from(f.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[i]=o}),r},{})}function yh(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>kt(t,r),{})}function Z1(n){return typeof n=="function"}function Ie(n,e=void 0,...t){return Z1(n)?e?n.bind(e)(...t):n(...t):n}function O2(n={}){return Object.keys(n).length===0&&n.constructor===Object}function M2(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function fx(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((o,a)=>{const u=a.attribute.parseHTML?a.attribute.parseHTML(t):M2(t.getAttribute(a.name));return u==null?o:{...o,[a.name]:u}},{});return{...r,...i}}}}function hx(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&O2(t)?!1:t!=null))}function T2(n,e){var t;const r=Q1(n),{nodeExtensions:i,markExtensions:o}=dc(n),a=(t=i.find(f=>ge(f,"topNode")))===null||t===void 0?void 0:t.name,u=Object.fromEntries(i.map(f=>{const p=r.filter(v=>v.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},b=n.reduce((v,C)=>{const N=ge(C,"extendNodeSchema",m);return{...v,...N?N(f):{}}},{}),w=hx({...b,content:Ie(ge(f,"content",m)),marks:Ie(ge(f,"marks",m)),group:Ie(ge(f,"group",m)),inline:Ie(ge(f,"inline",m)),atom:Ie(ge(f,"atom",m)),selectable:Ie(ge(f,"selectable",m)),draggable:Ie(ge(f,"draggable",m)),code:Ie(ge(f,"code",m)),whitespace:Ie(ge(f,"whitespace",m)),linebreakReplacement:Ie(ge(f,"linebreakReplacement",m)),defining:Ie(ge(f,"defining",m)),isolating:Ie(ge(f,"isolating",m)),attrs:Object.fromEntries(p.map(v=>{var C;return[v.name,{default:(C=v==null?void 0:v.attribute)===null||C===void 0?void 0:C.default}]}))}),x=Ie(ge(f,"parseHTML",m));x&&(w.parseDOM=x.map(v=>fx(v,p)));const E=ge(f,"renderHTML",m);E&&(w.toDOM=v=>E({node:v,HTMLAttributes:yh(v,p)}));const S=ge(f,"renderText",m);return S&&(w.toText=S),[f.name,w]})),d=Object.fromEntries(o.map(f=>{const p=r.filter(S=>S.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},b=n.reduce((S,v)=>{const C=ge(v,"extendMarkSchema",m);return{...S,...C?C(f):{}}},{}),w=hx({...b,inclusive:Ie(ge(f,"inclusive",m)),excludes:Ie(ge(f,"excludes",m)),group:Ie(ge(f,"group",m)),spanning:Ie(ge(f,"spanning",m)),code:Ie(ge(f,"code",m)),attrs:Object.fromEntries(p.map(S=>{var v;return[S.name,{default:(v=S==null?void 0:S.attribute)===null||v===void 0?void 0:v.default}]}))}),x=Ie(ge(f,"parseHTML",m));x&&(w.parseDOM=x.map(S=>fx(S,p)));const E=ge(f,"renderHTML",m);return E&&(w.toDOM=S=>E({mark:S,HTMLAttributes:yh(S,p)})),[f.name,w]}));return new qv({topNode:a,nodes:u,marks:d})}function Lf(n,e){return e.nodes[n]||e.marks[n]||null}function px(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function lp(n,e){const t=Wi.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const R2=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,o,a,u)=>{var d,f;const p=((f=(d=i.type.spec).toText)===null||f===void 0?void 0:f.call(d,{node:i,pos:o,parent:a,index:u}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-o))}),t};function ap(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class fc{constructor(e){this.find=e.find,this.handler=e.handler}}const P2=(n,e)=>{if(ap(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function $a(n){var e;const{editor:t,from:r,to:i,text:o,rules:a,plugin:u}=n,{view:d}=t;if(d.composing)return!1;const f=d.state.doc.resolve(r);if(f.parent.type.spec.code||!((e=f.nodeBefore||f.nodeAfter)===null||e===void 0)&&e.marks.find(b=>b.type.spec.code))return!1;let p=!1;const m=R2(f)+o;return a.forEach(b=>{if(p)return;const w=P2(m,b.find);if(!w)return;const x=d.state.tr,E=uc({state:d.state,transaction:x}),S={from:r-(w[0].length-o.length),to:i},{commands:v,chain:C,can:N}=new cc({editor:t,state:E});b.handler({state:E,range:S,match:w,commands:v,chain:C,can:N})===null||!x.steps.length||(x.setMeta(u,{transform:x,from:r,to:i,text:o}),d.dispatch(x),p=!0)}),p}function D2(n){const{editor:e,rules:t}=n,r=new Ct({state:{init(){return null},apply(i,o,a){const u=i.getMeta(r);if(u)return u;const d=i.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=lp(Q.from(p),a.schema);const{from:m}=d,b=m+p.length;$a({editor:e,from:m,to:b,text:p,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,a,u){return $a({editor:e,from:o,to:a,text:u,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&$a({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?$a({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function j2(n){return Object.prototype.toString.call(n).slice(8,-1)}function Ha(n){return j2(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function hc(n,e){const t={...n};return Ha(n)&&Ha(e)&&Object.keys(e).forEach(r=>{Ha(e[r])&&Ha(n[r])?t[r]=hc(n[r],e[r]):t[r]=e[r]}),t}class gr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ie(ge(this,"addOptions",{name:this.name}))),this.storage=Ie(ge(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new gr(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>hc(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new gr(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ie(ge(t,"addOptions",{name:t.name})),t.storage=Ie(ge(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(f=>(f==null?void 0:f.type.name)===t.name))return!1;const d=a.find(f=>(f==null?void 0:f.type.name)===t.name);return d&&r.removeStoredMark(d),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function A2(n){return typeof n=="number"}class L2{constructor(e){this.find=e.find,this.handler=e.handler}}const I2=(n,e,t)=>{if(ap(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=n,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function z2(n){const{editor:e,state:t,from:r,to:i,rule:o,pasteEvent:a,dropEvent:u}=n,{commands:d,chain:f,can:p}=new cc({editor:e,state:t}),m=[];return t.doc.nodesBetween(r,i,(w,x)=>{if(!w.isTextblock||w.type.spec.code)return;const E=Math.max(r,x),S=Math.min(i,x+w.content.size),v=w.textBetween(E-x,S-x,void 0,"");I2(v,o.find,a).forEach(N=>{if(N.index===void 0)return;const T=E+N.index+1,M=T+N[0].length,P={from:t.tr.mapping.map(T),to:t.tr.mapping.map(M)},R=o.handler({state:t,range:P,match:N,commands:d,chain:f,can:p,pasteEvent:a,dropEvent:u});m.push(R)})}),m.every(w=>w!==null)}let Wa=null;const _2=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function B2(n){const{editor:e,rules:t}=n;let r=null,i=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const d=({state:p,from:m,to:b,rule:w,pasteEvt:x})=>{const E=p.tr,S=uc({state:p,transaction:E});if(!(!z2({editor:e,state:S,from:Math.max(m-1,0),to:b.b-1,rule:w,pasteEvent:x,dropEvent:u})||!E.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return t.map(p=>new Ct({view(m){const b=x=>{var E;r=!((E=m.dom.parentElement)===null||E===void 0)&&E.contains(x.target)?m.dom.parentElement:null,r&&(Wa=e)},w=()=>{Wa&&(Wa=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",w),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",w)}}},props:{handleDOMEvents:{drop:(m,b)=>{if(o=r===m.dom.parentElement,u=b,!o){const w=Wa;w&&setTimeout(()=>{const x=w.state.selection;x&&w.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(m,b)=>{var w;const x=(w=b.clipboardData)===null||w===void 0?void 0:w.getData("text/html");return a=b,i=!!(x!=null&&x.includes("data-pm-slice")),!1}}},appendTransaction:(m,b,w)=>{const x=m[0],E=x.getMeta("uiEvent")==="paste"&&!i,S=x.getMeta("uiEvent")==="drop"&&!o,v=x.getMeta("applyPasteRules"),C=!!v;if(!E&&!S&&!C)return;if(C){let{text:M}=v;typeof M=="string"?M=M:M=lp(Q.from(M),w.schema);const{from:P}=v,R=P+M.length,A=_2(M);return d({rule:p,state:w,from:P,to:{b:R},pasteEvt:A})}const N=b.doc.content.findDiffStart(w.doc.content),T=b.doc.content.findDiffEnd(w.doc.content);if(!(!A2(N)||!T||N===T.b))return d({rule:p,state:w,from:N,to:T,pasteEvt:a})}}))}function F2(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class ks{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=ks.resolve(e),this.schema=T2(this.extensions,t),this.setupExtensions()}static resolve(e){const t=ks.sort(ks.flatten(e)),r=F2(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=ge(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=ge(r,"priority")||100,a=ge(i,"priority")||100;return o>a?-1:o<a?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Lf(t.name,this.schema)},i=ge(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=ks.sort([...this.extensions].reverse()),r=[],i=[],o=t.map(a=>{const u={name:a.name,options:a.options,storage:a.storage,editor:e,type:Lf(a.name,this.schema)},d=[],f=ge(a,"addKeyboardShortcuts",u);let p={};if(a.type==="mark"&&ge(a,"exitable",u)&&(p.ArrowRight=()=>gr.handleExit({editor:e,mark:a})),f){const E=Object.fromEntries(Object.entries(f()).map(([S,v])=>[S,()=>v({editor:e})]));p={...p,...E}}const m=ZT(p);d.push(m);const b=ge(a,"addInputRules",u);px(a,e.options.enableInputRules)&&b&&r.push(...b());const w=ge(a,"addPasteRules",u);px(a,e.options.enablePasteRules)&&w&&i.push(...w());const x=ge(a,"addProseMirrorPlugins",u);if(x){const E=x();d.push(...E)}return d}).flat();return[D2({editor:e,rules:r}),...B2({editor:e,rules:i}),...o]}get attributes(){return Q1(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=dc(this.extensions);return Object.fromEntries(t.filter(r=>!!ge(r,"addNodeView")).map(r=>{const i=this.attributes.filter(d=>d.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:bt(r.name,this.schema)},a=ge(r,"addNodeView",o);if(!a)return[];const u=(d,f,p,m,b)=>{const w=yh(d,i);return a()({node:d,view:f,getPos:p,decorations:m,innerDecorations:b,editor:e,extension:r,HTMLAttributes:w})};return[r.name,u]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Lf(e.name,this.schema)};e.type==="mark"&&(!((t=Ie(ge(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=ge(e,"onBeforeCreate",r),o=ge(e,"onCreate",r),a=ge(e,"onUpdate",r),u=ge(e,"onSelectionUpdate",r),d=ge(e,"onTransaction",r),f=ge(e,"onFocus",r),p=ge(e,"onBlur",r),m=ge(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),a&&this.editor.on("update",a),u&&this.editor.on("selectionUpdate",u),d&&this.editor.on("transaction",d),f&&this.editor.on("focus",f),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}}class zt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ie(ge(this,"addOptions",{name:this.name}))),this.storage=Ie(ge(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new zt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>hc(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new zt({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ie(ge(t,"addOptions",{name:t.name})),t.storage=Ie(ge(t,"addStorage",{name:t.name,options:t.options})),t}}function ew(n,e,t){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:a={}}=t||{};let u="";return n.nodesBetween(r,i,(d,f,p,m)=>{var b;d.isBlock&&f>r&&(u+=o);const w=a==null?void 0:a[d.type.name];if(w)return p&&(u+=w({node:d,pos:f,parent:p,index:m,range:e})),!1;d.isText&&(u+=(b=d==null?void 0:d.text)===null||b===void 0?void 0:b.slice(Math.max(r,f)-f,i-f))}),u}function tw(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const $2=zt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ct({key:new nn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:o}=i,a=Math.min(...o.map(p=>p.$from.pos)),u=Math.max(...o.map(p=>p.$to.pos)),d=tw(t);return ew(r,{from:a,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),H2=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),W2=(n=!1)=>({commands:e})=>e.setContent("",n),V2=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:o,$to:a})=>{n.doc.nodesBetween(o.pos,a.pos,(u,d)=>{if(u.type.isText)return;const{doc:f,mapping:p}=e,m=f.resolve(p.map(d)),b=f.resolve(p.map(d+u.nodeSize)),w=m.blockRange(b);if(!w)return;const x=Vs(w);if(u.type.isTextblock){const{defaultType:E}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(w.start,E)}(x||x===0)&&e.lift(w,x)})}),!0},U2=n=>e=>n(e),q2=()=>({state:n,dispatch:e})=>f2(n,e),G2=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,o=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const a=r.mapping.map(e);return r.insert(a,o.content),r.setSelection(new Pe(r.doc.resolve(a-1))),!0},K2=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const u=i.before(o),d=i.after(o);n.delete(u,d).scrollIntoView()}return!0}return!1},J2=n=>({tr:e,state:t,dispatch:r})=>{const i=bt(n,t.schema),o=e.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(r){const d=o.before(a),f=o.after(a);e.delete(d,f).scrollIntoView()}return!0}return!1},Y2=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},X2=()=>({state:n,dispatch:e})=>e2(n,e),Q2=()=>({commands:n})=>n.keyboardShortcut("Enter"),Z2=()=>({state:n,dispatch:e})=>d2(n,e);function yu(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:ap(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function nw(n,e,t={}){return n.find(r=>r.type===e&&yu(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function mx(n,e,t={}){return!!nw(n,e,t)}function up(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!nw([...i.node.marks],e,t)))return;let a=i.index,u=n.start()+i.offset,d=a+1,f=u+i.node.nodeSize;for(;a>0&&mx([...n.parent.child(a-1).marks],e,t);)a-=1,u-=n.parent.child(a).nodeSize;for(;d<n.parent.childCount&&mx([...n.parent.child(d).marks],e,t);)f+=n.parent.child(d).nodeSize,d+=1;return{from:u,to:f}}function ui(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const eR=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const o=ui(n,r.schema),{doc:a,selection:u}=t,{$from:d,from:f,to:p}=u;if(i){const m=up(d,o,e);if(m&&m.from<=f&&m.to>=p){const b=Pe.create(a,m.from,m.to);t.setSelection(b)}}return!0},tR=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function rw(n){return n instanceof Pe}function Pi(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function iw(n,e=null){if(!e)return null;const t=je.atStart(n),r=je.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,o=r.to;return e==="all"?Pe.create(n,Pi(0,i,o),Pi(n.content.size,i,o)):Pe.create(n,Pi(e,i,o),Pi(e,i,o))}function nR(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function cp(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const rR=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const a=()=>{(cp()||nR())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!rw(t.state.selection))return a(),!0;const u=iw(i.doc,n)||t.state.selection,d=t.state.selection.eq(u);return o&&(d||i.setSelection(u),d&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},iR=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),sR=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),sw=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&sw(r)}return n};function Va(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return sw(t)}function xu(n,e,t){if(n instanceof Qr||n instanceof Q)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return Q.fromArray(n.map(u=>e.nodeFromJSON(u)));const a=e.nodeFromJSON(n);return t.errorOnInvalidContent&&a.check(),a}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),xu("",e,t)}if(i){if(t.errorOnInvalidContent){let a=!1,u="";const d=new qv({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(a=!0,u=typeof f=="string"?f:f.outerHTML,null)}]}})});if(t.slice?Zr.fromSchema(d).parseSlice(Va(n),t.parseOptions):Zr.fromSchema(d).parse(Va(n),t.parseOptions),t.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const o=Zr.fromSchema(e);return t.slice?o.parseSlice(Va(n),t.parseOptions).content:o.parse(Va(n),t.parseOptions)}return xu("",e,t)}function oR(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof xt||i instanceof wt))return;const o=n.mapping.maps[r];let a=0;o.forEach((u,d,f,p)=>{a===0&&(a=p)}),n.setSelection(je.near(n.doc.resolve(a),t))}const lR=n=>!("type"in n),aR=(n,e,t)=>({tr:r,dispatch:i,editor:o})=>{var a;if(i){t={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let u;try{u=xu(e,o.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(a=t.errorOnInvalidContent)!==null&&a!==void 0?a:o.options.enableContentCheck})}catch(x){return o.emit("contentError",{editor:o,error:x,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:d,to:f}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},p=!0,m=!0;if((lR(u)?u:[u]).forEach(x=>{x.check(),p=p?x.isText&&x.marks.length===0:!1,m=m?x.isBlock:!1}),d===f&&m){const{parent:x}=r.doc.resolve(d);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(d-=1,f+=1)}let w;if(p){if(Array.isArray(e))w=e.map(x=>x.text||"").join("");else if(e instanceof Q){let x="";e.forEach(E=>{E.text&&(x+=E.text)}),w=x}else typeof e=="object"&&e&&e.text?w=e.text:w=e;r.insertText(w,d,f)}else w=u,r.replaceWith(d,f,w);t.updateSelection&&oR(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:w}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:w})}return!0},uR=()=>({state:n,dispatch:e})=>l2(n,e),cR=()=>({state:n,dispatch:e})=>a2(n,e),dR=()=>({state:n,dispatch:e})=>t2(n,e),fR=()=>({state:n,dispatch:e})=>s2(n,e),hR=()=>({state:n,dispatch:e,tr:t})=>{try{const r=rc(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},pR=()=>({state:n,dispatch:e,tr:t})=>{try{const r=rc(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},mR=()=>({state:n,dispatch:e})=>n2(n,e),gR=()=>({state:n,dispatch:e})=>r2(n,e);function ow(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function yR(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,o,a;for(let u=0;u<e.length-1;u+=1){const d=e[u];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))cp()||ow()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}const xR=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const o=yR(n).split(/-(?!$)/),a=o.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),u=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",f=>f(t,u))});return d==null||d.steps.forEach(f=>{const p=f.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};function yl(n,e,t={}){const{from:r,to:i,empty:o}=n.selection,a=e?bt(e,n.schema):null,u=[];n.doc.nodesBetween(r,i,(m,b)=>{if(m.isText)return;const w=Math.max(r,b),x=Math.min(i,b+m.nodeSize);u.push({node:m,from:w,to:x})});const d=i-r,f=u.filter(m=>a?a.name===m.node.type.name:!0).filter(m=>yu(m.node.attrs,t,{strict:!1}));return o?!!f.length:f.reduce((m,b)=>m+b.to-b.from,0)>=d}const vR=(n,e={})=>({state:t,dispatch:r})=>{const i=bt(n,t.schema);return yl(t,i,e)?u2(t,r):!1},wR=()=>({state:n,dispatch:e})=>h2(n,e),SR=n=>({state:e,dispatch:t})=>{const r=bt(n,e.schema);return b2(r)(e,t)},bR=()=>({state:n,dispatch:e})=>c2(n,e);function pc(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function gx(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const kR=(n,e)=>({tr:t,state:r,dispatch:i})=>{let o=null,a=null;const u=pc(typeof n=="string"?n:n.name,r.schema);return u?(u==="node"&&(o=bt(n,r.schema)),u==="mark"&&(a=ui(n,r.schema)),i&&t.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(f,p)=>{o&&o===f.type&&t.setNodeMarkup(p,void 0,gx(f.attrs,e)),a&&f.marks.length&&f.marks.forEach(m=>{a===m.type&&t.addMark(p,p+f.nodeSize,a.create(gx(m.attrs,e)))})})}),!0):!1},CR=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),ER=()=>({tr:n,dispatch:e})=>{if(e){const t=new bn(n.doc);n.setSelection(t)}return!0},NR=()=>({state:n,dispatch:e})=>i2(n,e),OR=()=>({state:n,dispatch:e})=>o2(n,e),MR=()=>({state:n,dispatch:e})=>p2(n,e),TR=()=>({state:n,dispatch:e})=>y2(n,e),RR=()=>({state:n,dispatch:e})=>g2(n,e);function xh(n,e,t={},r={}){return xu(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const PR=(n,e=!1,t={},r={})=>({editor:i,tr:o,dispatch:a,commands:u})=>{var d,f;const{doc:p}=o;if(t.preserveWhitespace!=="full"){const m=xh(n,i.schema,t,{errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:i.options.enableContentCheck});return a&&o.replaceWith(0,p.content.size,m).setMeta("preventUpdate",!e),!0}return a&&o.setMeta("preventUpdate",!e),u.insertContentAt({from:0,to:p.content.size},n,{parseOptions:t,errorOnInvalidContent:(f=r.errorOnInvalidContent)!==null&&f!==void 0?f:i.options.enableContentCheck})};function lw(n,e){const t=ui(e,n.schema),{from:r,to:i,empty:o}=n.selection,a=[];o?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,d=>{a.push(...d.marks)});const u=a.find(d=>d.type.name===t.name);return u?{...u.attrs}:{}}function DR(n,e){const t=new a1(n);return e.forEach(r=>{r.steps.forEach(i=>{t.step(i)})}),t}function jR(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function AR(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(i,o)=>{t(i)&&r.push({node:i,pos:o})}),r}function LR(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function dp(n){return e=>LR(e.$from,n)}function IR(n,e){const t={from:0,to:n.content.size};return ew(n,t,e)}function zR(n,e){const t=bt(e,n.schema),{from:r,to:i}=n.selection,o=[];n.doc.nodesBetween(r,i,u=>{o.push(u)});const a=o.reverse().find(u=>u.type.name===t.name);return a?{...a.attrs}:{}}function aw(n,e){const t=pc(typeof e=="string"?e:e.name,n.schema);return t==="node"?zR(n,e):t==="mark"?lw(n,e):{}}function _R(n,e=JSON.stringify){const t={};return n.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function BR(n){const e=_R(n);return e.length===1?e:e.filter((t,r)=>!e.filter((o,a)=>a!==r).some(o=>t.oldRange.from>=o.oldRange.from&&t.oldRange.to<=o.oldRange.to&&t.newRange.from>=o.newRange.from&&t.newRange.to<=o.newRange.to))}function FR(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((i,o)=>{const a=[];if(i.ranges.length)i.forEach((u,d)=>{a.push({from:u,to:d})});else{const{from:u,to:d}=t[o];if(u===void 0||d===void 0)return;a.push({from:u,to:d})}a.forEach(({from:u,to:d})=>{const f=e.slice(o).map(u,-1),p=e.slice(o).map(d),m=e.invert().map(f,-1),b=e.invert().map(p);r.push({oldRange:{from:m,to:b},newRange:{from:f,to:p}})})}),BR(r)}function fp(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const o=t.resolve(n),a=up(o,i.type);a&&r.push({mark:i,...a})}):t.nodesBetween(n,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),r}function eu(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function vh(n,e,t={}){const{empty:r,ranges:i}=n.selection,o=e?ui(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(m=>o?o.name===m.type.name:!0).find(m=>yu(m.attrs,t,{strict:!1}));let a=0;const u=[];if(i.forEach(({$from:m,$to:b})=>{const w=m.pos,x=b.pos;n.doc.nodesBetween(w,x,(E,S)=>{if(!E.isText&&!E.marks.length)return;const v=Math.max(w,S),C=Math.min(x,S+E.nodeSize),N=C-v;a+=N,u.push(...E.marks.map(T=>({mark:T,from:v,to:C})))})}),a===0)return!1;const d=u.filter(m=>o?o.name===m.mark.type.name:!0).filter(m=>yu(m.mark.attrs,t,{strict:!1})).reduce((m,b)=>m+b.to-b.from,0),f=u.filter(m=>o?m.mark.type!==o&&m.mark.type.excludes(o):!0).reduce((m,b)=>m+b.to-b.from,0);return(d>0?d+f:d)>=a}function $R(n,e,t={}){if(!e)return yl(n,null,t)||vh(n,null,t);const r=pc(e,n.schema);return r==="node"?yl(n,e,t):r==="mark"?vh(n,e,t):!1}function yx(n,e){const{nodeExtensions:t}=dc(e),r=t.find(a=>a.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Ie(ge(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function mc(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(o=>{i!==!1&&(mc(o,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function HR(n){return n instanceof Ee}function WR(n,e,t){var r;const{selection:i}=e;let o=null;if(rw(i)&&(o=i.$cursor),o){const u=(r=n.storedMarks)!==null&&r!==void 0?r:o.marks();return!!t.isInSet(u)||!u.some(d=>d.type.excludes(t))}const{ranges:a}=i;return a.some(({$from:u,$to:d})=>{let f=u.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(u.pos,d.pos,(p,m,b)=>{if(f)return!1;if(p.isInline){const w=!b||b.type.allowsMarkType(t),x=!!t.isInSet(p.marks)||!p.marks.some(E=>E.type.excludes(t));f=w&&x}return!f}),f})}const VR=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:o}=t,{empty:a,ranges:u}=o,d=ui(n,r.schema);if(i)if(a){const f=lw(r,d);t.addStoredMark(d.create({...f,...e}))}else u.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(p,m,(b,w)=>{const x=Math.max(w,p),E=Math.min(w+b.nodeSize,m);b.marks.find(v=>v.type===d)?b.marks.forEach(v=>{d===v.type&&t.addMark(x,E,d.create({...v.attrs,...e}))}):t.addMark(x,E,d.create(e))})});return WR(r,t,d)},UR=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),qR=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const o=bt(n,t.schema);let a;return t.selection.$anchor.sameParent(t.selection.$head)&&(a=t.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:u})=>dx(o,{...a,...e})(t)?!0:u.clearNodes()).command(({state:u})=>dx(o,{...a,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},GR=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=Pi(n,0,r.content.size),o=Ee.create(r,i);e.setSelection(o)}return!0},KR=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:o}=typeof n=="number"?{from:n,to:n}:n,a=Pe.atStart(r).from,u=Pe.atEnd(r).to,d=Pi(i,a,u),f=Pi(o,a,u),p=Pe.create(r,d,f);e.setSelection(p)}return!0},JR=n=>({state:e,dispatch:t})=>{const r=bt(n,e.schema);return E2(r)(e,t)};function xx(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const YR=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:o,doc:a}=e,{$from:u,$to:d}=o,f=i.extensionManager.attributes,p=eu(f,u.node().type.name,u.node().attrs);if(o instanceof Ee&&o.node.isBlock)return!u.parentOffset||!Os(a,u.pos)?!1:(r&&(n&&xx(t,i.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const m=d.parentOffset===d.parent.content.size,b=u.depth===0?void 0:jR(u.node(-1).contentMatchAt(u.indexAfter(-1)));let w=m&&b?[{type:b,attrs:p}]:void 0,x=Os(e.doc,e.mapping.map(u.pos),1,w);if(!w&&!x&&Os(e.doc,e.mapping.map(u.pos),1,b?[{type:b}]:void 0)&&(x=!0,w=b?[{type:b,attrs:p}]:void 0),r){if(x&&(o instanceof Pe&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,w),b&&!m&&!u.parentOffset&&u.parent.type!==b)){const E=e.mapping.map(u.before()),S=e.doc.resolve(E);u.node(-1).canReplaceWith(S.index(),S.index()+1,b)&&e.setNodeMarkup(e.mapping.map(u.before()),b)}n&&xx(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return x},XR=(n,e={})=>({tr:t,state:r,dispatch:i,editor:o})=>{var a;const u=bt(n,r.schema),{$from:d,$to:f}=r.selection,p=r.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(f))return!1;const m=d.node(-1);if(m.type!==u)return!1;const b=o.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==u||d.index(-2)!==d.node(-2).childCount-1)return!1;if(i){let v=Q.empty;const C=d.index(-1)?1:d.index(-2)?2:3;for(let A=d.depth-C;A>=d.depth-3;A-=1)v=Q.from(d.node(A).copy(v));const N=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,T={...eu(b,d.node().type.name,d.node().attrs),...e},M=((a=u.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(T))||void 0;v=v.append(Q.from(u.createAndFill(null,M)||void 0));const P=d.before(d.depth-(C-1));t.replace(P,d.after(-N),new le(v,4-C,0));let R=-1;t.doc.nodesBetween(P,t.doc.content.size,(A,L)=>{if(R>-1)return!1;A.isTextblock&&A.content.size===0&&(R=L+1)}),R>-1&&t.setSelection(Pe.near(t.doc.resolve(R))),t.scrollIntoView()}return!0}const w=f.pos===d.end()?m.contentMatchAt(0).defaultType:null,x={...eu(b,m.type.name,m.attrs),...e},E={...eu(b,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,f.pos);const S=w?[{type:u,attrs:x},{type:w,attrs:E}]:[{type:u,attrs:x}];if(!Os(t.doc,d.pos,2))return!1;if(i){const{selection:v,storedMarks:C}=r,{splittableMarks:N}=o.extensionManager,T=C||v.$to.parentOffset&&v.$from.marks();if(t.split(d.pos,2,S).scrollIntoView(),!T||!i)return!0;const M=T.filter(P=>N.includes(P.type.name));t.ensureMarks(M)}return!0},If=(n,e)=>{const t=dp(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&li(n.doc,t.pos)&&n.join(t.pos),!0},zf=(n,e)=>{const t=dp(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&li(n.doc,r)&&n.join(r),!0},QR=(n,e,t,r={})=>({editor:i,tr:o,state:a,dispatch:u,chain:d,commands:f,can:p})=>{const{extensions:m,splittableMarks:b}=i.extensionManager,w=bt(n,a.schema),x=bt(e,a.schema),{selection:E,storedMarks:S}=a,{$from:v,$to:C}=E,N=v.blockRange(C),T=S||E.$to.parentOffset&&E.$from.marks();if(!N)return!1;const M=dp(P=>yx(P.type.name,m))(E);if(N.depth>=1&&M&&N.depth-M.depth<=1){if(M.node.type===w)return f.liftListItem(x);if(yx(M.node.type.name,m)&&w.validContent(M.node.content)&&u)return d().command(()=>(o.setNodeMarkup(M.pos,w),!0)).command(()=>If(o,w)).command(()=>zf(o,w)).run()}return!t||!T||!u?d().command(()=>p().wrapInList(w,r)?!0:f.clearNodes()).wrapInList(w,r).command(()=>If(o,w)).command(()=>zf(o,w)).run():d().command(()=>{const P=p().wrapInList(w,r),R=T.filter(A=>b.includes(A.type.name));return o.ensureMarks(R),P?!0:f.clearNodes()}).wrapInList(w,r).command(()=>If(o,w)).command(()=>zf(o,w)).run()},ZR=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=t,a=ui(n,r.schema);return vh(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,e)},eP=(n,e,t={})=>({state:r,commands:i})=>{const o=bt(n,r.schema),a=bt(e,r.schema),u=yl(r,o,t);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),u?i.setNode(a,d):i.setNode(o,{...d,...t})},tP=(n,e={})=>({state:t,commands:r})=>{const i=bt(n,t.schema);return yl(t,i,e)?r.lift(i):r.wrapIn(i,e)},nP=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let o;if(i.spec.isInputRules&&(o=i.getState(n))){if(e){const a=n.tr,u=o.transform;for(let d=u.steps.length-1;d>=0;d-=1)a.step(u.steps[d].invert(u.docs[d]));if(o.text){const d=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,n.schema.text(o.text,d))}else a.delete(o.from,o.to)}return!0}}return!1},rP=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},iP=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:a=!1}=e,{selection:u}=t,d=ui(n,r.schema),{$from:f,empty:p,ranges:m}=u;if(!i)return!0;if(p&&a){let{from:b,to:w}=u;const x=(o=f.marks().find(S=>S.type===d))===null||o===void 0?void 0:o.attrs,E=up(f,d,x);E&&(b=E.from,w=E.to),t.removeMark(b,w,d)}else m.forEach(b=>{t.removeMark(b.$from.pos,b.$to.pos,d)});return t.removeStoredMark(d),!0},sP=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let o=null,a=null;const u=pc(typeof n=="string"?n:n.name,r.schema);return u?(u==="node"&&(o=bt(n,r.schema)),u==="mark"&&(a=ui(n,r.schema)),i&&t.selection.ranges.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;let m,b,w,x;t.selection.empty?r.doc.nodesBetween(f,p,(E,S)=>{o&&o===E.type&&(w=Math.max(S,f),x=Math.min(S+E.nodeSize,p),m=S,b=E)}):r.doc.nodesBetween(f,p,(E,S)=>{S<f&&o&&o===E.type&&(w=Math.max(S,f),x=Math.min(S+E.nodeSize,p),m=S,b=E),S>=f&&S<=p&&(o&&o===E.type&&t.setNodeMarkup(S,void 0,{...E.attrs,...e}),a&&E.marks.length&&E.marks.forEach(v=>{if(a===v.type){const C=Math.max(S,f),N=Math.min(S+E.nodeSize,p);t.addMark(C,N,a.create({...v.attrs,...e}))}}))}),b&&(m!==void 0&&t.setNodeMarkup(m,void 0,{...b.attrs,...e}),a&&b.marks.length&&b.marks.forEach(E=>{a===E.type&&t.addMark(w,x,a.create({...E.attrs,...e}))}))}),!0):!1},oP=(n,e={})=>({state:t,dispatch:r})=>{const i=bt(n,t.schema);return x2(i,e)(t,r)},lP=(n,e={})=>({state:t,dispatch:r})=>{const i=bt(n,t.schema);return v2(i,e)(t,r)};var aP=Object.freeze({__proto__:null,blur:H2,clearContent:W2,clearNodes:V2,command:U2,createParagraphNear:q2,cut:G2,deleteCurrentNode:K2,deleteNode:J2,deleteRange:Y2,deleteSelection:X2,enter:Q2,exitCode:Z2,extendMarkRange:eR,first:tR,focus:rR,forEach:iR,insertContent:sR,insertContentAt:aR,joinBackward:dR,joinDown:cR,joinForward:fR,joinItemBackward:hR,joinItemForward:pR,joinTextblockBackward:mR,joinTextblockForward:gR,joinUp:uR,keyboardShortcut:xR,lift:vR,liftEmptyBlock:wR,liftListItem:SR,newlineInCode:bR,resetAttributes:kR,scrollIntoView:CR,selectAll:ER,selectNodeBackward:NR,selectNodeForward:OR,selectParentNode:MR,selectTextblockEnd:TR,selectTextblockStart:RR,setContent:PR,setMark:VR,setMeta:UR,setNode:qR,setNodeSelection:GR,setTextSelection:KR,sinkListItem:JR,splitBlock:YR,splitListItem:XR,toggleList:QR,toggleMark:ZR,toggleNode:eP,toggleWrap:tP,undoInputRule:nP,unsetAllMarks:rP,unsetMark:iP,updateAttributes:sP,wrapIn:oP,wrapInList:lP});const uP=zt.create({name:"commands",addCommands(){return{...aP}}}),cP=zt.create({name:"drop",addProseMirrorPlugins(){return[new Ct({key:new nn("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),dP=zt.create({name:"editable",addProseMirrorPlugins(){return[new Ct({key:new nn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),fP=zt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Ct({key:new nn("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),hP=zt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:u})=>{const{selection:d,doc:f}=u,{empty:p,$anchor:m}=d,{pos:b,parent:w}=m,x=m.parent.isTextblock&&b>0?u.doc.resolve(b-1):m,E=x.parent.type.spec.isolating,S=m.pos-m.parentOffset,v=E&&x.parent.childCount===1?S===m.pos:je.atStart(f).from===b;return!p||!w.type.isTextblock||w.textContent.length||!v||v&&m.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return cp()||ow()?o:i},addProseMirrorPlugins(){return[new Ct({key:new nn("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(E=>E.getMeta("composition")))return;const r=n.some(E=>E.docChanged)&&!e.doc.eq(t.doc),i=n.some(E=>E.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:a,to:u}=e.selection,d=je.atStart(e.doc).from,f=je.atEnd(e.doc).to;if(o||!(a===d&&u===f)||!mc(t.doc))return;const b=t.tr,w=uc({state:t,transaction:b}),{commands:x}=new cc({editor:this.editor,state:w});if(x.clearNodes(),!!b.steps.length)return b}})]}}),pP=zt.create({name:"paste",addProseMirrorPlugins(){return[new Ct({key:new nn("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),mP=zt.create({name:"tabindex",addProseMirrorPlugins(){return[new Ct({key:new nn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Mi{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Mi(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Mi(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Mi(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,o=t.isAtom&&!t.isText,a=this.pos+r+(o?0:1),u=this.resolvedPos.doc.resolve(a);if(!i&&u.depth<=this.depth)return;const d=new Mi(u,this.editor,i,i?t:null);i&&(d.actualDepth=this.depth+1),e.push(new Mi(u,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const o=i.node.attrs,a=Object.keys(t);for(let u=0;u<a.length;u+=1){const d=a[u];if(o[d]!==t[d])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(t);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&o.every(d=>t[d]===a.node.attrs[d])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const gP=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function yP(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}class xP extends N2{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=yP(gP,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=Z1(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(o=>{const a=typeof o=="string"?`${o}$`:o.key;r=t.filter(u=>!u.key.startsWith(a))}),t.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[dP,$2.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),uP,fP,hP,mP,cP,pP].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new ks(i,this)}createCommandManager(){this.commandManager=new cc({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=xh(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(u=>u.name!=="collaboration"),this.createExtensionManager()}}),t=xh(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=iw(t,this.options.autofocus);this.view=new VT(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:bs.create({doc:t,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var u;return(u=this.capturedTransaction)===null||u===void 0?void 0:u.step(a)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return aw(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return $R(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return lp(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return IR(this.state.doc,{blockSeparator:t,textSerializers:{...tw(this.schema),...r}})}get isEmpty(){return mc(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Mi(t,this)}get $doc(){return this.$pos(0)}}function Ls(n){return new fc({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Ie(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,a=r[r.length-1],u=r[0];if(a){const d=u.search(/\S/),f=t.from+u.indexOf(a),p=f+a.length;if(fp(t.from,t.to,e.doc).filter(w=>w.mark.type.excluded.find(E=>E===n.type&&E!==w.mark.type)).filter(w=>w.to>f).length)return null;p<t.to&&o.delete(p,t.to),f>t.from&&o.delete(t.from+d,f);const b=t.from+d+a.length;o.addMark(t.from+d,b,n.type.create(i||{})),o.removeStoredMark(n.type)}}})}function uw(n){return new fc({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Ie(n.getAttributes,void 0,r)||{},{tr:o}=e,a=t.from;let u=t.to;const d=n.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let p=a+f;p>u?p=u:u=p+r[1].length;const m=r[0][r[0].length-1];o.insertText(m,a+r[0].length-1),o.replaceWith(p,u,d)}else if(r[0]){const f=n.type.isInline?a:a-1;o.insert(f,n.type.create(i)).delete(o.mapping.map(a),o.mapping.map(u))}o.scrollIntoView()}})}function wh(n){return new fc({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),o=Ie(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,o)}})}function xl(n){return new fc({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const o=Ie(n.getAttributes,void 0,r)||{},a=e.tr.delete(t.from,t.to),d=a.doc.resolve(t.from).blockRange(),f=d&&Jh(d,n.type,o);if(!f)return null;if(a.wrap(d,f),n.keepMarks&&n.editor){const{selection:m,storedMarks:b}=e,{splittableMarks:w}=n.editor.extensionManager,x=b||m.$to.parentOffset&&m.$from.marks();if(x){const E=x.filter(S=>w.includes(S.type.name));a.ensureMarks(E)}}if(n.keepAttributes){const m=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,o).run()}const p=a.doc.resolve(t.from-1).nodeBefore;p&&p.type===n.type&&li(a.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,p))&&a.join(t.from-1)}})}class Ut{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ie(ge(this,"addOptions",{name:this.name}))),this.storage=Ie(ge(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ut(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>hc(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Ut(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ie(ge(t,"addOptions",{name:t.name})),t.storage=Ie(ge(t,"addStorage",{name:t.name,options:t.options})),t}}function Hi(n){return new L2({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const o=Ie(n.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:a}=e,u=r[r.length-1],d=r[0];let f=t.to;if(u){const p=d.search(/\S/),m=t.from+d.indexOf(u),b=m+u.length;if(fp(t.from,t.to,e.doc).filter(x=>x.mark.type.excluded.find(S=>S===n.type&&S!==x.mark.type)).filter(x=>x.to>m).length)return null;b<t.to&&a.delete(b,t.to),m>t.from&&a.delete(t.from+p,m),f=t.from+p+u.length,a.addMark(t.from+p,f,n.type.create(o||{})),a.removeStoredMark(n.type)}}})}function vP(n){return n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cw={exports:{}},_f={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx;function wP(){if(vx)return _f;vx=1;var n=$t;function e(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,o=n.useLayoutEffect,a=n.useDebugValue;function u(m,b){var w=b(),x=r({inst:{value:w,getSnapshot:b}}),E=x[0].inst,S=x[1];return o(function(){E.value=w,E.getSnapshot=b,d(E)&&S({inst:E})},[m,w,b]),i(function(){return d(E)&&S({inst:E}),m(function(){d(E)&&S({inst:E})})},[m]),a(w),w}function d(m){var b=m.getSnapshot;m=m.value;try{var w=b();return!t(m,w)}catch{return!0}}function f(m,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return _f.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,_f}cw.exports=wP();var hp=cw.exports;const SP=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},bP=({contentComponent:n})=>{const e=hp.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return $t.createElement($t.Fragment,null,Object.values(e))};function kP(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:KN.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}class CP extends $t.Component{constructor(e){var t;super(e),this.editorContentRef=$t.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=kP(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return $t.createElement($t.Fragment,null,$t.createElement("div",{ref:SP(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&$t.createElement(bP,{contentComponent:e.contentComponent}))}}const EP=D.forwardRef((n,e)=>{const t=$t.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return $t.createElement(CP,{key:t,innerRef:e,...n})}),NP=$t.memo(EP);var OP=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!==0;){var a=o[i];if(!(a==="_owner"&&e.$$typeof)&&!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t},MP=vP(OP),dw={exports:{}},Bf={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx;function TP(){if(wx)return Bf;wx=1;var n=$t,e=hp;function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,o=n.useRef,a=n.useEffect,u=n.useMemo,d=n.useDebugValue;return Bf.useSyncExternalStoreWithSelector=function(f,p,m,b,w){var x=o(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=u(function(){function v(P){if(!C){if(C=!0,N=P,P=b(P),w!==void 0&&E.hasValue){var R=E.value;if(w(R,P))return T=R}return T=P}if(R=T,r(N,P))return R;var A=b(P);return w!==void 0&&w(R,A)?R:(N=P,T=A)}var C=!1,N,T,M=m===void 0?null:m;return[function(){return v(p())},M===null?void 0:function(){return v(M())}]},[p,m,b,w]);var S=i(f,x[0],x[1]);return a(function(){E.hasValue=!0,E.value=S},[S]),d(S),S},Bf}dw.exports=TP();var RP=dw.exports;const PP=typeof window<"u"?D.useLayoutEffect:D.useEffect;class DP{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function jP(n){var e;const[t]=D.useState(()=>new DP(n.editor)),r=RP.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:MP);return PP(()=>t.watch(n.editor),[n.editor,t]),D.useDebugValue(r),r}const AP=!1,Sh=typeof window>"u",LP=Sh||!!(typeof window<"u"&&window.next);class pp{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Sh||LP?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)===null||o===void 0?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)===null||o===void 0?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)===null||o===void 0?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)===null||o===void 0?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)===null||o===void 0?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)===null||o===void 0?void 0:o.call(i,...r)}};return new xP(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((i,o)=>{var a;return i===((a=t.extensions)===null||a===void 0?void 0:a[o])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?pp.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function IP(n={},e=[]){const t=D.useRef(n);t.current=n;const[r]=D.useState(()=>new pp(t)),i=hp.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return D.useDebugValue(i),D.useEffect(r.onRender(e)),jP({editor:i,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&o===0?0:o+1}),i}const zP=D.createContext({editor:null});zP.Consumer;const _P=D.createContext({onDragStart:void 0}),BP=()=>D.useContext(_P);$t.forwardRef((n,e)=>{const{onDragStart:t}=BP(),r=n.as||"div";return $t.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const FP=/^\s*>\s$/,$P=Ut.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[xl({find:FP,type:this.type})]}}),HP=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,WP=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,VP=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,UP=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,qP=gr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ls({find:HP,type:this.type}),Ls({find:VP,type:this.type})]},addPasteRules(){return[Hi({find:WP,type:this.type}),Hi({find:UP,type:this.type})]}}),GP="listItem",Sx="textStyle",bx=/^\s*([-+*])\s$/,KP=Ut.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(GP,this.editor.getAttributes(Sx)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=xl({find:bx,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=xl({find:bx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Sx),editor:this.editor})),[n]}}),JP=/(^|[^`])`([^`]+)`(?!`)/,YP=/(^|[^`])`([^`]+)`(?!`)/g,XP=gr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ls({find:JP,type:this.type})]},addPasteRules(){return[Hi({find:YP,type:this.type})]}}),QP=/^```([a-z]+)?[\s\n]$/,ZP=/^~~~([a-z]+)?[\s\n]$/,eD=Ut.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,o=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(t)).map(a=>a.replace(t,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",kt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!o||!a?!1:n.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:o}=t;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const u=i.after();return u===void 0?!1:r.nodeAt(u)?n.commands.command(({tr:f})=>(f.setSelection(je.near(r.resolve(u))),!0)):n.commands.exitCode()}}},addInputRules(){return[wh({find:QP,type:this.type,getAttributes:n=>({language:n[1]})}),wh({find:ZP,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Ct({key:new nn("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!t||!o)return!1;const{tr:a,schema:u}=n.state,d=u.text(t.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:o},d)),a.selection.$from.parent.type!==this.type&&a.setSelection(Pe.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),n.dispatch(a),!0}}})]}}),tD=Ut.create({name:"doc",topNode:!0,content:"block+"});function nD(n={}){return new Ct({view(e){return new rD(e,n)}})}class rD{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=a=>{this[i](a)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r;if(t){let u=e.nodeBefore,d=e.nodeAfter;if(u||d){let f=this.editorView.nodeDOM(this.cursorPos-(u?u.nodeSize:0));if(f){let p=f.getBoundingClientRect(),m=u?p.bottom:p.top;u&&d&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:p.left,right:p.right,top:m-this.width/2,bottom:m+this.width/2}}}}if(!r){let u=this.editorView.coordsAtPos(this.cursorPos);r={left:u.left-this.width/2,right:u.left+this.width/2,top:u.top,bottom:u.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let o,a;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,a=-pageYOffset;else{let u=i.getBoundingClientRect();o=u.left-i.scrollLeft,a=u.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-a+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!o){let a=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=r1(this.editorView.state.doc,a,this.editorView.dragging.slice);u!=null&&(a=u)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const iD=zt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[nD(this.options)]}});class st extends je{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return st.valid(r)?new st(r):je.near(r)}content(){return le.empty}eq(e){return e instanceof st&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new st(e.resolve(t.pos))}getBookmark(){return new mp(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!sD(e)||!oD(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&st.valid(e))return e;let i=e.pos,o=null;for(let a=e.depth;;a--){let u=e.node(a);if(t>0?e.indexAfter(a)<u.childCount:e.index(a)>0){o=u.child(t>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=t;let d=e.doc.resolve(i);if(st.valid(d))return d}for(;;){let a=t>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!Ee.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*t),r=!1;continue e}break}o=a,i+=t;let u=e.doc.resolve(i);if(st.valid(u))return u}return null}}}st.prototype.visible=!1;st.findFrom=st.findGapCursorFrom;je.jsonID("gapcursor",st);class mp{constructor(e){this.pos=e}map(e){return new mp(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return st.valid(t)?new st(t):je.near(t)}}function sD(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function oD(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function lD(){return new Ct({props:{decorations:dD,createSelectionBetween(n,e,t){return e.pos==t.pos&&st.valid(t)?new st(t):null},handleClick:uD,handleKeyDown:aD,handleDOMEvents:{beforeinput:cD}}})}const aD=U1({ArrowLeft:Ua("horiz",-1),ArrowRight:Ua("horiz",1),ArrowUp:Ua("vert",-1),ArrowDown:Ua("vert",1)});function Ua(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let a=r.selection,u=e>0?a.$to:a.$from,d=a.empty;if(a instanceof Pe){if(!o.endOfTextblock(t)||u.depth==0)return!1;d=!1,u=r.doc.resolve(e>0?u.after():u.before())}let f=st.findGapCursorFrom(u,e,d);return f?(i&&i(r.tr.setSelection(new st(f))),!0):!1}}function uD(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!st.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&Ee.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new st(r))),!0)}function cD(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof st))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=Q.empty;for(let a=r.length-1;a>=0;a--)i=Q.from(r[a].createAndFill(null,i));let o=n.state.tr.replace(t.pos,t.pos,new le(i,0,0));return o.setSelection(Pe.near(o.doc.resolve(t.pos+1))),n.dispatch(o),!1}function dD(n){if(!(n.selection instanceof st))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",dt.create(n.doc,[cn.widget(n.selection.head,e,{key:"gapcursor"})])}const fD=zt.create({name:"gapCursor",addProseMirrorPlugins(){return[lD()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Ie(ge(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),hD=Ut.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",kt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:o}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:u}=r.extensionManager,d=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:p})=>{if(p&&d&&a){const m=d.filter(b=>u.includes(b.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),pD=Ut.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,kt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>wh({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var vu=200,St=function(){};St.prototype.append=function(e){return e.length?(e=St.from(e),!this.length&&e||e.length<vu&&this.leafAppend(e)||this.length<vu&&e.leafPrepend(this)||this.appendInner(e)):this};St.prototype.prepend=function(e){return e.length?St.from(e).append(this):this};St.prototype.appendInner=function(e){return new mD(this,e)};St.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?St.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};St.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};St.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};St.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,a){return i.push(e(o,a))},t,r),i};St.from=function(e){return e instanceof St?e:e&&e.length?new fw(e):St.empty};var fw=function(n){function e(r){n.call(this),this.values=r}e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,a,u){for(var d=o;d<a;d++)if(i(this.values[d],u+d)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,a,u){for(var d=o-1;d>=a;d--)if(i(this.values[d],u+d)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=vu)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=vu)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(St);St.empty=new fw([]);var mD=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return e.__proto__=n,e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,a){var u=this.left.length;if(i<u&&this.left.forEachInner(r,i,Math.min(o,u),a)===!1||o>u&&this.right.forEachInner(r,Math.max(i-u,0),Math.min(this.length,o)-u,a+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,a){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(r,i-u,Math.max(o,u)-u,a+u)===!1||o<u&&this.left.forEachInvertedInner(r,Math.min(i,u),o,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(St);const gD=500;class Pn{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;t&&(i=this.remapping(r,this.items.length),o=i.maps.length);let a=e.tr,u,d,f=[],p=[];return this.items.forEach((m,b)=>{if(!m.step){i||(i=this.remapping(r,b+1),o=i.maps.length),o--,p.push(m);return}if(i){p.push(new Wn(m.map));let w=m.step.map(i.slice(o)),x;w&&a.maybeStep(w).doc&&(x=a.mapping.maps[a.mapping.maps.length-1],f.push(new Wn(x,void 0,void 0,f.length+p.length))),o--,x&&i.appendMap(x,o)}else a.maybeStep(m.step);if(m.selection)return u=i?m.selection.map(i.slice(o)):m.selection,d=new Pn(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:a,selection:u}}addTransform(e,t,r,i){let o=[],a=this.eventCount,u=this.items,d=!i&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),b=new Wn(e.mapping.maps[p],m,t),w;(w=d&&d.merge(b))&&(b=w,p?o.pop():u=u.slice(0,u.length-1)),o.push(b),t&&(a++,t=void 0),i||(d=b)}let f=a-r.depth;return f>xD&&(u=yD(u,f),a-=f),new Pn(u.append(o),a)}remapping(e,t){let r=new Ns;return this.items.forEach((i,o)=>{let a=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,t),r}addMaps(e){return this.eventCount==0?this:new Pn(this.items.append(e.map(t=>new Wn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),o=e.mapping,a=e.steps.length,u=this.eventCount;this.items.forEach(b=>{b.selection&&u--},i);let d=t;this.items.forEach(b=>{let w=o.getMirror(--d);if(w==null)return;a=Math.min(a,w);let x=o.maps[w];if(b.step){let E=e.steps[w].invert(e.docs[w]),S=b.selection&&b.selection.map(o.slice(d+1,w));S&&u++,r.push(new Wn(x,E,S))}else r.push(new Wn(x))},i);let f=[];for(let b=t;b<a;b++)f.push(new Wn(o.maps[b]));let p=this.items.slice(0,i).append(f).append(r),m=new Pn(p,u);return m.emptyItemCount()>gD&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],o=0;return this.items.forEach((a,u)=>{if(u>=e)i.push(a),a.selection&&o++;else if(a.step){let d=a.step.map(t.slice(r)),f=d&&d.getMap();if(r--,f&&t.appendMap(f,r),d){let p=a.selection&&a.selection.map(t.slice(r));p&&o++;let m=new Wn(f.invert(),d,p),b,w=i.length-1;(b=i.length&&i[w].merge(m))?i[w]=b:i.push(m)}}else a.map&&r--},this.items.length,0),new Pn(St.from(i.reverse()),o)}}Pn.empty=new Pn(St.empty,0);function yD(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class Wn{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Wn(t.getMap().invert(),t,this.selection)}}}class Vr{constructor(e,t,r,i,o){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const xD=20;function vD(n,e,t,r){let i=t.getMeta(zi),o;if(i)return i.historyState;t.getMeta(bD)&&(n=new Vr(n.done,n.undone,null,0,-1));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(a&&a.getMeta(zi))return a.getMeta(zi).redo?new Vr(n.done.addTransform(t,void 0,r,tu(e)),n.undone,kx(t.mapping.maps),n.prevTime,n.prevComposition):new Vr(n.done,n.undone.addTransform(t,void 0,r,tu(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let u=t.getMeta("composition"),d=n.prevTime==0||!a&&n.prevComposition!=u&&(n.prevTime<(t.time||0)-r.newGroupDelay||!wD(t,n.prevRanges)),f=a?Ff(n.prevRanges,t.mapping):kx(t.mapping.maps);return new Vr(n.done.addTransform(t,d?e.selection.getBookmark():void 0,r,tu(e)),Pn.empty,f,t.time,u??n.prevComposition)}else return(o=t.getMeta("rebased"))?new Vr(n.done.rebased(t,o),n.undone.rebased(t,o),Ff(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Vr(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Ff(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function wD(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(t=!0)}),t}function kx(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,o,a)=>e.push(o,a));return e}function Ff(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),o=e.map(n[r+1],-1);i<=o&&t.push(i,o)}return t}function SD(n,e,t){let r=tu(e),i=zi.get(e).spec.config,o=(t?n.undone:n.done).popEvent(e,r);if(!o)return null;let a=o.selection.resolve(o.transform.doc),u=(t?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),d=new Vr(t?u:o.remaining,t?o.remaining:u,null,0,-1);return o.transform.setSelection(a).setMeta(zi,{redo:t,historyState:d})}let $f=!1,Cx=null;function tu(n){let e=n.plugins;if(Cx!=e){$f=!1,Cx=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){$f=!0;break}}return $f}const zi=new nn("history"),bD=new nn("closeHistory");function kD(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Ct({key:zi,state:{init(){return new Vr(Pn.empty,Pn.empty,null,0,-1)},apply(e,t,r){return vD(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?pw:r=="historyRedo"?mw:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function hw(n,e){return(t,r)=>{let i=zi.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let o=SD(i,t,n);o&&r(e?o.scrollIntoView():o)}return!0}}const pw=hw(!1,!0),mw=hw(!0,!0),CD=zt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>pw(n,e),redo:()=>({state:n,dispatch:e})=>mw(n,e)}},addProseMirrorPlugins(){return[kD(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),ED=Ut.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",kt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:i}=t,o=n();return r.parentOffset===0?o.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):HR(t)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:a,dispatch:u})=>{var d;if(u){const{$to:f}=a.selection,p=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?a.setSelection(Pe.create(a.doc,f.pos+1)):f.nodeAfter.isBlock?a.setSelection(Ee.create(a.doc,f.pos)):a.setSelection(Pe.create(a.doc,f.pos));else{const m=(d=f.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();m&&(a.insert(p,m),a.setSelection(Pe.create(a.doc,p+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[uw({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),ND=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,OD=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,MD=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,TD=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,RD=gr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ls({find:ND,type:this.type}),Ls({find:MD,type:this.type})]},addPasteRules(){return[Hi({find:OD,type:this.type}),Hi({find:TD,type:this.type})]}}),PD=Ut.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",kt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),DD="listItem",Ex="textStyle",Nx=/^(\d+)\.\s$/,jD=Ut.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",kt(this.options.HTMLAttributes,t),0]:["ol",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(DD,this.editor.getAttributes(Ex)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=xl({find:Nx,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=xl({find:Nx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Ex)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),AD=Ut.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),LD=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,ID=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,zD=gr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ls({find:LD,type:this.type})]},addPasteRules(){return[Hi({find:ID,type:this.type})]}}),_D=Ut.create({name:"text",group:"inline"}),BD=zt.create({name:"starterKit",addExtensions(){var n,e,t,r,i,o,a,u,d,f,p,m,b,w,x,E,S,v;const C=[];return this.options.bold!==!1&&C.push(qP.configure((n=this.options)===null||n===void 0?void 0:n.bold)),this.options.blockquote!==!1&&C.push($P.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&C.push(KP.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&C.push(XP.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&C.push(eD.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&C.push(tD.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&C.push(iD.configure((a=this.options)===null||a===void 0?void 0:a.dropcursor)),this.options.gapcursor!==!1&&C.push(fD.configure((u=this.options)===null||u===void 0?void 0:u.gapcursor)),this.options.hardBreak!==!1&&C.push(hD.configure((d=this.options)===null||d===void 0?void 0:d.hardBreak)),this.options.heading!==!1&&C.push(pD.configure((f=this.options)===null||f===void 0?void 0:f.heading)),this.options.history!==!1&&C.push(CD.configure((p=this.options)===null||p===void 0?void 0:p.history)),this.options.horizontalRule!==!1&&C.push(ED.configure((m=this.options)===null||m===void 0?void 0:m.horizontalRule)),this.options.italic!==!1&&C.push(RD.configure((b=this.options)===null||b===void 0?void 0:b.italic)),this.options.listItem!==!1&&C.push(PD.configure((w=this.options)===null||w===void 0?void 0:w.listItem)),this.options.orderedList!==!1&&C.push(jD.configure((x=this.options)===null||x===void 0?void 0:x.orderedList)),this.options.paragraph!==!1&&C.push(AD.configure((E=this.options)===null||E===void 0?void 0:E.paragraph)),this.options.strike!==!1&&C.push(zD.configure((S=this.options)===null||S===void 0?void 0:S.strike)),this.options.text!==!1&&C.push(_D.configure((v=this.options)===null||v===void 0?void 0:v.text)),C}}),FD=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,$D=Ut.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",kt(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[uw({find:FD,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}}),HD="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",WD="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Is=(n,e)=>{for(const t in e)n[t]=e[t];return n},bh="numeric",kh="ascii",Ch="alpha",rl="asciinumeric",Zo="alphanumeric",Eh="domain",gw="emoji",VD="scheme",UD="slashscheme",Hf="whitespace";function qD(n,e){return n in e||(e[n]=[]),e[n]}function Di(n,e,t){e[bh]&&(e[rl]=!0,e[Zo]=!0),e[kh]&&(e[rl]=!0,e[Ch]=!0),e[rl]&&(e[Zo]=!0),e[Ch]&&(e[Zo]=!0),e[Zo]&&(e[Eh]=!0),e[gw]&&(e[Eh]=!0);for(const r in e){const i=qD(r,t);i.indexOf(n)<0&&i.push(n)}}function GD(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function Zt(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}Zt.groups={};Zt.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(n))return o}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let i=0;i<n.length;i++)this.tt(n[i],e,t,r)},tr(n,e,t,r){r=r||Zt.groups;let i;return e&&e.j?i=e:(i=new Zt(e),t&&r&&Di(e,t,r)),this.jr.push([n,i]),i},ts(n,e,t,r){let i=this;const o=n.length;if(!o)return i;for(let a=0;a<o-1;a++)i=i.tt(n[a]);return i.tt(n[o-1],e,t,r)},tt(n,e,t,r){r=r||Zt.groups;const i=this;if(e&&e.j)return i.j[n]=e,e;const o=e;let a,u=i.go(n);if(u?(a=new Zt,Is(a.j,u.j),a.jr.push.apply(a.jr,u.jr),a.jd=u.jd,a.t=u.t):a=new Zt,o){if(r)if(a.t&&typeof a.t=="string"){const d=Is(GD(a.t,r),t);Di(o,d,r)}else t&&Di(o,t,r);a.t=o}return i.j[n]=a,a}};const Ae=(n,e,t,r,i)=>n.ta(e,t,r,i),it=(n,e,t,r,i)=>n.tr(e,t,r,i),Ox=(n,e,t,r,i)=>n.ts(e,t,r,i),ne=(n,e,t,r,i)=>n.tt(e,t,r,i),dr="WORD",Nh="UWORD",yw="ASCIINUMERICAL",xw="ALPHANUMERICAL",vl="LOCALHOST",Oh="TLD",Mh="UTLD",nu="SCHEME",Ss="SLASH_SCHEME",gp="NUM",Th="WS",yp="NL",il="OPENBRACE",sl="CLOSEBRACE",wu="OPENBRACKET",Su="CLOSEBRACKET",bu="OPENPAREN",ku="CLOSEPAREN",Cu="OPENANGLEBRACKET",Eu="CLOSEANGLEBRACKET",Nu="FULLWIDTHLEFTPAREN",Ou="FULLWIDTHRIGHTPAREN",Mu="LEFTCORNERBRACKET",Tu="RIGHTCORNERBRACKET",Ru="LEFTWHITECORNERBRACKET",Pu="RIGHTWHITECORNERBRACKET",Du="FULLWIDTHLESSTHAN",ju="FULLWIDTHGREATERTHAN",Au="AMPERSAND",xp="APOSTROPHE",Lu="ASTERISK",Ur="AT",Iu="BACKSLASH",zu="BACKTICK",_u="CARET",Gr="COLON",vp="COMMA",Bu="DOLLAR",Vn="DOT",Fu="EQUALS",wp="EXCLAMATION",vn="HYPHEN",ol="PERCENT",$u="PIPE",Hu="PLUS",Wu="POUND",ll="QUERY",Sp="QUOTE",vw="FULLWIDTHMIDDLEDOT",bp="SEMI",Un="SLASH",al="TILDE",Vu="UNDERSCORE",ww="EMOJI",Uu="SYM";var Sw=Object.freeze({__proto__:null,WORD:dr,UWORD:Nh,ASCIINUMERICAL:yw,ALPHANUMERICAL:xw,LOCALHOST:vl,TLD:Oh,UTLD:Mh,SCHEME:nu,SLASH_SCHEME:Ss,NUM:gp,WS:Th,NL:yp,OPENBRACE:il,CLOSEBRACE:sl,OPENBRACKET:wu,CLOSEBRACKET:Su,OPENPAREN:bu,CLOSEPAREN:ku,OPENANGLEBRACKET:Cu,CLOSEANGLEBRACKET:Eu,FULLWIDTHLEFTPAREN:Nu,FULLWIDTHRIGHTPAREN:Ou,LEFTCORNERBRACKET:Mu,RIGHTCORNERBRACKET:Tu,LEFTWHITECORNERBRACKET:Ru,RIGHTWHITECORNERBRACKET:Pu,FULLWIDTHLESSTHAN:Du,FULLWIDTHGREATERTHAN:ju,AMPERSAND:Au,APOSTROPHE:xp,ASTERISK:Lu,AT:Ur,BACKSLASH:Iu,BACKTICK:zu,CARET:_u,COLON:Gr,COMMA:vp,DOLLAR:Bu,DOT:Vn,EQUALS:Fu,EXCLAMATION:wp,HYPHEN:vn,PERCENT:ol,PIPE:$u,PLUS:Hu,POUND:Wu,QUERY:ll,QUOTE:Sp,FULLWIDTHMIDDLEDOT:vw,SEMI:bp,SLASH:Un,TILDE:al,UNDERSCORE:Vu,EMOJI:ww,SYM:Uu});const ur=/[a-z]/,Go=new RegExp("\\p{L}","u"),Wf=new RegExp("\\p{Emoji}","u"),cr=/\d/,Vf=/\s/,Mx="\r",Uf=`
`,KD="",JD="",qf="";let qa=null,Ga=null;function YD(n=[]){const e={};Zt.groups=e;const t=new Zt;qa==null&&(qa=Tx(HD)),Ga==null&&(Ga=Tx(WD)),ne(t,"'",xp),ne(t,"{",il),ne(t,"}",sl),ne(t,"[",wu),ne(t,"]",Su),ne(t,"(",bu),ne(t,")",ku),ne(t,"<",Cu),ne(t,">",Eu),ne(t,"",Nu),ne(t,"",Ou),ne(t,"",Mu),ne(t,"",Tu),ne(t,"",Ru),ne(t,"",Pu),ne(t,"",Du),ne(t,"",ju),ne(t,"&",Au),ne(t,"*",Lu),ne(t,"@",Ur),ne(t,"`",zu),ne(t,"^",_u),ne(t,":",Gr),ne(t,",",vp),ne(t,"$",Bu),ne(t,".",Vn),ne(t,"=",Fu),ne(t,"!",wp),ne(t,"-",vn),ne(t,"%",ol),ne(t,"|",$u),ne(t,"+",Hu),ne(t,"#",Wu),ne(t,"?",ll),ne(t,'"',Sp),ne(t,"/",Un),ne(t,";",bp),ne(t,"~",al),ne(t,"_",Vu),ne(t,"\\",Iu),ne(t,"",vw);const r=it(t,cr,gp,{[bh]:!0});it(r,cr,r);const i=it(r,ur,yw,{[rl]:!0}),o=it(r,Go,xw,{[Zo]:!0}),a=it(t,ur,dr,{[kh]:!0});it(a,cr,i),it(a,ur,a),it(i,cr,i),it(i,ur,i);const u=it(t,Go,Nh,{[Ch]:!0});it(u,ur),it(u,cr,o),it(u,Go,u),it(o,cr,o),it(o,ur),it(o,Go,o);const d=ne(t,Uf,yp,{[Hf]:!0}),f=ne(t,Mx,Th,{[Hf]:!0}),p=it(t,Vf,Th,{[Hf]:!0});ne(t,qf,p),ne(f,Uf,d),ne(f,qf,p),it(f,Vf,p),ne(p,Mx),ne(p,Uf),it(p,Vf,p),ne(p,qf,p);const m=it(t,Wf,ww,{[gw]:!0});ne(m,"#"),it(m,Wf,m),ne(m,KD,m);const b=ne(m,JD);ne(b,"#"),it(b,Wf,m);const w=[[ur,a],[cr,i]],x=[[ur,null],[Go,u],[cr,o]];for(let E=0;E<qa.length;E++)$r(t,qa[E],Oh,dr,w);for(let E=0;E<Ga.length;E++)$r(t,Ga[E],Mh,Nh,x);Di(Oh,{tld:!0,ascii:!0},e),Di(Mh,{utld:!0,alpha:!0},e),$r(t,"file",nu,dr,w),$r(t,"mailto",nu,dr,w),$r(t,"http",Ss,dr,w),$r(t,"https",Ss,dr,w),$r(t,"ftp",Ss,dr,w),$r(t,"ftps",Ss,dr,w),Di(nu,{scheme:!0,ascii:!0},e),Di(Ss,{slashscheme:!0,ascii:!0},e),n=n.sort((E,S)=>E[0]>S[0]?1:-1);for(let E=0;E<n.length;E++){const S=n[E][0],C=n[E][1]?{[VD]:!0}:{[UD]:!0};S.indexOf("-")>=0?C[Eh]=!0:ur.test(S)?cr.test(S)?C[rl]=!0:C[kh]=!0:C[bh]=!0,Ox(t,S,S,C)}return Ox(t,"localhost",vl,{ascii:!0}),t.jd=new Zt(Uu),{start:t,tokens:Is({groups:e},Sw)}}function bw(n,e){const t=XD(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=t.length,i=[];let o=0,a=0;for(;a<r;){let u=n,d=null,f=0,p=null,m=-1,b=-1;for(;a<r&&(d=u.go(t[a]));)u=d,u.accepts()?(m=0,b=0,p=u):m>=0&&(m+=t[a].length,b++),f+=t[a].length,o+=t[a].length,a++;o-=m,a-=b,f-=m,i.push({t:p.t,v:e.slice(o-f,o),s:o-f,e:o})}return i}function XD(n){const e=[],t=n.length;let r=0;for(;r<t;){let i=n.charCodeAt(r),o,a=i<55296||i>56319||r+1===t||(o=n.charCodeAt(r+1))<56320||o>57343?n[r]:n.slice(r,r+2);e.push(a),r+=a.length}return e}function $r(n,e,t,r,i){let o;const a=e.length;for(let u=0;u<a-1;u++){const d=e[u];n.j[d]?o=n.j[d]:(o=new Zt(r),o.jr=i.slice(),n.j[d]=o),n=o}return o=new Zt(t),o.jr=i.slice(),n.j[e[a-1]]=o,o}function Tx(n){const e=[],t=[];let r=0,i="0123456789";for(;r<n.length;){let o=0;for(;i.indexOf(n[r+o])>=0;)o++;if(o>0){e.push(t.join(""));for(let a=parseInt(n.substring(r,r+o),10);a>0;a--)t.pop();r+=o}else t.push(n[r]),r++}return e}const wl={defaultProtocol:"http",events:null,format:Rx,formatHref:Rx,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function kp(n,e=null){let t=Is({},wl);n&&(t=Is(t,n instanceof kp?n.o:n));const r=t.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}kp.prototype={o:wl,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let i=this.o[n];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:wl[n],typeof i=="function"&&r&&(i=i(e,t))):typeof i=="function"&&r&&(i=i(e,t.t,t)),i)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function Rx(n){return n}function kw(n,e){this.t="token",this.v=n,this.tk=e}kw.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=wl.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),i=n.get("tagName",t,e),o=this.toFormattedString(n),a={},u=n.get("className",t,e),d=n.get("target",t,e),f=n.get("rel",t,e),p=n.getObj("attributes",t,e),m=n.getObj("events",t,e);return a.href=r,u&&(a.class=u),d&&(a.target=d),f&&(a.rel=f),p&&Is(a,p),{tagName:i,attributes:a,content:o,eventListeners:m}}};function gc(n,e){class t extends kw{constructor(i,o){super(i,o),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const Px=gc("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Dx=gc("text"),QD=gc("nl"),Ka=gc("url",{isLink:!0,toHref(n=wl.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==vl&&n[1].t===Gr}}),xn=n=>new Zt(n);function ZD({groups:n}){const e=n.domain.concat([Au,Lu,Ur,Iu,zu,_u,Bu,Fu,vn,gp,ol,$u,Hu,Wu,Un,Uu,al,Vu]),t=[Gr,vp,Vn,wp,ol,ll,Sp,bp,Cu,Eu,il,sl,Su,wu,bu,ku,Nu,Ou,Mu,Tu,Ru,Pu,Du,ju],r=[Au,xp,Lu,Iu,zu,_u,Bu,Fu,vn,il,sl,ol,$u,Hu,Wu,ll,Un,Uu,al,Vu],i=xn(),o=ne(i,al);Ae(o,r,o),Ae(o,n.domain,o);const a=xn(),u=xn(),d=xn();Ae(i,n.domain,a),Ae(i,n.scheme,u),Ae(i,n.slashscheme,d),Ae(a,r,o),Ae(a,n.domain,a);const f=ne(a,Ur);ne(o,Ur,f),ne(u,Ur,f),ne(d,Ur,f);const p=ne(o,Vn);Ae(p,r,o),Ae(p,n.domain,o);const m=xn();Ae(f,n.domain,m),Ae(m,n.domain,m);const b=ne(m,Vn);Ae(b,n.domain,m);const w=xn(Px);Ae(b,n.tld,w),Ae(b,n.utld,w),ne(f,vl,w);const x=ne(m,vn);ne(x,vn,x),Ae(x,n.domain,m),Ae(w,n.domain,m),ne(w,Vn,b),ne(w,vn,x);const E=ne(w,Gr);Ae(E,n.numeric,Px);const S=ne(a,vn),v=ne(a,Vn);ne(S,vn,S),Ae(S,n.domain,a),Ae(v,r,o),Ae(v,n.domain,a);const C=xn(Ka);Ae(v,n.tld,C),Ae(v,n.utld,C),Ae(C,n.domain,a),Ae(C,r,o),ne(C,Vn,v),ne(C,vn,S),ne(C,Ur,f);const N=ne(C,Gr),T=xn(Ka);Ae(N,n.numeric,T);const M=xn(Ka),P=xn();Ae(M,e,M),Ae(M,t,P),Ae(P,e,M),Ae(P,t,P),ne(C,Un,M),ne(T,Un,M);const R=ne(u,Gr),A=ne(d,Gr),L=ne(A,Un),q=ne(L,Un);Ae(u,n.domain,a),ne(u,Vn,v),ne(u,vn,S),Ae(d,n.domain,a),ne(d,Vn,v),ne(d,vn,S),Ae(R,n.domain,M),ne(R,Un,M),ne(R,ll,M),Ae(q,n.domain,M),Ae(q,e,M),ne(q,Un,M);const J=[[il,sl],[wu,Su],[bu,ku],[Cu,Eu],[Nu,Ou],[Mu,Tu],[Ru,Pu],[Du,ju]];for(let U=0;U<J.length;U++){const[ce,fe]=J[U],be=ne(M,ce);ne(P,ce,be),ne(be,fe,M);const pe=xn(Ka);Ae(be,e,pe);const de=xn();Ae(be,t),Ae(pe,e,pe),Ae(pe,t,de),Ae(de,e,pe),Ae(de,t,de),ne(pe,fe,M),ne(de,fe,M)}return ne(i,vl,C),ne(i,yp,QD),{start:i,tokens:Sw}}function ej(n,e,t){let r=t.length,i=0,o=[],a=[];for(;i<r;){let u=n,d=null,f=null,p=0,m=null,b=-1;for(;i<r&&!(d=u.go(t[i].t));)a.push(t[i++]);for(;i<r&&(f=d||u.go(t[i].t));)d=null,u=f,u.accepts()?(b=0,m=u):b>=0&&b++,i++,p++;if(b<0)i-=p,i<r&&(a.push(t[i]),i++);else{a.length>0&&(o.push(Gf(Dx,e,a)),a=[]),i-=b,p-=b;const w=m.t,x=t.slice(i-p,i);o.push(Gf(w,e,x))}}return a.length>0&&o.push(Gf(Dx,e,a)),o}function Gf(n,e,t){const r=t[0].s,i=t[t.length-1].e,o=e.slice(r,i);return new n(o,t)}const tj=typeof console<"u"&&console&&console.warn||(()=>{}),nj="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Qe={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function rj(){return Zt.groups={},Qe.scanner=null,Qe.parser=null,Qe.tokenQueue=[],Qe.pluginQueue=[],Qe.customSchemes=[],Qe.initialized=!1,Qe}function jx(n,e=!1){if(Qe.initialized&&tj(`linkifyjs: already initialized - will not register custom scheme "${n}" ${nj}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Qe.customSchemes.push([n,e])}function ij(){Qe.scanner=YD(Qe.customSchemes);for(let n=0;n<Qe.tokenQueue.length;n++)Qe.tokenQueue[n][1]({scanner:Qe.scanner});Qe.parser=ZD(Qe.scanner.tokens);for(let n=0;n<Qe.pluginQueue.length;n++)Qe.pluginQueue[n][1]({scanner:Qe.scanner,parser:Qe.parser});return Qe.initialized=!0,Qe}function Cp(n){return Qe.initialized||ij(),ej(Qe.parser.start,n,bw(Qe.scanner.start,n))}Cp.scan=bw;function Cw(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new kp(t),i=Cp(n),o=[];for(let a=0;a<i.length;a++){const u=i[a];u.isLink&&(!e||u.t===e)&&r.check(u)&&o.push(u.toFormattedObject(r))}return o}function sj(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function oj(n){return new Ct({key:new nn("autolink"),appendTransaction:(e,t,r)=>{const i=e.some(f=>f.docChanged)&&!t.doc.eq(r.doc),o=e.some(f=>f.getMeta("preventAutolink"));if(!i||o)return;const{tr:a}=r,u=DR(t.doc,[...e]);if(FR(u).forEach(({newRange:f})=>{const p=AR(r.doc,f,w=>w.isTextblock);let m,b;if(p.length>1?(m=p[0],b=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ")):p.length&&r.doc.textBetween(f.from,f.to," "," ").endsWith(" ")&&(m=p[0],b=r.doc.textBetween(m.pos,f.to,void 0," ")),m&&b){const w=b.split(" ").filter(v=>v!=="");if(w.length<=0)return!1;const x=w[w.length-1],E=m.pos+b.lastIndexOf(x);if(!x)return!1;const S=Cp(x).map(v=>v.toObject(n.defaultProtocol));if(!sj(S))return!1;S.filter(v=>v.isLink).map(v=>({...v,from:E+v.start+1,to:E+v.end+1})).filter(v=>r.schema.marks.code?!r.doc.rangeHasMark(v.from,v.to,r.schema.marks.code):!0).filter(v=>n.validate(v.value)).filter(v=>n.shouldAutoLink(v.value)).forEach(v=>{fp(v.from,v.to,r.doc).some(C=>C.mark.type===n.type)||a.addMark(v.from,v.to,n.type.create({href:v.href}))})}}),!!a.steps.length)return a}})}function lj(n){return new Ct({key:new nn("handleClickLink"),props:{handleClick:(e,t,r)=>{var i,o;if(r.button!==0||!e.editable)return!1;let a=r.target;const u=[];for(;a.nodeName!=="DIV";)u.push(a),a=a.parentNode;if(!u.find(b=>b.nodeName==="A"))return!1;const d=aw(e.state,n.type.name),f=r.target,p=(i=f==null?void 0:f.href)!==null&&i!==void 0?i:d.href,m=(o=f==null?void 0:f.target)!==null&&o!==void 0?o:d.target;return f&&p?(window.open(p,m),!0):!1}}})}function aj(n){return new Ct({key:new nn("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:i}=e,{selection:o}=i,{empty:a}=o;if(a)return!1;let u="";r.content.forEach(f=>{u+=f.textContent});const d=Cw(u,{defaultProtocol:n.defaultProtocol}).find(f=>f.isLink&&f.value===u);return!u||!d?!1:n.editor.commands.setMark(n.type,{href:d.href})}}})}const uj=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Ni(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&t.push(i)}),!n||n.replace(uj,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const cj=gr.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){jx(n);return}jx(n.scheme,n.optionalSlashes)})},onDestroy(){rj()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!Ni(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Ni(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!Ni(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",kt(this.options.HTMLAttributes,n),0]:["a",kt(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Ni(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Ni(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Hi({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,i=Cw(n).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:a=>!!Ni(a,t),protocols:t,defaultProtocol:r}));i.length&&i.forEach(o=>e.push({text:o.value,data:{href:o.href},index:o.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(oj({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Ni(i,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(lj({type:this.type})),this.options.linkOnPaste&&n.push(aj({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),dj=zt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ct({key:new nn("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!t)return null;const o=this.editor.isEmpty;return n.descendants((a,u)=>{const d=r>=u&&r<=u+a.nodeSize,f=!a.isLeaf&&mc(a);if((d||!this.options.showOnlyCurrent)&&f){const p=[this.options.emptyNodeClass];o&&p.push(this.options.emptyEditorClass);const m=cn.node(u,u+a.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:u,hasAnchor:d}):this.options.placeholder});i.push(m)}return this.options.includeChildren}),dt.create(n,i)}}})]}});function fj({editor:n}){if(!n)return null;const e=()=>{const r=window.prompt("Enter the URL");r&&n.chain().focus().setLink({href:r}).run()};function t({onClick:r,isActive:i,disabled:o,icon:a,title:u}){return y.jsx("button",{onClick:r,disabled:o,className:`
          p-2 rounded transition-colors
          ${i?"bg-emerald-100 text-emerald-800":"hover:bg-gray-100"}
          ${o?"opacity-50 cursor-not-allowed":""}
        `,title:u,children:y.jsx(a,{size:18})})}return y.jsxs("div",{className:"border-b border-gray-200 p-2 flex flex-wrap gap-1",children:[y.jsx(t,{onClick:()=>n.chain().focus().toggleBold().run(),isActive:n.isActive("bold"),icon:wC,title:"Bold"}),y.jsx(t,{onClick:()=>n.chain().focus().toggleItalic().run(),isActive:n.isActive("italic"),icon:qC,title:"Italic"}),y.jsx(t,{onClick:()=>n.chain().focus().toggleStrike().run(),isActive:n.isActive("strike"),icon:gE,title:"Strike"}),y.jsx(t,{onClick:()=>n.chain().focus().toggleHeading({level:1}).run(),isActive:n.isActive("heading",{level:1}),icon:_C,title:"Heading 1"}),y.jsx(t,{onClick:()=>n.chain().focus().toggleHeading({level:2}).run(),isActive:n.isActive("heading",{level:2}),icon:FC,title:"Heading 2"}),y.jsx(t,{onClick:()=>n.chain().focus().toggleBulletList().run(),isActive:n.isActive("bulletList"),icon:QC,title:"Bullet List"}),y.jsx(t,{onClick:()=>n.chain().focus().toggleOrderedList().run(),isActive:n.isActive("orderedList"),icon:YC,title:"Ordered List"}),y.jsx(t,{onClick:()=>n.chain().focus().toggleBlockquote().run(),isActive:n.isActive("blockquote"),icon:oE,title:"Quote"}),y.jsx(t,{onClick:e,isActive:n.isActive("link"),icon:KC,title:"Add Link"}),y.jsxs("label",{className:"p-2 rounded hover:bg-gray-100 cursor-pointer flex items-center",children:[y.jsx(VC,{size:18}),y.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async r=>{var o;const i=(o=r.target.files)==null?void 0:o[0];if(i){const a=new FormData;a.append("image",i);try{const u=await fetch("/api/blog/upload-image",{method:"POST",body:a,headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!u.ok)throw new Error("Failed to upload image");const d=await u.json();if(!d.url)throw new Error("Invalid response from server");const f=d.url.startsWith("http")?d.url:`${window.location.origin}${d.url}`;n.chain().focus().setImage({src:f}).run()}catch(u){console.error("Failed to upload image:",u),alert("Failed to upload image. Please try again.")}}}})]}),y.jsx(t,{onClick:()=>n.chain().focus().undo().run(),disabled:!n.can().chain().focus().undo().run(),icon:wE,title:"Undo"}),y.jsx(t,{onClick:()=>n.chain().focus().redo().run(),disabled:!n.can().chain().focus().redo().run(),icon:aE,title:"Redo"})]})}function Ew({content:n,onChange:e}){const t=IP({extensions:[BD,$D.configure({inline:!0,allowBase64:!0,HTMLAttributes:{class:"blog-image"}}),cj.configure({openOnClick:!1}),dj.configure({placeholder:"Write your blog post content here..."})],content:n,onUpdate:({editor:r})=>{e(r.getHTML())}});return y.jsxs("div",{className:"border rounded-lg overflow-hidden bg-white/80",children:[y.jsx(fj,{editor:t}),y.jsx(NP,{editor:t,className:"prose max-w-none p-4 min-h-[400px] focus:outline-none"})]})}const hj=["Music News","Artist Spotlight","General","Reviews","Tutorials"];function pj(){const n=In(),e=Jn(),[t,r]=D.useState({title:"",content:"",category:"Music News",tags:"",summary:"",status:"draft",imageUrl:""}),[i,o]=D.useState(""),[a,u]=D.useState(""),[d,f]=D.useState(!0),[p,m]=D.useState(!1);D.useEffect(()=>{const S=localStorage.getItem("blogDraft");if(S)try{r(JSON.parse(S))}catch{localStorage.removeItem("blogDraft")}},[]),D.useEffect(()=>{let S,v;return d&&!p&&(S=setTimeout(()=>{localStorage.setItem("blogDraft",JSON.stringify(t)),u("Draft auto-saved"),v=setTimeout(()=>{u("")},2e3)},3e4)),()=>{clearTimeout(S),clearTimeout(v)}},[t,d,p]);const b=S=>{const{name:v,value:C}=S.target;r(N=>({...N,[v]:C}))},w=S=>{r(v=>({...v,content:S}))},x=async S=>{var v,C;S.preventDefault();try{o(""),m(!0);const N={title:"Title is required",content:"Content is required",summary:"Summary is required",category:"Category is required"};for(const[M,P]of Object.entries(N))if(!((v=t[M])!=null&&v.trim())){o(P);return}if(t.content.length<100){o("Content must be at least 100 characters long");return}if(t.summary.length>200){o("Summary must not exceed 200 characters");return}const T={...t,status:"published",tags:t.tags.split(",").map(M=>M.trim()).filter(Boolean),imageUrl:((C=t.imageUrl)==null?void 0:C.trim())||""};await c0(T),localStorage.removeItem("blogDraft"),u("Blog post published successfully!"),setTimeout(()=>{n("/blog")},1500)}catch(N){N.status===413?o("Image file size is too large. Please use a smaller image."):N.status===401?(o("Your session has expired. Please log in again."),n("/login",{state:{from:e.pathname}})):o(N.message||"Failed to publish blog post. Please try again.")}finally{m(!1)}},E=async()=>{var S;try{o(""),m(!0);const v={...t,status:"draft",tags:t.tags.split(",").map(C=>C.trim()).filter(Boolean),imageUrl:((S=t.imageUrl)==null?void 0:S.trim())||""};await c0(v),localStorage.setItem("blogDraft",JSON.stringify(v)),u("Draft saved successfully"),setTimeout(()=>{u("")},3e3)}catch(v){o(v.message||"Failed to save draft")}finally{m(!1)}};return y.jsx("div",{className:"min-h-screen bg-[#98e4d3] p-6",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsxs("div",{className:"bg-[#d4e7aa]/70 rounded-2xl p-8",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Create Blog Post"}),a&&y.jsx("div",{className:"text-sm text-green-600 bg-green-50/80 px-3 py-1 rounded",children:a})]}),i&&y.jsx("div",{className:"mb-6 p-4 bg-red-100/80 text-red-700 rounded-lg",children:i}),y.jsxs("form",{onSubmit:x,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Title *"}),y.jsx("input",{type:"text",name:"title",value:t.title,onChange:b,className:"w-full p-3 bg-white/60 border border-gray-200 rounded-lg",disabled:p})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Category *"}),y.jsx("select",{name:"category",value:t.category,onChange:b,className:"w-full p-3 bg-white/60 border border-gray-200 rounded-lg",disabled:p,children:hj.map(S=>y.jsx("option",{value:S,children:S},S))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Tags (comma-separated)"}),y.jsx("input",{type:"text",name:"tags",value:t.tags,onChange:b,placeholder:"e.g., rock, album review, new release",className:"w-full p-3 bg-white/60 border border-gray-200 rounded-lg",disabled:p})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Summary *"}),y.jsx("textarea",{name:"summary",value:t.summary,onChange:b,rows:"4",className:"w-full p-3 bg-white/60 border border-gray-200 rounded-lg",disabled:p})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"checkbox",id:"autosave",checked:d,onChange:S=>f(S.target.checked),className:"rounded text-[#98e4d3]",disabled:p}),y.jsx("label",{htmlFor:"autosave",className:"text-sm text-gray-600",children:"Enable autosave"})]})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Content *"}),y.jsx(Ew,{content:t.content,onChange:w})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Featured Image URL"}),y.jsx("input",{type:"text",name:"imageUrl",value:t.imageUrl,onChange:b,className:"w-full p-3 bg-white/60 border border-gray-200 rounded-lg",disabled:p})]})]})]}),y.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[y.jsx("button",{type:"button",onClick:()=>n("/blog"),className:"px-6 py-2 bg-white/60 border border-gray-200 rounded-lg hover:bg-gray-50",disabled:p,children:"Cancel"}),y.jsx("button",{type:"button",onClick:E,className:"px-6 py-2 bg-white/60 border border-[#98e4d3] text-[#2c7566] rounded-lg hover:bg-[#98e4d3]/20",disabled:p,children:p?"Saving...":"Save Draft"}),y.jsx("button",{type:"submit",className:"px-6 py-2 bg-[#98e4d3] text-white rounded-lg hover:bg-[#7fcebe] disabled:opacity-50 disabled:cursor-not-allowed",disabled:p,children:p?"Publishing...":"Publish"})]})]})]})})})}function mj(){const[n,e]=D.useState({title:"",content:"",category:"Music News",tags:"",summary:"",status:"draft",image:null}),[t,r]=D.useState(""),[i,o]=D.useState(!1),{id:a}=Wx(),u=In();D.useEffect(()=>{async function w(){try{const x=await Tv(a);e({title:x.title,content:x.content,category:x.category,tags:x.tags.join(", "),summary:x.summary,status:x.status})}catch(x){console.error("Error fetching blog:",x),r("Failed to load blog post")}}w()},[a]);const d=w=>{const{name:x,value:E,files:S}=w.target;e(v=>({...v,[x]:S?S[0]:E}))},f=w=>{e(x=>({...x,content:w}))},p=()=>{var w,x,E;return(w=n.title)!=null&&w.trim()?(x=n.content)!=null&&x.trim()?(E=n.summary)!=null&&E.trim()?n.category?!0:(r("Category is required"),!1):(r("Summary is required"),!1):(r("Content is required"),!1):(r("Title is required"),!1)},m=async w=>{w.preventDefault();try{if(r(""),!p())return;o(!0);const x={...n,tags:n.tags.split(",").map(E=>E.trim()).filter(Boolean)};await Rv(a,x),u("/blog")}catch(x){console.error("Failed to update blog post:",x),r(x.message||"Failed to update blog post")}finally{o(!1)}},b=["Music News","Artist Spotlight","Industry Trends","Reviews","Tutorials"];return t?y.jsx("div",{className:"p-4",children:y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:t})}):y.jsx("div",{className:"min-h-screen bg-[#98e4d3] p-6",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsxs("div",{className:"bg-[#d4e7aa]/70 rounded-2xl p-8",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Edit Blog Post"}),y.jsxs("form",{onSubmit:m,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Title *"}),y.jsx("input",{type:"text",name:"title",value:n.title,onChange:d,className:"w-full p-3 bg-white/60 border border-gray-200 rounded-lg",required:!0,disabled:i})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Category *"}),y.jsx("select",{name:"category",value:n.category,onChange:d,className:"w-full p-3 bg-white/60 border border-gray-200 rounded-lg",disabled:i,children:b.map(w=>y.jsx("option",{value:w,children:w},w))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Tags (comma-separated)"}),y.jsx("input",{type:"text",name:"tags",value:n.tags,onChange:d,className:"w-full p-3 bg-white/60 border border-gray-200 rounded-lg",disabled:i})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Summary *"}),y.jsx("textarea",{name:"summary",value:n.summary,onChange:d,rows:"4",className:"w-full p-3 bg-white/60 border border-gray-200 rounded-lg",required:!0,disabled:i})]})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Content *"}),y.jsx(Ew,{content:n.content,onChange:f})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"New Featured Image"}),y.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:d,className:"w-full p-3 bg-white/60 border border-gray-200 rounded-lg",disabled:i})]})]})]}),y.jsxs("div",{className:"flex justify-end space-x-4",children:[y.jsx("button",{type:"button",onClick:()=>u("/blog"),className:"px-6 py-2 bg-white/60 border border-gray-200 rounded-lg",disabled:i,children:"Cancel"}),y.jsx("button",{type:"submit",className:"px-6 py-2 bg-[#98e4d3] text-white rounded-lg hover:bg-[#7fcebe]",disabled:i,children:i?"Saving...":"Save Changes"})]})]})]})})})}function gj(){var d;const n=Jn(),[e,t]=D.useState(()=>{const f=localStorage.getItem("token"),p=localStorage.getItem("user");if(f&&p)try{return JSON.parse(p)}catch{return localStorage.removeItem("token"),localStorage.removeItem("user"),null}return null}),[r,i]=D.useState({connected:!1,checking:!0}),o=async()=>{try{if(!e){i({connected:!1,checking:!1});return}const f=await Xx();console.log("Spotify status check result:",f),i({connected:f.connected,checking:!1,userId:f.userId})}catch(f){console.error("Error checking Spotify status:",f),i({connected:!1,checking:!1,error:f.message})}};D.useEffect(()=>{e&&o()},[e]);const a=f=>{f?localStorage.setItem("user",JSON.stringify(f)):localStorage.removeItem("user"),t(f)},u=f=>e?f:y.jsx(jo,{to:"/login",state:{from:n.pathname},replace:!0});return y.jsxs("main",{className:"App",children:[y.jsx(iC,{user:e,setUser:a}),y.jsxs(xk,{children:[y.jsx(an,{path:"/",element:y.jsx(EE,{})}),y.jsx(an,{path:"/signup",element:e?y.jsx(jo,{to:"/dashboard",replace:!0}):y.jsx(NE,{setUser:a})}),y.jsx(an,{path:"/login",element:e?y.jsx(jo,{to:((d=n.state)==null?void 0:d.from)||"/dashboard",replace:!0}):y.jsx(OE,{setUser:a})}),y.jsx(an,{path:"/dashboard",element:u(y.jsx(aO,{spotifyStatus:r,onSpotifyUpdate:o,user:e}))}),y.jsx(an,{path:"/profile",element:u(y.jsx(mO,{user:e}))}),y.jsx(an,{path:"/blog",element:y.jsx(gO,{})}),y.jsx(an,{path:"/blog/create",element:y.jsx(pj,{})}),y.jsx(an,{path:"/blog/:id/edit",element:y.jsx(mj,{})}),y.jsx(an,{path:"/blog/:id",element:y.jsx(yO,{})}),y.jsx(an,{path:"/admin/weekly-playlist",element:u(y.jsx(aC,{}))}),y.jsx(an,{path:"/spotify/callback",element:u(y.jsx(sC,{onSuccess:o,user:e}))}),y.jsx(an,{path:"*",element:e?y.jsx(jo,{to:"/dashboard",replace:!0}):y.jsx(jo,{to:"/login",state:{from:n.pathname},replace:!0})})]})]})}Mb.createRoot(document.getElementById("root")).render(y.jsx(D.StrictMode,{children:y.jsx(Hk,{children:y.jsx(gj,{})})}));
